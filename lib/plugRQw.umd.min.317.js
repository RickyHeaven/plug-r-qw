"use strict";(("undefined"!==typeof self?self:this)["webpackChunkplugRQw"]=("undefined"!==typeof self?self:this)["webpackChunkplugRQw"]||[]).push([[317],{317:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tablePrintModal",class:[{printing:t.printing},t.customClass],on:{click:t.wallClick}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.disabled,expression:"disabled"}],staticClass:"msgL"},[t._v(t._s(t.t("r.printGuide.9")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled,expression:"!disabled"}],staticClass:"a4Line aL"},[t._v(t._s(t.t("r.printGuide.7")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.disabled,expression:"!disabled"}],staticClass:"a4Line bL"},[t._v(t._s(t.t("r.printGuide.8")))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.printing&&!t.disabled,expression:"!printing&&!disabled"}],staticClass:"topsL"},[e("div",{staticClass:"topsLTitle"},[t._v(t._s(t.title||t.t("r.print")))]),e("div",{staticClass:"topsLBtn"},[e("icon-txt-btn",{attrs:{icon:"md-help-circle",name:t.t("r.help")},on:{click:function(e){e.stopPropagation(),t.help=!t.help}}}),e("icon-txt-btn",{attrs:{icon:"md-print",name:t.t("r.preview")},on:{click:t.print}}),e("table-setting",{attrs:{"s-key":t.sKey,storage:"sessionStorage"},model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}}),e("tableIconBtn",{attrs:{icon:"md-close",title:t.t("r.close")},on:{click:t.close}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.help,expression:"help"}],staticClass:"topsLHelp"},[e("p",[t._v(t._s(t.t("r.printGuide.1")))]),e("p",[t._v(t._s(t.t("r.printGuide.2")))]),e("p",[t._v(t._s(t.t("r.printGuide.3")))]),e("p",[t._v(t._s(t.t("r.printGuide.4")))])])]),e("Table",{directives:[{name:"show",rawName:"v-show",value:!t.disabled,expression:"!disabled"}],attrs:{columns:t.columns,data:t.data,border:""}})],1)},n=[],a=s(227),o=s(564),l=s(424),r=s(648),d={name:"printModal",mixins:[a.Z],components:{iconTxtBtn:l.Z,tableIconBtn:r.Z,tableSetting:o.Z},data(){return{title:"",disabled:!1,printing:!1,help:!1,isFrom:"",sKey:"tablePrint_"+Date.now().toString(),customClass:"",columns:[],data:[]}},beforeRouteEnter(t,e,s){s((t=>{if(t.$data.isFrom=t?.$route?.params?.isFrom,!t.$data.isFrom)return;const e="print_"+t.$data.isFrom;let s=window.sessionStorage.getItem(e);if(!s)return void(t.$data.disabled=!0);const{columns:i,data:n,title:a,config:o}=JSON.parse(s);t.$data.columns=i,t.$data.data=n,t.$data.title=a,t.$data.customClass=o?.customClass,document.title=(a||t.$t("r.print"))+"_"+(new Date).toLocaleString()}))},methods:{close(){this.printing&&(this.printing=!1),this.isFrom&&window.sessionStorage.removeItem("print_"+this.isFrom),window.sessionStorage.removeItem(this.sKey),window.close()},wallClick(){this.help&&(this.help=!1)},print(){this.printing=!0,this.help=!1;let t=window.setTimeout((()=>{window.clearTimeout(t),window.print();let e=setTimeout((()=>{window.clearTimeout(e),this.printing=!1}),10)}),100)}}},c=d,p=s(796),u=(0,p.Z)(c,i,n,!1,null,null,null),m=u.exports}}]);
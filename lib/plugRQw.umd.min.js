(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("@wangeditor/editor"),require("@wangeditor/editor-for-vue"),require("vue-json-viewer"),require("view-design"),require("vue"),require("vue-amap"),require("lodash"),require("ar-cascader"),require("axios"),require("echarts"),require("moment"),require("sweetalert"),require("wangeditor"),require("xss")):"function"===typeof define&&define.amd?define(["@wangeditor/editor","@wangeditor/editor-for-vue","vue-json-viewer","view-design","vue","vue-amap","lodash","ar-cascader","axios","echarts","moment","sweetalert","wangeditor","xss"],t):"object"===typeof exports?exports["plugRQw"]=t(require("@wangeditor/editor"),require("@wangeditor/editor-for-vue"),require("vue-json-viewer"),require("view-design"),require("vue"),require("vue-amap"),require("lodash"),require("ar-cascader"),require("axios"),require("echarts"),require("moment"),require("sweetalert"),require("wangeditor"),require("xss")):e["plugRQw"]=t(e["@wangeditor/editor"],e["@wangeditor/editor-for-vue"],e["JsonView"],e["ViewUI"],e["Vue"],e["VueAMap"],e["_"],e["ar-cascader"],e["axios"],e["echarts"],e["moment"],e["swal"],e["wangEditor"],e["xss"])})("undefined"!==typeof self?self:this,(function(e,i,a,l,r,o,s,n,d,h,c,u,p,m){return function(){"use strict";var f={327:function(t){t.exports=e},90:function(e){e.exports=i},765:function(e){e.exports=a},852:function(e){e.exports=l},895:function(e){e.exports=r},487:function(e){e.exports=o},4:function(e){e.exports=s},411:function(e){e.exports=n},32:function(e){e.exports=d},921:function(e){e.exports=h},649:function(e){e.exports=c},849:function(e){e.exports=u},598:function(e){e.exports=p},942:function(e){e.exports=m}},y={};function g(e){var t=y[e];if(void 0!==t)return t.exports;var i=y[e]={exports:{}};return f[e](i,i.exports,g),i.exports}!function(){g.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return g.d(t,{a:t}),t}}(),function(){g.d=function(e,t){for(var i in t)g.o(t,i)&&!g.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){g.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){g.p=""}();var b={};return function(){if(g.d(b,{default:function(){return Lr}}),"undefined"!==typeof window){var e=window.document.currentScript,i=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(g.p=i[1])}var a=function(){var e=this,t=e._self._c;return t("span",[e._v("Greetings from Ricky.")])},l=[],r={name:"Hello"},o=r;function s(e,t,i,a,l,r,o,s){var n,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),a&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),o?(n=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),l&&l.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=n):l&&(n=s?function(){l.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:l),n)if(d.functional){d._injectStyles=n;var h=d.render;d.render=function(e,t){return n.call(t),h(e,t)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,n):[n]}return{exports:e,options:d}}var n=s(o,a,l,!1,null,null,null),d=n.exports,h=function(){var e=this,t=e._self._c;return t("div",{ref:"tableBox",staticClass:"btTablePage fullHeight"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showTopRow,expression:"showTopRow"}],staticClass:"topBtn"},[e._t("tableSetting"),e._t("topMsg"),e._t("topBtnGroup")],2),t("div",{staticClass:"tableContainer fullHeight",class:{noTop:!e.showTopRow,noPage:e.noPage}},[t("div",{staticClass:"fullHeight relativeBox"},[t("div",{ref:"tableContainerLOI",staticClass:"fullFlowContent"},[t("Table",e._g(e._b({ref:"TableXXX",class:{noBorderTable:e.noBorderTable,fullHeightTable:!e.fixedTable,lightHeadO:e.lightHead},attrs:{height:e.fixedTable&&e.tableContainerHeight||null,columns:e.columnsT,data:e.dataS,"highlight-row":e.radio||e.highlightRow},on:{"on-select":e.onSelect,"on-selection-change":e.selectionHandle,"on-sort-change":e.onSortChange,"on-row-click":e.onRowClick}},"Table",e.$attrs,!1),e.$listeners))],1)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.noPage,expression:"!noPage"}],staticClass:"pageContainer"},[t("Page",{attrs:{"page-size-opts":e.pageSizes,total:e.total,current:e.current,"page-size":e.pageSizeT,"show-sizer":"","show-total":"",size:e.pageComponentSize},on:{"update:current":function(t){e.current=t},"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1)])},c=[],u=g(4),p=g.n(u),m=g(849),f=g.n(m),y={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单"}},v=g(895),w=g.n(v),k=function(e){return x(e)&&!S(e)};function x(e){return!!e&&"object"===typeof e}function S(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||K(e)}var C="function"===typeof Symbol&&Symbol.for,T=C?Symbol.for("react.element"):60103;function K(e){return e.$$typeof===T}function B(e){return Array.isArray(e)?[]:{}}function L(e,t){return!1!==t.clone&&t.isMergeableObject(e)?$(B(e),e,t):e}function I(e,t,i){return e.concat(t).map((function(e){return L(e,i)}))}function A(e,t,i){var a={};return i.isMergeableObject(e)&&Object.keys(e).forEach((function(t){a[t]=L(e[t],i)})),Object.keys(t).forEach((function(l){i.isMergeableObject(t[l])&&e[l]?a[l]=$(e[l],t[l],i):a[l]=L(t[l],i)})),a}function $(e,t,i){i=i||{},i.arrayMerge=i.arrayMerge||I,i.isMergeableObject=i.isMergeableObject||k;var a=Array.isArray(t),l=Array.isArray(e),r=a===l;return r?a?i.arrayMerge(e,t,i):A(e,t,i):L(t,i)}$.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,i){return $(e,i,t)}),{})};var _=$,D=_;const R=/(%|)\{([0-9a-zA-Z_]+)\}/g;function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,...t){return 1===t.length&&"object"===typeof t[0]&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(R,((i,a,l,r)=>{let o;return"{"===e[r-1]&&"}"===e[r+i.length]?l:(o=O(t,l)?t[l]:null,null===o||void 0===o?"":o)}))}let M=y,G=!1,N=function(){const e=Object.getPrototypeOf(this||w()).$t;if("function"===typeof e&&w().locale)return G||(G=!0,w().locale(w().config.lang,D(M,w().locale(w().config.lang)||{},{clone:!0}))),e.apply(this,arguments)};const F=function(e,t){let i=N.apply(this,arguments);if(null!==i&&void 0!==i)return i;const a=e.split(".");let l=M;for(let r=0,o=a.length;r<o;r++){const e=a[r];if(i=l[e],r===o-1)return V(i,t);if(!i)return"";l=i}return""},P=function(e){M=e||M},X=function(e){N=e||N};var E={use:P,t:F,i18n:X};function z(e,t,i){const a=(...e)=>F.apply(this,e);return new Promise(((l,r)=>{switch(j(e)){case"Object":let o=a("r.confirm"),s=a("r.cancel"),n=!1,d="swalConfirmBt",h="swalCancelBt";const c=/^HTML.*Element$/;e.type&&(e.icon=e.type)&&delete e.type,e.className=e.className||"swalBoxX",e.text&&c.test(j(e.text))&&(e.content=e.text,delete e.text),e.content&&"String"===j(e.content)&&(e.text=e.content,delete e.content),!1!==e.button&&(e.buttons&&"Object"===j(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(s=e.buttons.cancel.text)&&(n=!0),e.buttons.cancel.className&&(h=e.buttons.cancel.className),e.buttons.confirm.text&&(o=e.buttons.confirm.text),e.buttons.confirm.className&&(d=e.buttons.confirm.className)):e.buttons&&"Array"===j(e.buttons)&&(e.buttons[0]&&(!0!==e.buttons[0]&&(s=e.buttons[0]),n=!0),e.buttons[1]&&!0!==e.buttons[1]&&(o=e.buttons[1])),e.buttons={confirm:{text:o,value:!0,visible:!0,className:d},cancel:{text:s,value:null,visible:n,className:h}}),f()(e).then((t=>{t&&"Function"===j(e.onOk)&&e.onOk(),l(t)})).catch((e=>{r(e)}));break;case"String":let u={title:e,buttons:{confirm:{text:a("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}},className:"swalBoxX"};if(t)switch(j(t)){case"String":u.text=t;break;case"HTMLElement":u.content=t;break}i&&(u.icon=i),f()(u).then((e=>{l(e)})).catch((e=>{r(e)}));break;case"Boolean":!1===e&&f().close();break;default:throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")}}))}function j(e){let t=Object.prototype.toString.call(e);return t.replace(/\[object |]/g,"")}function H(e){return e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))}function W(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function U(e){let t=j(e);if("Object"===t){for(let i in e)if(e.hasOwnProperty(i)){let t=j(e[i]);"String"===t?e[i]=e[i].trim():"Object"!==t&&"Array"!==t||U(e[i])}}else if("Array"===t)for(let i=0,a=e.length;i<a;i++){let t=j(e[i]);"String"===t?e[i]=e[i].trim():"Array"!==t&&"Object"!==t||U(e[i])}return e}function q(e,t=[]){if("Array"===j(e))return e.forEach(((t,i)=>{switch(j(t)){case"Array":case"Object":q(t);break;default:e[i]=null}})),e;if("Object"===j(e)){for(let i in e)if(e.hasOwnProperty(i)){let a=!0;for(let e of t)if(e===i){a=!1;break}if(a)switch(j(e[i])){case"Array":case"Object":q(e[i]);break;default:e[i]=null}}return e}return e}function J(e){let t=document.createElement("div");void 0!==t.textContent?t.textContent=e:t.innerText=e;let i=t.innerHTML;return t=null,i}function Y(e){let t=document.createElement("div");t.innerHTML=e;let i=t.innerText||t.textContent;return t=null,i}function Q(e){return new Promise((t=>{let i=new FileReader;i.readAsDataURL(e),i.onloadend=()=>{t(i.result)}}))}function Z(e){return e.split(".").pop().toLocaleLowerCase()||""}function ee(e){return"String"===j(e)&&e.indexOf("image")>-1}function te(e){const t=Z(e);let i="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1?i="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1?i="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1?i="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1?i="md-document":["numbers","csv","xls","xlsx"].indexOf(t)>-1?i="ios-stats":["keynote","ppt","pptx"].indexOf(t)>-1&&(i="ios-videocam"),i}function ie(e,t){let i=document.createElement("a");i.href=t,i.download=e,ae(i)}function ae(e){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}const le={headers:{"Content-Type":"multipart/form-data"}};function re(e){let t=new FormData;for(let i in e)e.hasOwnProperty(i)&&null!==e[i]&&t.append(i,e[i]);return t}function oe({group:e,condition:t,pathKey:i,childKey:a="children",path:l=[]}){if(e&&p().isObject(e))if(p().isFunction(t)){if(p().isPlainObject(e)){let r=e,o=p().cloneDeep(l);if(t(r))return i&&r[i]&&o.push(r[i]),o;if(r[a]&&!p().isEmpty(r[a])){i&&r[i]&&o.push(r[i]);let e=oe({group:r[a],condition:t,pathKey:i,childKey:a,path:o});if(!p().isEmpty(e))return e}}else if(Array.isArray(e))for(let r of e){let o=p().cloneDeep(l);if(t(r))return i&&r[i]?o.push(r[i]):o.push(e.indexOf(r)),o;if(r[a]&&r[a].length>0){i&&r[i]?o.push(r[i]):o.push(e.indexOf(r));let l=oe({group:r[a],condition:t,pathKey:i,childKey:a,path:o});if(!p().isEmpty(l))return l}}}else if(Array.isArray(e))for(let r of e){let i=p().cloneDeep(l);if(r===t)return i.push(e.indexOf(r)),i}return[]}function se(e,t,i=!1){if(!e||!t)return!1;let a,l="notFoundC",r=function(e,t){if("Array"===j(e)){if("Function"===j(t)&&t(e))return l=e,[];for(let i of e){if("notFoundC"!==l)break;if("Function"===j(t)&&t(i)||i===t)return l=i,[e.indexOf(i)];if("Array"===j(i)||"Object"===j(i)){let a=r(i,t);if(void 0!==a)return[e.indexOf(i),...a]}}}else if("Object"===j(e)){if("Function"===j(t)&&t(e))return l=e,[];for(let i in e){if("notFoundC"!==l)break;if(e.hasOwnProperty(i)){if("Function"===j(t)&&t(i)||e[i]===t)return l=e[i],[i];if("Object"===j(e[i])||"Array"===j(e[i])){let a=r(e[i],t);if(void 0!==a)return[i,...a]}}}}};return a=r(e,t),i?a||!1:"notFoundC"!==l&&l}function ne(e,t){for(let i=0,a=t.length;i<a;i++)if(e===t[i])return!0;return!1}function de(e,t=2){let i=new RegExp("(^-?d+.d{"+t+"})(d+$)"),a=e&&String(e)||"";return i.test(a)?Number(a.replace(i,"$1")):e}function he(e,t={},i="get"){let a=document.createElement("form"),l=document.getElementsByTagName("body")[0];l.appendChild(a),a.setAttribute("style","display:none"),a.setAttribute("target",""),a.setAttribute("method",i);let r=e;if(window&&window.g){let t=Object.keys(window.g).filter((e=>e.indexOf("URL")>-1)).map((e=>e.replace("URL","")));for(let i of t){let t=new RegExp("^/"+i+"(?=/.*$)","i");if(t.test(e)&&window.g[i+"URL"]){r=window.g[i+"URL"]+e.replace(t,"");break}}}if(a.setAttribute("action",r),p().isPlainObject(t)){for(let i in t)if(t.hasOwnProperty(i)&&(t[i]||0===t[i]||!1===t[i]||""===t[i])){let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",i),e.setAttribute("value",t[i]),a.appendChild(e)}a.submit();let e=setTimeout((()=>{l.removeChild(a),clearTimeout(e),e=null}),8e3)}else console.error("请求数据格式有误，无法下载文件")}function ce(e,t={},i="get"){!t.hasOwnProperty("columns")||""!==t["columns"]&&null!==t["columns"]&&void 0!==t["columns"]?he(e,t,i):z.call(this,{title:"需要导出的列不能为空",type:"warning"})}function ue(e,t,i=!1){let a;if(e&&"Array"===j(t)){let i=localStorage.getItem(e);i?(i=JSON.parse(decodeURI(i)),a=t.filter((e=>e.key&&-1!==i.indexOf(e.title))).map((e=>e.key))):a=t.map((e=>e.key))}else a=[];return i||(a=String(a)),a}function pe(e){return void 0!==e&&null!==e&&""!==e}function me(e){const t=/^-?\d+(.\d+)?$/;return t.test(e)}function fe(e,t=!1,i=""){return function(a,l){let r;if("Array"===j(e)){let t=[];for(let i of e)pe(l.row[i])&&t.push(l.row[i]);r=t.join(i)}else r="Function"===j(e)?e(l):l.row[e];let o=ye(r),s=l.column._width;return r&&o>s?a("Tooltip",{style:{width:"100%"},props:{content:r,maxWidth:2*s}},[a("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},r)]):a("span",t&&!pe(r)?"--":r)}}function ye(e,t=12){if("String"===j(e)&&e.length>0){let i=document.createElement("span");i.style.fontSize=t+"px",i.style.fontFamily="inherit",i.innerHTML=e,i.style.opacity="0",i.style.position="fixed",i.style.top="3000px",document.body.append(i);const a=i.clientWidth;return document.body.removeChild(i),a}return 0}function ge(e){if(p().isPlainObject(e)){for(let t in e)if(e.hasOwnProperty(t)&&pe(e[t]))return!1;return!0}if(Array.isArray(e)){for(let t of e)if(pe(t))return!1;return!0}return!pe(e)}function be(e){return"String"===j(e)?e.replace(/[^\x00-\xff]/g,"01").length:"Number"===j(e)?(e+="",e.replace(/[^\x00-\xff]/g,"01").length):0}function ve({group:e,condition:t,key:i,val:a,childKey:l="children"}){if("Array"!==j(e)||"Function"!==j(t)||"String"!==j(i)||"String"!==j(l))return!1;e.forEach((e=>{t(e)&&("Function"===j(a)?e[i]=a(e[i]):e[i]=a),"Array"===j(e[l])&&e[l].length>0&&ve({group:e[l],condition:t,key:i,val:a,childKey:l})}))}function we(e){let t=sessionStorage.getItem("btnPermissions");return!!t&&t.split(",").indexOf(e)>-1}function ke(e){return""===e?null:e}function xe(e){return"Number"===j(e)&&"NaN"===String(e)}function Se(e,t,i){if("Object"!==j(e))return e;let a=Object.assign(e,{}),l="";for(let r in a)if(a.hasOwnProperty(r)){let e=a[r];void 0===e||""===e||"String"===j(e)&&""===e.trim()||null===e||xe(e)?i?t?l+=r+"=&":a[r]="":delete a[r]:t&&(l+=r+"="+e+"&")}return t?l.length>0?l.substr(0,l.length-1):"":a}function Ce(e){e=e||window.Event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Te(e){let t;if(Array.isArray(e)){t=[];for(let i of e)Array.isArray(i)||p().isPlainObject(i)?t.push(Te(i)):pe(i)&&t.push(i)}else if(p().isPlainObject(e)){t={};for(let i in e)e.hasOwnProperty(i)&&(Array.isArray(e[i]||p().isPlainObject(e[i]))?t[i]=Te(e[i]):pe(e[i])&&(t[i]=e[i]))}return t}function Ke(e){const t=window.open();t.document.write(e);const i=setTimeout((()=>{t.print(),window.clearTimeout(i)}),10)}function Be(e){let t=[],i=e;while(e=e.previousSibling)1===e.nodeType&&t.push(e);while(i=i.nextSibling)1===i.nodeType&&t.push(i);return t}var Le=g(32),Ie=g.n(Le),Ae=g(852);function $e({height:e,width:t=416,title:i,content:a,onOk:l,onCancel:r,okText:o,cancelText:s,noWarnIcon:n,footerAlign:d,cancelBt:h}){const c=(...e)=>F.apply(this,e);let u=e&&Number(e)-90>100?Number(e)-90+"px":0,p=u||"100px";a=a||c("r.info.text");let m="String"===j(a);Ae.Modal.warning({width:t,render:e=>e("div",{class:"customMessageBox",style:{height:p}},[e("div",{class:"containerN"},[e("div",{class:"titleN"},[e("span",i||c("r.info.title")),e("Button",{class:"fr closeN",props:{type:"text"},on:{click(){Ae.Modal.remove()}}},[e("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}})])]),e("div",{class:"contentN",style:{textAlign:m?"center":"left"}},[e("i",{class:m&&!0!==n?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e("div",{class:"msgBoxConO"},a)]),e("div",{class:"footerN",style:{textAlign:d||"center"}},[e("Button",{class:"okBtN",on:{click(){Ae.Modal.remove(),"Function"===j(l)&&l()}}},[e("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e("span",o||c("r.confirm"))]),e("Button",{class:["cancelBtN",!1===h&&"hide"],on:{click(){Ae.Modal.remove(),"Function"===j(r)&&r()}}},s||c("r.cancel"))])])])})}let _e=0,De=document.createElement("div");function Re(e){e?De.classList.add("show"):De.classList.remove("show")}function Oe(e){let t=_e;e?_e++:_e>0&&_e--,t!==_e&&(0===_e?Re(!1):0===t&&Re(!0))}De.setAttribute("class","spinModal"),De.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append(De)};const Ve=window.location.origin;let Me=Ie().create({baseURL:Ve,withCredentials:!0});function Ge(){console.info("store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})，Pinia传{store:useStore}")}function Ne(){if(Me.store)if("function"===typeof Me.store){const e=Me.store();e.logout&&e.logout()}else Me.store.dispatch("logout");else Ge()}function Fe(e,t,i,a){a&&a.spin&&Oe(!1);let l=!0,r=e&&e.data;if(r){i=i||[];for(let e of i)r=r[e],l=l&&r;return l?r:(t&&console.warn(t),!1)}return t&&console.warn(t),!1}function Pe(e,t,i,a,l,r,o){return new Promise(((s,n)=>{switch(e){case"get":Me.get(t,{params:i}).then((e=>{let t=Fe(e,a,l,r);t?s(t):n(e)})).catch((e=>{Fe({},a,l,r),n(e)}));break;case"delete":let e=o?"params":"data";Me.delete(t,{[e]:i}).then((e=>{let t=Fe(e,a,l,r);t?s(t):n(e)})).catch((e=>{Fe({},a,l,r),n(e)}));break;case"post":Me.post(t,i,r).then((e=>{let t=Fe(e,a,l,r);t?s(t):n(e)})).catch((e=>{Fe({},a,l,r),n(e)}));break;case"put":Me.put(t,i,r).then((e=>{let t=Fe(e,a,l,r);t?s(t):n(e)})).catch((e=>{Fe({},a,l,r),n(e)}));break;default:}}))}function Xe(e,t,i,a,l,r={},o){return new Promise(((s,n)=>{if(t){r&&r.spin&&Oe(!0);let d,h=t;if(window&&window.g){let e=Object.keys(window.g).filter((e=>e.indexOf("URL")>-1)).map((e=>e.replace("URL","")));for(let i of e){let e=new RegExp("^/"+i+"(?=/.*$)","i");if(e.test(t)&&window.g[i+"URL"]){h=window.g[i+"URL"]+t.replace(e,"");break}}}if(r&&r.headers&&"multipart/form-data"===r.headers["Content-Type"])d=i;else if(d=Array.isArray(i)?[]:{},i&&!p().isEmpty(i))if(Array.isArray(i))for(let e of i)(e||0===e||!1===e||""===e&&!r.noEmptyStr)&&d.push(e);else for(let e in i)i.hasOwnProperty(e)&&(i[e]||0===i[e]||!1===i[e]||""===i[e]&&!r.noEmptyStr)&&(d[e]=i[e]);let c=e.toLowerCase();Pe(c,h,d,a,l,r,o).then((e=>{s(e)})).catch((e=>{n(e)}))}else console.error("没有请求地址:url"),n("没有请求地址:url")}))}Me.interceptors.request.use((e=>e),(e=>Promise.reject(e))),Me.interceptors.response.use((e=>(e&&e.data&&(403===e.data.code||409===e.data.code)&&$e({content:F("r.http."+e.data.code),onOk:Ne}),e)),(e=>(e&&e.response&&(403===e.response.status||409===e.response.status)&&$e({content:F("r.http."+e.response.status),onOk:Ne}),console.warn("请求出错：",e),Promise.reject(e))));var Ee={init(e){Me.store=e},post(e,t={},i,a,l){return new Promise(((r,o)=>{Xe("post",e,t,i,a,l).then((e=>{r(e)})).catch((e=>{o(e)}))}))},put(e,t={},i,a,l){return new Promise(((r,o)=>{Xe("put",e,t,i,a,l).then((e=>{r(e)})).catch((e=>{o(e)}))}))},get(e,t={},i,a,l){return new Promise(((r,o)=>{Xe("get",e,t,i,a,l).then((e=>{r(e)})).catch((e=>{o(e)}))}))},delete(e,t={},i,a,l,r=!0){return new Promise(((o,s)=>{Xe("delete",e,t,i,a,l,r).then((e=>{o(e)})).catch((e=>{s(e)}))}))},all:Ie().all,spread:Ie().spread,config:Me};let ze=[],je=[];const He=function(e){e&&e.beforeEach?e.beforeEach(((e,t,i)=>{ze.map((e=>{window.clearTimeout(e)})),je.map((e=>{window.clearInterval(e)})),ze.length=0,je.length=0,i()})):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},We=function(e,t){let i=window.setTimeout(e,t);return ze.push(i),i},Ue=function(e,t){let i=window.setInterval(e,t);return je.push(i),i};var qe={init:He,setTimeout:We,setInterval:Ue},Je={name:"btTablePage",props:{url:{type:String,default:""},searchData:{type:Object,default(){return{}}},columns:{type:Array,default(){return[]}},dataHandler:{type:Function},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{validator:e=>ne(e,["left","right",!1]),default:!1},rowClickSelect:{type:Boolean,default:!0},data:{type:Array,default(){return[]}},pageSize:{type:Number,default:10},sortable:{validator:e=>ne(e,["custom",""]),default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{type:Number,default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},orderDefault:{type:String,default:"desc"},orderKey:{type:String,default:"id"},orderKeyFormat:{validator:e=>ne(e,["underline","camelcase"]),default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1},pageComponentSize:{type:String,default:"default"}},data(){return{pageSizes:this.pageSizes||[10,20,30,40],dataT:this.data,pageSizeT:localStorage.getItem("btPageSize")&&Number(localStorage.getItem("btPageSize"))||this.pageSize,current:1,total:0,selected:[],currentKey:null,currentIndex:null,key:this.orderKey,order:this.orderDefault,tableContainerHeight:300}},computed:{columnsFixed(){for(let e of this.columns)if(e.fixed)return!0;return!1},fixedTable(){return this.selectionFixed||this.columnsFixed},queryData(){let e={...this.searchData,current:this.current,size:this.pageSizeT};return"custom"===this.sortable&&("underline"===this.orderKeyFormat?e[this.order]=W(this.key):"camelcase"===this.orderKeyFormat&&(e[this.order]=H(this.key))),e},columnsT(){let e=this.columns.filter((e=>"selection"!==e.type));if(this.selection||this.radio){let t;t=this.radio?{title:" ",width:65,render:(e,t)=>e("Radio",{props:{value:t.row.btChecked}})}:{type:"selection",width:60},this.selectionFixed&&(t.fixed=this.selectionFixed),e.unshift(t)}return e.forEach((e=>{"custom"===this.sortable?e.key&&!0!==e.sortable&&!1!==e.sortable&&(e.sortable="custom"):e.sortable=!1,e.align||(e.align="center")})),this.tableEmptyTdHandle&&e.forEach((e=>{e.key&&void 0===e.render&&(e.tooltip?e.render=fe(e.key,!0):e.render=(t,i)=>{let a=i.row[e.key];return t("span",""===a||null===a||void 0===a?"--":a)})})),e},dataS:{get(){return this.dataT.map(((e,t)=>({btKey:"bt-"+t,btChecked:!1,...e})))},set(e){this.dataT=e}},selectedIds(){return this.selected.map((e=>e.id))},selectedKeys(){return this.selected.map((e=>e.btKey))}},created(){this.initTable()},watch:{searchData:{handler(){this.search()},deep:!0}},methods:{initTable(){this.initData&&this.getDataAndClickRow()},addRow(e){this.dataT.unshift(p().cloneDeep(e)),We((()=>{this.$refs.TableXXX.clickCurrentRow(0)}),100)},setRowData(e,t,i){let a=null;if(p().isBoolean(t)&&t?a=this.currentIndex:p().isNumber(t)&&(a=t),null!==a){let t=this.dataT[a];for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);i&&We((()=>{this.$refs.TableXXX.clickCurrentRow(a)}),10)}},deleteRow(e){this.dataT.splice(e,1),We((()=>{this.$refs.TableXXX.clickCurrentRow(0)}),100)},clearSelect(){if(this.radio){if(this.selectedKeys.length>0&&this.dataS.length>0){let e=this.selectedKeys[0].split("-")[1];this.$set(this.dataS[e],"btChecked",!1)}}else this.$refs.TableXXX.selectAll(!1);this.selected.length>0&&(this.selected=[],this.$emit("on-selection-change",[])),this.currentKey=null,this.currentIndex=null},clearTableData(){this.$set(this,"dataT",[]),this.clearSelect(),this.current=1,this.total=0},search(){this.current=1,this.getDataAndClickRow()},getDataAndClickRow(e,t,i){this.radio&&(e||-1!==this.rowClickNum)?this.getTableData(t,i,e).then((()=>{this.dataT.length>0&&We((()=>{e?this.$refs.TableXXX.clickCurrentRow(this.currentIndex||0):this.$refs.TableXXX.clickCurrentRow(this.rowClickNum)}),10)})):this.getTableData()},onRowClick(e,t){e.btChecked&&this.radio||(this.selection||this.radio)&&this.rowClickSelect&&this.$refs.TableXXX.toggleSelect(t)},onSelect(e,t){this.currentKey=t.btKey,this.currentIndex=Number(t.btKey.split("-")[1]),this.radio&&this.$set(this.dataT[this.currentIndex],"btChecked",!0)},selectionHandle(e){if(this.radio)for(let t of this.dataS)t.btKey!==this.currentKey&&this.$set(this.dataT[Number(t.btKey.split("-")[1])],"btChecked",!1);this.selected=e},getSelected(){return p().cloneDeep(this.selected)},changePage(e){this.current=e,this.getDataAndClickRow()},pageSizeChange(e){this.pageSizeT=e,localStorage.setItem("btPageSize",e),1===this.current&&this.getDataAndClickRow()},onSortChange({key:e,order:t}){"normal"===t?(this.key=this.orderKey,this.order=this.orderDefault):(this.key=e,this.order=t),this.current=1,this.getTableData()},getTableData(e,t,i){return new Promise((a=>{e&&(this.order=e),t&&(this.key=t),this.url&&""!==this.url?Ee.get(this.url,this.queryData,null,[],{spin:this.getDataLoading}).then((l=>{let r;i||this.clearSelect(),r="Function"===j(this.dataHandler)?this.dataHandler(l):l,r.data?(r.data.records||null===r.data.records?this.dataT=r.data.records||[]:r.data.page?(r.data.page.records||null===r.data.page.records)&&(this.dataT=r.data.page.records||[]):r.data.data?(r.data.data.records||null===r.data.data.records)&&(this.dataT=r.data.data.records||[]):this.dataT=r.data,this.total=r.data.page&&r.data.page.total||r.data.data&&r.data.data.total||r.data.total||r.total||0,0===this.total&&this.current>1&&this.dataT&&0===this.dataT.length?this.current=1:this.current>1&&this.total<=(this.current-1)*this.pageSizeT&&(this.current--,this.$nextTick((function(){this.getTableData(e,t)}))),this.$emit("on-data-change",r),a(r)):(console.warn("请求返回数据有误，无法使用"),this.clearTableData(),this.$emit("on-data-change",r))})).catch((e=>{console.warn(e),this.clearSelect(),this.clearTableData(),this.$emit("on-data-change",e)})):console.warn("没有有效的请求地址，无法获取表格数据")}))}}},Ye=Je,Qe=s(Ye,h,c,!1,null,null,null),Ze=Qe.exports,et=function(){var e=this,t=e._self._c;return t("div",{style:e.wellStyle},[t("div",{staticClass:"flexColumnBox wellCardR"},[t("div",{staticClass:"panelHeader notGrow"},[t("div",{staticClass:"fl",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.title||e.t("r.title")))]),t("div",{staticClass:"btsF"},[e._t("bts")],2)]),t("div",{staticClass:"growFlexItem relativeBox"},[t("div",{staticClass:"fullFlowContent"},[e._t("default")],2)])])])},tt=[],it={methods:{t(...e){return F.apply(this,e)}}},at={name:"wellCard",mixins:[it],props:{title:{type:String},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},inline:{type:Boolean,default:!1}},computed:{wellStyle(){let e={};this.inline&&(e.display="inline-block");let t=["width","height"];for(let i of t)"String"===j(this[i])?e[i]=this[i]:"Number"===j(this[i])&&this[i]>0&&(e[i]=this[i]+"px");return e}}},lt=at,rt=s(lt,et,tt,!1,null,null,null),ot=rt.exports,st=function(){var e=this,t=e._self._c;return t("Table",{key:e.updateDomKey,ref:"tabXY",class:{tableTreeKM:!0,lightHeadO:e.lightHead},attrs:{columns:e.columnsX,data:e.dataX,"highlight-row":e.highlightRow}})},nt=[],dt={name:"tableTree",props:{columns:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},highlightRow:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1}},data(){return{dataX:[],noKey:1,updateDomKey:Math.floor(1e8*Math.random()+1e4)}},computed:{columnsX(){let e=this.columns.filter((e=>"selection"!==e.type));if(e[0]){let t=e[0].key;e[0].renderHeader=(e,t)=>e("div",{style:{paddingLeft:"20px"}},t.column.title),e[0].render=(e,i)=>e("div",{class:"tableTxtBt",style:{paddingLeft:20*(i.row.parentNoKey.length+1)+"px",textAlign:"left"}},[e("Checkbox",{props:{value:i.row.checkBox},directives:[{name:"show",value:this.radio}],on:{"on-change":e=>{!0===e?(this.setCollectionVal(this.dataX,{checkBox:!1}),this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[i.index].ownKey}),this.$emit("on-select",i.row)):this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[i.index].ownKey})},click:e=>{e.preventDefault()}}}),e("Icon",{props:{type:i.row._hideChild?"ios-arrow-forward":!1===i.row._hideChild?"ios-arrow-down":""},style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(i.index)}}}),e("span",{style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(i.index)}}}," "+i.row[t])])}return e}},mounted(){this.updateTab()},watch:{data(){this.updateTab()}},methods:{setCollectionVal(e,t){if(t&&pe(t.checkBox)&&"Array"===j(e))if(t.ownKey)for(let i of e)i.ownKey===t.ownKey&&(i.checkBox=t.checkBox),"Array"===j(i.childrenXK)&&i.childrenXK.length>0&&this.setCollectionValB(i.childrenXK,t);else for(let i of e)i.checkBox=t.checkBox,"Array"===j(i.childrenXK)&&i.childrenXK.length>0&&this.setCollectionValB(i.childrenXK,t)},setCollectionValB(e,t){if(t&&pe(t.checkBox)&&"Array"===j(e))if(t.ownKey)for(let i of e)i.ownKey===t.ownKey&&(i.checkBox=t.checkBox),"Array"===j(i.childrenXK)&&i.childrenXK.length>0&&this.setCollectionVal(i.childrenXK,t);else for(let i of e)i.checkBox=t.checkBox,"Array"===j(i.childrenXK)&&i.childrenXK.length>0&&this.setCollectionVal(i.childrenXK,t)},handleResize(){this.$refs.tabXY.handleResize()},updateTab(){let e=p().cloneDeep(this.data);this.addHideChildAttr(e),this.dataX=p().cloneDeep(e),this.showDefault()},showDefault(){for(let e=0,t=this.dataX.length;e<t;e++){let t=this.dataX[e];if(!1===t.hideChild&&!0===t._hideChild){this.showHideClick(e);break}}},showHideClick(e){if(this.dataX[e]._hideChild){this.dataX[e]._hideChild=!1;let t=p().cloneDeep(this.dataX[e].childrenXK);this.dataX.splice(e+1,0,...t),this.showDefault()}else!1===this.dataX[e]._hideChild&&this.hideChildNode(e)},addHideChildAttr(e,t){for(let i of e)i.ownKey=this.noKey,this.noKey++,i.parentNoKey=i.parentNoKey||[],void 0!==t&&i.parentNoKey.push(...t),i.children&&(i.childrenXK=i.children,delete i.children),"Array"===this.myTypeof(i.childrenXK)&&i.childrenXK.length>0&&(!1!==i._hideChild&&(i._hideChild=!0),this.addHideChildAttrB(i.childrenXK,[i.ownKey,...i.parentNoKey]))},addHideChildAttrB(e,t){for(let i of e)i.ownKey=this.noKey,this.noKey++,i.parentNoKey=i.parentNoKey||[],void 0!==t&&i.parentNoKey.push(...t),i.children&&(i.childrenXK=i.children,delete i.children),"Array"===this.myTypeof(i.childrenXK)&&i.childrenXK.length>0&&(!1!==i._hideChild&&(i._hideChild=!0),this.addHideChildAttr(i.childrenXK,[i.ownKey,...i.parentNoKey]))},hideChildNode(e){let t=this.getChildCount(this.dataX[e].ownKey);t&&this.dataX.splice(e+1,t),ve({group:[this.dataX[e]],condition:e=>!1===e._hideChild,key:"_hideChild",val:!0,childKey:"childrenXK"})},addLocalNode(e,t){return new Promise(((i,a)=>{!p().isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!"),p().isPlainObject(t)&&!p().isEmpty(t)||a("节点数据异常，无法添加节点！");let l=this.dataX[e];!1!==l._hideChild&&(l._hideChild=!1);let r=[l.ownKey,...l.parentNoKey],o={...t,ownKey:++this.noKey,parentNoKey:r};for(let e of this.dataX){let t=r.indexOf(e.ownKey);if(t>-1){void 0===e.childrenXK&&(e.childrenXK=[]);let i=e.childrenXK,a=e;for(let l=0;l<t+1;l++){if(l===t){i.push(p().cloneDeep(o)),void 0===e._hideChild&&(e._hideChild=!0);break}a=p().find(a.childrenXK,(e=>-1!==r.indexOf(e.ownKey))),void 0===a._hideChild&&(a._hideChild=!0),void 0===a.childrenXK&&(a.childrenXK=[]),i=a.childrenXK}}}this.dataX.splice(e+1+this.getChildCount(l.ownKey),0,p().cloneDeep(o)),this.updateDomKey=Math.floor(1e8*Math.random()+1e4),i(p().cloneDeep(o))}))},editLocalNode(e,t){return new Promise(((i,a)=>{!p().isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!"),p().isPlainObject(t)&&!p().isEmpty(t)||a("节点数据异常，无法添加节点！");let l=this.dataX[e],r=Object.assign(l,t);this.dataX[e]=r;for(let e of this.dataX){let t=r.parentNoKey.indexOf(e.ownKey);if(t>-1){let i=e.childrenXK;for(let e=0;e<t+1;e++){if(e===t){let e=p().findIndex(i,(e=>e.ownKey===r.ownKey));e>-1&&(i[e]=p().cloneDeep(r));break}{let e=p().find(i,(e=>-1!==r.parentNoKey.indexOf(e.ownKey)));i=e.childrenXK}}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),i(p().cloneDeep(r))}))},deleteLocalNode(e){return new Promise(((t,i)=>{!p().isInteger(e)||e<0?i("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&i("无效的索引序号index!");let a=this.dataX[e];this.dataX.splice(e,1),this.deleteLocalChildNode(a.ownKey,e);for(let e of this.dataX){let t=a.parentNoKey.indexOf(e.ownKey);if(t>-1){let i=e.childrenXK,l=e;for(let e=0;e<t+1;e++){if(e===t){let e=p().findIndex(i,(e=>e.ownKey===a.ownKey));e>-1&&(i.splice(e,1),0===i.length&&(l._hideChild=null));break}l=p().find(i,(e=>-1!==a.parentNoKey.indexOf(e.ownKey))),i=l.childrenXK}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),t(p().cloneDeep(this.dataX))}))},deleteLocalChildNode(e,t){let i=this.getChildCount(e);i&&this.dataX.splice(t,i)},getChildCount(e){let t=0;for(let i of this.dataX)-1!==i.parentNoKey.indexOf(e)&&t++;return t}}},ht=dt,ct=s(ht,st,nt,!1,null,null,null),ut=ct.exports,pt=function(){var e=this,t=e._self._c;return t("div",[t("Upload",{attrs:{name:"files",action:e.urlT,"before-upload":e.handelManualUpload,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-exceeded-size":e.overSize,"on-preview":e.onPreview,"on-remove":e.onRemove,"on-format-error":e.onFormatError,data:e.data,"max-size":e.maxSize,"show-upload-list":!1,"with-credentials":e.withCredentials,format:e.format,multiple:e.multiple||!1,disabled:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)}},[t("Button",{class:{disabledR:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)},attrs:{icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.t("r.selectFile")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"img"===e.previewType&&e.fileIdList.length>0,expression:"previewType === 'img' && fileIdList.length>0"}],staticClass:"previewBoxM"},e._l(e.fileIdList,(function(i){return e.manualUpload||null===i?e._e():t("div",{key:i,staticClass:"previewImg"},[t("img",{attrs:{src:e.url+"/"+i+"/download?preview=true",alt:i}}),t("div",{staticClass:"deleteModal"},[t("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:e.t("r.fView")},on:{click:function(t){return e.fullScreenImgByDom(e.url+"/"+i+"/download?preview=true")}}}),t("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:e.t("r.delete")},on:{click:function(t){return e.deleteById(t,i)}}})],1)])})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"localImg"===e.previewType&&e.fileSrcList.length>0,expression:"previewType === 'localImg' && fileSrcList.length>0"}],staticClass:"previewBoxM"},e._l(e.fileSrcList,(function(i,a){return e.manualUpload&&null!==i?t("div",{key:"manualImg"+a,staticClass:"previewImg"},[t("img",{attrs:{src:i,alt:"manualImg"+a}}),t("div",{staticClass:"deleteModal"},[t("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:e.t("r.fView")},on:{click:function(t){return e.fullScreenImgByDom(i)}}}),t("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)]):e._e()})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"localList"===e.previewType&&e.fileList.length>0,expression:"previewType === 'localList'&& fileList.length>0"}],staticClass:"customFileListM"},e._l(e.fileList,(function(i,a){return e.manualUpload&&null!==i?t("p",{key:"manualItem"+a,staticClass:"customFileListItem"},[i.name?t("Icon",{attrs:{type:e.getFileTypeIconByName(i.name)}}):e._e(),t("span",{staticClass:"upNameT",attrs:{title:e.t("r.download")},on:{click:function(t){return e.downloadManualFile(i)}}},[e._v(e._s(e.getName(i)))]),t("span",{staticClass:"btBoxJ"},[e.showPreview(i)?t("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"14",title:e.t("r.fView")},on:{click:function(t){return e.listExpand(i)}}}):e._e(),t("Icon",{staticClass:"listBtH",attrs:{type:"ios-close",size:"22",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)],1):e._e()})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"list"===e.previewType&&e.fileDefaultList.length>0,expression:"previewType === 'list' && fileDefaultList.length>0"}],staticClass:"customFileListM"},e._l(e.fileDefaultList,(function(i,a){return e.manualUpload||null===i?e._e():t("p",{key:"defaultItem"+a,staticClass:"customFileListItem"},[t("Icon",{attrs:{type:e.getFileTypeIconByName(i.name)}}),t("span",{staticClass:"upNameT",attrs:{title:e.t("r.download")},on:{click:function(t){return e.downloadDefaultFile(i)}}},[e._v(e._s(i.name||e.t("r.file")+(a+1)))]),t("span",{staticClass:"btBoxJ"},[e.showPreview(i)?t("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"14",title:e.t("r.fView")},on:{click:function(t){return e.listExpand(i)}}}):e._e(),t("Icon",{staticClass:"listBtH",attrs:{type:"ios-close",size:"22",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)],1)})),0)],1)},mt=[];function ft(e){const t=(...e)=>F.apply(this,e),i=t("r.closePreview"),a=t("r.fullImg");let l=p().first(document.getElementsByTagName("body")),r=document.createElement("div");r.setAttribute("class","fullScreenImgByDom"),r.innerHTML=`<div class="previewInner"><img src="${e}" alt="${a}" ><i class="ivu-icon ivu-icon-md-close" title="${i}" ></i></div>`,r.querySelector(".ivu-icon-md-close").addEventListener("click",(function(){let e=p().first(document.getElementsByTagName("body"));e&&e.removeChild(r)})),l.appendChild(r)}var yt={name:"uploadGroup",mixins:[it],model:{prop:"fileIdListProp",event:"on-file-id-change"},props:{fileIdListProp:{type:[Array,Number,String,File],default(){return[]}},url:{type:String,default(){return window.g&&window.g.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""}},data:{type:Object,default(){return{appId:0,moduleId:0,typeId:0}}},manualUpload:{type:Boolean,default:!1},maxSize:{type:Number,default:0},length:{type:Number,default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{type:Array,default(){return[]}},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{getFileTypeIconByName:te,fullScreenImgByDom:ft,fileSrcList:[],fileDefaultList:[]}},computed:{previewType(){return!this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"img":this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"localImg":!this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?void 0:"list":"localList"},urlT(){return this.manualUpload?"//jsonplaceholder.typicode.com/posts/":this.url},fileList:{get(){if(this.manualUpload)return this.fileIdList;{let e=[];for(let t of this.fileIdList)e.push({response:{data:[{id:t}]}});return e}},set(e){if(this.manualUpload)this.fileIdList=e;else{let t=[];for(let i of e)i.response&&i.response.data&&i.response.data[0]&&(i.response.data[0].id||0===i.response.data[0].id)&&t.push(i.response.data[0].id);this.fileIdList=t}}},fileIdList:{get(){switch(j(this.fileIdListProp)){case"Number":return[this.fileIdListProp];case"String":return-1!==this.fileIdListProp.indexOf("--")?[]:/^\d*$/.test(this.fileIdListProp)?[Number(this.fileIdListProp)]:[this.fileIdListProp];case"Array":return this.fileIdListProp.filter((e=>"--"!==e));case"File":return[this.fileIdListProp];default:return[]}},set(e){if(1===this.length){let t=p().first(e);this.$emit("on-file-id-change",t||0===t?t:null)}else this.$emit("on-file-id-change",p().cloneDeep(e))}},fileListItemIsIMG(){let e;e=this.manualUpload?this.fileList:this.fileDefaultList;for(let t of e){let e;if(e=this.manualUpload?t&&t.type:t&&t.mimeType,!e||e&&!ee(e))return!1}return!0}},watch:{fileList:{async handler(e){if("localImg"===this.previewType)e&&e.length>0?this.fileSrcList=await this.getFileSrcList(e):this.fileSrcList=[];else if(e&&e.length>0&&"localList"!==this.previewType){let t=[];for(let i of e)void 0===i.name?i.response&&i.response.data&&i.response.data[0]&&i.response.data[0].id?Ee.get(this.url+"/"+i.response.data[0].id).then((a=>{let l=p().cloneDeep(i);l.name=a&&a.data&&a.data.returnValue&&a.data.returnValue[0]&&a.data.returnValue[0].name||this.t("r.file")+p().indexOf(e,i),l.mimeType=a&&a.data&&a.data.returnValue&&a.data.returnValue[0]&&a.data.returnValue[0].mimeType||"unknown",t.push(l)})).catch((()=>{t.push({name:this.t("r.file")+p().indexOf(e,i)})})):t.push({name:this.t("r.unknown")}):t.push(i);this.fileDefaultList=t}else this.fileDefaultList=[]},immediate:!0,deep:!0}},methods:{clear(){this.fileList=[]},getName(e){return e.name||e.split&&p().last(e.split("/"))||e},async getFileSrcList(e){let t=[];for(let i of e){let e=await Q(i);t.push(e)}return t},clearManualItem(e){if(!this.disabled){let t=this.fileList;t.splice(e,1),this.fileList=t}},downloadDefaultFile(e){e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id&&window.open(this.url+"/"+e.response.data[0].id+"/download")},showPreview(e){return this.manualUpload?e.type&&ee(e.type):e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id&&e.mimeType&&ee(e.mimeType)},listExpand(e){this.manualUpload?Q(e).then((e=>{ft(e)})):ft(this.url+"/"+e.response.data[0].id+"/download?preview=true")},downloadManualFile(e){"String"===j(e)&&e.indexOf("http")>-1?window.open(e):"File"===j(e)&&Q(e).then((t=>{ie(e.name,t)}))},handelManualUpload(e){if(this.manualUpload){if(e){let t=Z(e.name);if(this.format.length>0&&this.format.indexOf(t)<0)return z(this.t("r.wrongFileType"),this.t("r.supportType")+(this.format.length>0&&String(this.format)||this.t("r.none")),"warning"),!1;if(this.maxSize&&e.size>1024*this.maxSize)return z(this.t("r.fileIsBig"),this.t("r.supportSize")+this.maxSize+"kb","warning"),!1;let i=this.fileList;i.push(e),this.fileList=i}return!1}return!0},uploadError(e,t,i){console.warn(e),z(this.t("r.uploadError"),"","error")},uploadSuccess(e,t,i){if(e&&0===e.code){let e=this.fileList;e.push(t),this.fileList=e}else z(this.t("r.uploadFail"),e&&e.message||"","error")},overSize(e,t){z(this.t("r.fileIsBig"),this.t("r.supportSize")+this.maxSize+" kb","warning")},onFormatError(e,t){z(this.t("r.wrongFileType"),this.t("r.supportType")+(this.format.length>0&&String(this.format)||this.t("r.none")),"warning")},onPreview(e){let t=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id,i=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].mimeType;t&&("String"===j(i)&&i.indexOf("image")>-1?ft(this.url+"/"+t+"/download?preview=true"):window.open(this.url+"/"+t+"/download?preview=true"))},onRemove(e,t){let i=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id;this.deleteById(null,i)},deleteById(e,t){if(!this.disabled&&-1!==this.fileIdList.indexOf(t)){const e=this.fileIdList;let i=this.fileList;i.splice(e.indexOf(t),1),this.fileList=i}}}},gt=yt,bt=s(gt,pt,mt,!1,null,null,null),vt=bt.exports,wt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tabSetF"},[t("div",{staticClass:"tabSetBt",on:{click:e.labelClick}},[t("Icon",{attrs:{type:"md-settings",size:"17"}}),t("span",[e._v(e._s(e.t("r.tabSetting")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"tabSetCard",style:{top:e.top,right:e.right,width:e.width,backgroundColor:e.bg}},[t("div",{staticClass:"topCheck"},[t("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll.apply(null,arguments)}}},[e._v(e._s(e.t("r.all")))]),t("span",{staticStyle:{cursor:"pointer",float:"right"},on:{click:e.save}},[e._v(e._s(e.t("r.confirm")))])],1),t("CheckboxGroup",{model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.groupX,(function(i,a){return t("Checkbox",{key:"tabSet_"+e.sKey+a,staticClass:"setItem",attrs:{label:i&&i.label,disabled:i&&i.disabled}})})),1)],1)])},kt=[],xt={name:"tableSetting",mixins:[it],model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},sKey:{type:String,required:!0},top:{type:String,default:"30px"},right:{type:String,default:"0"},width:{type:String,default:"150px"},bg:{type:String,default:"#ccc"},defaultCheck:{type:Boolean,default:!1}},data(){return{indeterminate:!0,checkAll:!1,show:!1,groupT:[],locale:null}},computed:{groupX(){let e=this.t("r.unknown");return this.value.length>this.groupT.length&&(this.groupT=p().cloneDeep(this.value)),this.groupT.map((t=>{let i={label:t&&t.title||e};return t&&t.disableShowSetting&&(i.disabled=!0),i}))},disabledGroup(){return this.groupX.filter((e=>e.disabled))},checkAllGroup:{get(){let e=this.t("r.unknown");return this.value.map((t=>t&&t.title||e))},set(e){let t=this.groupT.filter((t=>{for(let i of e)if(i===t.title)return!0;return!1}));this.$emit("subVal",t)}}},created(){this.$root&&this.$root.$i18n&&this.$root.$i18n.locale?this.locale=this.$root.$i18n.locale:this.$root&&this.$root.$lang&&(this.locale=this.$root.$lang)},mounted(){let e,t=this.t("r.unknown");e=this.locale?localStorage.getItem(this.sKey+"_"+this.locale):localStorage.getItem(this.sKey),e?this.checkAllGroup=JSON.parse(decodeURI(e)):this.defaultCheck&&(this.checkAllGroup=this.value.filter((e=>e.showSettingCheck)).map((e=>e&&e.title||t)))},watch:{checkAllGroup:{handler(e){this.checkAllGroupChange(e)},immediate:!0}},methods:{labelClick(){this.show||(this.show=!0)},save(){this.locale?localStorage.setItem(this.sKey+"_"+this.locale,encodeURI(JSON.stringify(this.checkAllGroup))):localStorage.setItem(this.sKey,encodeURI(JSON.stringify(this.checkAllGroup))),this.show=!1},handleCheckAll(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=this.groupX.map((e=>e.label)):this.checkAllGroup=this.disabledGroup.map((e=>e.label))},checkAllGroupChange(e){e.length===this.groupX.length?(this.indeterminate=!1,this.checkAll=!0):e.length>this.disabledGroup.length?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)}}},St=xt,Ct=s(St,wt,kt,!1,null,null,null),Tt=Ct.exports,Kt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"containerIKJ",style:e.containerStyle},[t("Input",{ref:"mapInput",class:{mapInputIKJ:e.showMap},attrs:{placeholder:e.placeholder||e.t("r.search"),disabled:e.disabled,icon:"ios-search"},model:{value:e.valueT.name,callback:function(t){e.$set(e.valueT,"name",t)},expression:"valueT.name"}}),t("div",{ref:e.vidT,style:e.mapStyle,attrs:{id:e.vidT}})],1)},Bt=[],Lt=g(487),It={name:"inputMap",mixins:[it],model:{prop:"valProp",event:"update-value"},props:{valProp:{type:Object,default:null},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:null},placeholder:{type:String},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},data(){return{infoWindow:null}},computed:{valueT:{get(){let e;return e=this.valProp?this.valProp.name?p().cloneDeep(this.valProp):{...this.valProp,name:null}:{name:null},e},set(e){this.$emit("update-value",p().cloneDeep(e))}},vidT(){return"vidT"+Math.floor(1e9*Math.random())},widthT(){return p().isNumber(this.width)?this.width+"px":this.width},heightT(){return p().isNumber(this.height)?this.height+"px":this.height?this.height:p().isNumber(this.width)?.66*this.width+"px":"200px"},containerStyle(){return{width:this.widthT,position:"relative"}},mapStyle(){return{width:this.widthT,height:this.heightT,marginTop:"6px",opacity:this.showMap?1:0,position:this.showMap?"relative":"absolute",top:this.showMap?0:"-10000px"}}},mounted(){this.checkHeight()},beforeDestroy(){this.mapX&&(this.mapX.destroy(),this.mapX=null,this.geoCoder=null,this.autoCompleteX=null,this.infoWindow=null)},watch:{valProp(e){e&&e.lng&&e.lat&&this.createMarker({lng:e.lng,lat:e.lat,name:e.name})}},methods:{checkHeight(){this.$refs[this.vidT]&&this.$refs[this.vidT].clientHeight<10||!this.$refs[this.vidT]?We(this.checkHeight,100):We(this.initMap,1e3)},initMap(){Lt.lazyAMapApiLoaderInstance.load().then((()=>{this.mapX=new AMap.Map(this.vidT,{}).on("complete",(()=>{this.geoCoder=new AMap.Geocoder,this.valProp&&this.valProp.lng&&this.valProp.lat&&this.createMarker({lng:this.valProp.lng,lat:this.valProp.lat,name:this.valProp.name}),this.autoCompleteX=new AMap.Autocomplete({input:this.$refs.mapInput.$el.children[1]}).on("select",(e=>{e&&e.poi&&e.poi.name&&(e.poi.location&&e.poi.location.lng&&e.poi.location.lat?(this.createMarker({name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}),this.valueT={name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}):this.mapX.setCity(e.poi.name,(()=>{let t=this.mapX.getCenter();this.createMarker({name:e.poi.name,lng:t.lng,lat:t.lat}),this.valueT={name:e.poi.name,lng:t.lng,lat:t.lat}}))),this.$emit("on-change",this.valueT)})),this.mapX.on("hotspotclick",(e=>{this.createMarker({name:e.name,lng:e.lnglat.lng,lat:e.lnglat.lat}),this.valueT={name:e.name,lng:e.lnglat.lng,lat:e.lnglat.lat}}))}))}))},createMarker({lng:e,lat:t,name:i}){this.mapX.clearMap();let a=new AMap.LngLat(e,t),l=new AMap.Marker({map:this.mapX,position:a,draggable:!0});this.mapX.add(l),this.getAddress(e,t),l.on("dragend",(()=>{let a=l.getPosition();this.valueT={name:i||null,lng:a.lng,lat:a.lat},this.getAddress(e,t)})),l.on("click",(e=>{this.infoWindow&&this.infoWindow.open(this.mapX,e.target.getPosition())})),this.mapX.setFitView()},getAddress(e,t){this.geoCoder.getAddress([e,t],((e,t)=>{"complete"===e&&"OK"===t.info&&t.regeocode&&t.regeocode.formattedAddress?this.infoWindow=new AMap.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+t.regeocode.formattedAddress+"</div>",offset:new AMap.Pixel(16,-45),closeWhenClickMap:!0}):(this.infoWindow=null,console.warn("地图获取位置信息失败",t))}))}}},At=It,$t=s(At,Kt,Bt,!1,null,null,null),_t=$t.exports,Dt=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tableBtnsG",class:{disabled:e.disabled},attrs:{title:e.title||e.t("r.button")},on:{click:e.onClick}},[t("Icon",{attrs:{type:e.icon,size:e.size}})],1)},Rt=[],Ot={name:"tableIconBtn",mixins:[it],props:{icon:{type:String,default(){return"md-radio-button-on"}},title:{type:String},has:{type:String},disabled:{type:Boolean,default(){return!1}},size:{type:Number,default(){return 24}}},methods:{onClick(e){this.disabled||this.$emit("click",e)}}},Vt=Ot,Mt=s(Vt,Dt,Rt,!1,null,null,null),Gt=Mt.exports,Nt=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tabTopBtnsT",class:{disabled:e.disabled},style:{"font-size":e.txtSize},on:{click:e.click}},[t("Icon",{attrs:{type:e.icon,size:e.size}}),e._v(" "+e._s(e.name||e.t("r.button"))+" ")],1)},Ft=[],Pt={name:"iconTxtBtn",mixins:[it],props:{name:{type:String},icon:{type:String,default:"md-download"},size:{type:Number,default:17},disabled:{type:Boolean,default:!1},has:{type:String}},computed:{txtSize(){return Math.floor(this.size/17*12)+"px"}},methods:{click(e){this.disabled||this.$emit("click",e)}}},Xt=Pt,Et=s(Xt,Nt,Ft,!1,null,null,null),zt=Et.exports,jt=function(){var e=this,t=e._self._c;return t("div",{style:e.getBg},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"contentX"},[e._t("default")],2),t("div",{staticClass:"arrowA"},[t("div",{staticClass:"btA",on:{click:function(t){e.show=!e.show}}},[t("Icon",{attrs:{type:e.show?"ios-arrow-up":"ios-arrow-down",size:"20"}})],1)])])},Ht=[],Wt={name:"showHidePanel",props:["bg"],data(){return{show:!0}},computed:{getBg(){return this.show?"background:"+this.bg||0:""}}},Ut=Wt,qt=s(Ut,jt,Ht,!1,null,null,null),Jt=qt.exports,Yt=function(){var e=this,t=e._self._c;return t("div",[t("Select",{style:e.labelSelectStyle,attrs:{disabled:Boolean(e.disabled),transfer:""},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}},e._l(e.selectOption,(function(i,a){return t("Option",{key:"selectInputOp"+i.value+a,style:{textAlign:e.labelTextAlign},attrs:{value:i.val}},[e._v(e._s(i.label))])})),1),t("Input",{style:e.inputStyle,attrs:{placeholder:e.placeholder||e.t("r.pInput"),clearable:e.clearable,disabled:Boolean(e.disabled)},on:{"on-change":e.inputChange},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)},Qt=[],Zt={name:"selectInput",mixins:[it],model:{prop:"value",event:"subVal"},props:{value:{type:Object,default(){return{key:null,val:null}}},labelWidth:{type:Number,default:160},labelTextAlign:{type:String,default:"right"},itemWidth:{type:Number,default:200},selectOption:{type:Array,default(){return[]}},placeholder:{type:String},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{selectVal:{get(){return this.value&&this.value.key||null},set(e){let t={key:e,val:null};this.selectVal&&this.selectVal!==e&&(t.beforeKey=this.selectVal),this.$emit("subVal",t),this.$emit("on-change",t)}},inputVal:{get(){return this.value&&this.value.val||null},set(e){let t={key:this.selectVal,val:e};this.$emit("subVal",t)}},labelSelectStyle(){return{width:this.labelWidth+"px",textAlign:this.labelTextAlign}},inputStyle(){return{width:this.itemWidth+"px"}}},methods:{inputChange(e){e&&e.target&&void 0!==e.target.value&&this.handleChange({key:this.selectVal,val:e.target.value},this)},handleChange:p().debounce(((e,t)=>{t.$emit("on-change",e)}),500)}},ei=Zt,ti=s(ei,Yt,Qt,!1,null,null,null),ii=ti.exports,ai=function(){var e=this,t=e._self._c;return t("Cascader",{ref:"cascaderRT",attrs:{data:e.data,"change-on-select":"",transfer:"",disabled:e.disabled,"render-format":e.format,placeholder:e.placeholder||e.t("r.pSelect"),filterable:e.filterable},on:{"on-change":e.onChange},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})},li=[],ri={name:"asyncCascader",mixins:[it],model:{prop:"valProp",event:"subVal"},props:{url:{type:String,default(){return window.g&&window.g.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""}},valProp:{type:[Array,Number,String]},optionVal:{type:String,default:"id"},optionLabel:{type:String,default:"name"},optionFilter:{type:Function},separator:{type:String,default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default:!1},placeholder:{type:String},disabled:{type:Boolean,default:!1}},data(){return{data:[]}},computed:{val:{get(){let e=this.valProp;return Array.isArray(e)?[].concat(e):p().isNumber(e)?oe({group:this.data,condition:t=>t.value===e,pathKey:"value"}):p().isString(e)?e.split(this.separator):null===e?[]:void 0},set(e){if(this.onlyLastVal)p().isEmpty(e)?(this.$emit("subVal",null),this.$emit("on-label-change",null)):this.$emit("subVal",p().last(e));else{if(p().isEqual(this.valProp,e))return;this.$emit("subVal",[].concat(e))}}}},created(){this.getData()},methods:{getData(){this.url?this.$fetch.get(this.url).then((e=>{let t=null;e&&e.data&&e.data.records?t=e.data.records:e&&e.data?t=e.data:e&&(t=e),t?("Function"===j(this.optionFilter)&&(t=this.optionFilter(t)),this.data=this.dataFilter(t)):console.warn("级联数据错误，不能使用")})).catch((()=>{console.warn("拉取级联数据出错")})):console.error("没有用于拉取级联数据的有效接口地址")},dataFilter(e){let t=[];for(let i of e){let e={value:i[this.optionVal],label:i[this.optionLabel]};i.children&&!p().isEmpty(i.children)&&(e.children=this.dataFilter(i.children)),t.push(e)}return t},format(e,t){return this.onlyLastLabel?p().last(e):e.join(this.separator)},onChange(e,t){let i=null;p().isEmpty(t)||(i=t.map((e=>e.label)).join(this.separator)),this.$emit("on-label-change",i)}}},oi=ri,si=s(oi,ai,li,!1,null,null,null),ni=si.exports,di=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:e.editorId}})},hi=[],ci=g(598),ui=g.n(ci),pi=g(942),mi=g.n(pi);const{$:fi,BtnMenu:yi}=ui();var gi={name:"Editor",mixins:[it],model:{prop:"value",event:"input"},props:{value:{type:String,default:""},valueType:{type:String,validator:e=>ne(e,["html","text"]),default:"html"},focus:{type:Boolean,default:!0},changeInterval:{type:Number,default:800},colors:{type:Array,default(){return["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"]}},fontNames:{type:Array,default(){return["黑体","仿宋","楷体","标楷体","华文仿宋","华文楷体","宋体","微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}},uploadImgMaxSize:{type:Number,default:104857.6},uploadImgMaxLength:{type:Number,default:10},uploadImgShowBase64:{type:Boolean,default:!0},uploadImgServe:{type:Object},showLinkImg:{type:Boolean,default:!0},placeholder:{type:String,default:"请输入正文"},previewClass:{type:String,default:"r-editor-view"},disabled:{type:Boolean,default:!1}},data(){return{editor:null,valueT:""}},computed:{editorId(){return`editor${this._uid}`}},created(){let e=p().cloneDeep(mi().whiteList);for(let t in e)e.hasOwnProperty(t)&&"Array"===j(e[t])&&e[t].unshift("style");this.xssP=new(mi().FilterXSS)({whiteList:e})},mounted(){this.editor=new(ui())(`#${this.editorId}`);const e=this.t("r.preview"),t=this.previewHandler;class i extends yi{constructor(t){const i=fi(`<div class="w-e-menu" title="${e}"><i class="ivu-icon ivu-icon-ios-eye" style="font-size: 22px;"></i></div>`);super(i,t)}clickHandler(){t()}tryChangeActive(){}}if(this.editor.menus.extend("viewMenuKey",i),this.editor.config.placeholder=this.placeholder,this.editor.config.zIndex=100,this.editor.config.menus=["head","bold","fontSize","fontName","italic","underline","indent","lineHeight","foreColor","backColor","link","list","justify","quote","emoticon","image","table","splitLine","undo","redo","viewMenuKey"],this.editor.config.focus=this.focus,this.editor.config.colors=this.colors,this.editor.config.fontNames=this.fontNames,this.editor.config.uploadImgMaxSize=this.uploadImgMaxSize,this.editor.config.uploadImgMaxLength=this.uploadImgMaxLength,this.editor.config.showLinkImg=this.showLinkImg,this.editor.config.menuTooltipPosition="down","Object"===j(this.uploadImgServe)||!1===this.uploadImgShowBase64){let e;this.editor.config.uploadImgShowBase64=!1,e="Object"===j(this.uploadImgServe)?p().cloneDeep(this.uploadImgServe):{},"Function"===j(e.customUploadImg)?this.editor.config.customUploadImg=e.customUploadImg:this.editor.config.customUploadImg=(t,i)=>{e=Object.assign({params:{},url:window&&window.g&&window.g.mgrURL+"/web/v1/fsc/file"||""},e);let a=Object.assign({appId:0,moduleId:0,typeId:0},e.params),l=new FormData;for(let e in a)a.hasOwnProperty(e)&&null!==a[e]&&l.append(e,a[e]);for(let e of t)l.append("files",e);Ee.post(e.url,l,null,[],{spain:!0,headers:{"Content-Type":"multipart/form-data"}}).then((t=>{if(t&&t.data&&"Array"===j(t.data))for(let a of t.data)pe(a.id)&&i(`${e.url}/${a.id}/download`);else this.$swal(this.t("r.uploadFail"),t&&t.message||"","error")})).catch((()=>{this.$swal(this.t("r.uploadError"),"","error")}))},this.editor.config.withCredentials=!0}else this.editor.config.uploadImgShowBase64=this.uploadImgShowBase64;this.editor.config.customAlert=e=>{z.apply(this,[this.t("r.uploadFail"),e||"","warning"])},this.editor.config.onchange=e=>{let t=this.editor&&this.editor.txt.text()||"",i=this.xssP.process(e);this.valueT="html"===this.valueType?i:t,this.value!==this.valueT&&(this.$emit("input","html"===this.valueType?i:t),this.$emit("on-change","html"===this.valueType?i:t))},this.editor.config.onchangeTimeout=this.changeInterval,this.editor.create(),this.value&&this.editor.txt.html(this.xssP.process(this.value)),We((()=>{this.$watch((()=>this.disabled),(e=>{e?this.editor.$textElem.attr("contenteditable",!1):this.editor.$textElem.attr("contenteditable",!0)}),{immediate:!0}),this.$watch((()=>this.value),(e=>{e!==this.valueT&&this.setHtml(e)}))}),10)},beforeDestroy(){let e=document.getElementById(this.editorId+"preview");e&&document.getElementsByTagName("body")[0].removeChild(e),this.editor&&(this.editor.destroy(),this.editor=null,this.xssP=null)},methods:{setHtml(e){this.editor.txt.html(this.xssP.process(e))},previewHandler(){const e=this.editorId+"preview";let t=document.getElementById(e),i=localStorage.getItem("editorPreviewW")||300,a=localStorage.getItem("editorPreviewH")||500;if(t){let e=t.children[0].children[1].children[0],l=t.children[0].children[1];e.innerHTML=this.value,e.style.width=i+"px",l.style.height=a+"px",t.style.display="block"}else{const l=document.getElementsByTagName("body");t=document.createElement("div"),t.setAttribute("id",e),t.setAttribute("class","editor-preview-mask"),t.innerHTML=`<div class="editor-preview-body"><div class="editor-preview-head"><div><span>宽</span><input type="number" value="${i}" min="200"><span>高</span><input type="number" value="${a}" min="300"></div><i class="ivu-icon ivu-icon-md-close"></i></div><div class="editor-preview-out-wall"><div class="editor-preview-wall ${this.previewClass}"></div></div></div>`;let r=t.children[0].children[1],o=t.children[0].children[1].children[0],s=t.children[0].children[0].children[0].children[1];const n=40,d=70,h=e=>{if(e&&"keyup"===e.type){let t=!1;if(e.key&&(t="Enter"!==e.key),t)return}let t=e.target.value;if(t=Number(t),o.style&&o.style.width===t+"px")return;const i=l[0].clientWidth;t<250?(t=250,e.target.value=250):t>i-n&&(t=i-n,e.target.value=i-n),o.style.width=t+"px",localStorage.setItem("editorPreviewW",t)};s.addEventListener("blur",h),s.addEventListener("keyup",h);let c=t.children[0].children[0].children[0].children[3];const u=e=>{if(e&&"keyup"===e.type){let t=!1;if(e.key&&(t="Enter"!==e.key),t)return}let t=e.target.value;if(t=Number(t),r.style&&r.style.height===t+"px")return;const i=l[0].clientHeight;t<300?(t=300,e.target.value=300):t>i-d&&(t=i-d,e.target.value=i-d),r.style.height=t+"px",localStorage.setItem("editorPreviewH",t)};c.addEventListener("blur",u),c.addEventListener("keyup",u);let p=t.children[0].children[0].children[1];p.addEventListener("click",(e=>{t.style.display="none"})),o.innerHTML=this.value,o.style.width=i+"px",r.style.height=a+"px",l[0].append(t)}}}},bi=gi,vi=s(bi,di,hi,!1,null,null,null),wi=vi.exports,ki=function(){var e=this,t=e._self._c;return t("div",{staticClass:"editor-pro-root"},[t("Toolbar",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"editor-pro-toolbar",attrs:{editor:e.editor,defaultConfig:e.toolbarConfigT,mode:e.mode}}),t("Editor",{staticClass:"editor-pro-editor",style:e.editorTextareaStyle,attrs:{defaultConfig:e.editorConfigT,mode:e.mode},on:{onCreated:e.onCreated},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}})],1)},xi=[],Si=g(90),Ci={name:"editorPro",mixins:[it],model:{prop:"value",event:"input"},props:{value:{type:String,default:""},toolbarConfig:{type:Object,default(){return{}}},editorConfig:{type:Object,default(){return{}}},mode:{type:String,validator:e=>ne(e,["default","simple"]),default:"default"},height:{type:String|Number,default:300},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},components:{Editor:Si.Editor,Toolbar:Si.Toolbar},data(){return{editor:null}},computed:{valueT:{get(){return this.value},set(e){this.$emit("input",e)}},toolbarConfigT(){return Object.assign({placeholder:this.placeholder||this.t("r.pInput"),insertKeys:{index:31,keys:["previewX"]}},this.toolbarConfig)},editorConfigT(){return Object.assign({readOnly:this.disabled},this.editorConfig)},editorTextareaStyle(){return{height:"string"===typeof this.height?this.height:this.height+"px"}}},beforeDestroy(){this.editor&&(this.editor.destroy(),this.editor=null)},watch:{disabled:{handler(e){e?this.editor.disable():this.editor.enable()}}},methods:{onCreated(e){this.editor=Object.seal(e)}}},Ti=Ci,Ki=s(Ti,ki,xi,!1,null,null,null),Bi=Ki.exports,Li=function(){var e=this,t=e._self._c;return t("ar-cascader",e._g(e._b({ref:"alCascaderRefLK",staticClass:"alCascaderMC",attrs:{level:e.level,disabled:e.disabled,placeholder:e.placeholder||e.t("r.pSelect"),transfer:e.transfer,searchable:e.filterable},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},"ar-cascader",e.$attrs,!1),e.$listeners))},Ii=[],Ai={name:"alCascaderMC",mixins:[it],model:{prop:"value",event:"subVal"},props:{value:{type:[String,Number,Array],default(){return null}},level:{type:[Number,String],validator:e=>ne(String(e),["0","1","2"]),default(){return 2}},disabled:{type:Boolean,default(){return!1}},transfer:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default(){return!0}},separator:{type:String,default(){return"/"}},placeholder:{type:String}},computed:{valueT:{get(){if(this.value&&(p().isNumber(this.value)||p().isString(this.value))){let e=String(this.value).trim(),t=/^\d*$/;if(t.test(e)){let t,i=e.substr(0,2)+"0000",a=this.getLastCode(e);return t=a.length<7?e.substr(0,4)+"00":e.substr(0,6),/^8\d+$/.test(e)?[i,a]:[i,t,a]}return-1!==e.indexOf(this.separator)?e.split(this.separator):[e]}if(Array.isArray(this.value))return p().cloneDeep(this.value);{let e=this.$refs.alCascaderRefLK;return e&&(e.select=[]),[]}},set(e){if(p().isEmpty(e))this.$emit("subVal",null),this.$emit("on-name-change",null);else{let t=p().last(e),i=null,a=null;if(t&&(i=t.code),i&&i.length<12){let e=[...i];while(e.length<12)e.push(0);i=e.join("")}if(Array.isArray(e)&&(a=e.map((e=>e.name)).join(this.separator)),i){if(i===this.value)return;this.$emit("subVal",i)}a&&this.$emit("on-name-change",a)}}}},methods:{getLastCode(e){let t=[...e];while("0"===t[t.length-1])t.pop();return t.join("")}}},$i=Ai,_i=s($i,Li,Ii,!1,null,null,null),Di=_i.exports,Ri=function(){var e=this,t=e._self._c;return e.initTree?t("Tree",{staticClass:"checkboxTreeGA",attrs:{id:e.id,data:e.dataT,render:e.renderContent,"show-checkbox":""},on:{"on-check-change":e.updateVal,"on-toggle-expand":e.changeStyle}}):e._e()},Oi=[],Vi={name:"checkboxTree",model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},expandAll:{type:Boolean,default:!1},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},inlineLeaf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{initTree:!0,dataT:[],id:"CKT"+Math.floor(1e7*Math.random()+1e7),valueE:[]}},computed:{collectValT(){return"Array"===j(this.collectVal)?this.collectVal:"String"===j(this.collectVal)?[this.collectVal]:[]},valueT(){return"Array"===j(this.value)?this.value:[]}},watch:{data:{handler(e){this.initTree=!1;let t=[];this.initData(e,t),this.dataT=t,this.$nextTick((function(){this.initTree=!0,this.inlineLeaf&&this.$nextTick(this.changeStyle)}))},immediate:!0,deep:!0},valueT(e){let t,i="s";"Array"===j(this.collectVal)&&this.collectVal[0]?(t=this.collectVal[0],i="a"):t=this.collectVal,t&&JSON.stringify(e)!==JSON.stringify(this.valueE)?(ve({group:this.dataT,condition:e=>!0===e.checked,key:"checked",val:!1}),ve("a"===i?{group:this.dataT,condition:i=>-1!==p().findIndex(e,[t,i[t]]),key:"checked",val:!0}:{group:this.dataT,condition:i=>-1!==e.indexOf(i[t]),key:"checked",val:!0})):this.valueE=[]},disabled:{handler(e){ve({group:this.dataT,condition:t=>t.disableCheckbox!==e,key:"disableCheckbox",val:e}),this.inlineLeaf&&this.$nextTick(this.changeStyle)},immediate:!0}},methods:{initData(e,t=[]){for(let i of e){let e=!1;e=this.collectValT.length>1?void 0!==p().find(this.valueT,(e=>e[p().head(this.collectValT)]===i[p().head(this.collectValT)])):-1!==this.valueT.indexOf(i[p().head(this.collectValT)]);let a={name:i[this.label],expand:Boolean(this.expandAll||i.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)a[t]=i[t];t.push(a),i.children&&i.children.length>0&&(a.children=[],this.initDataB(i.children,a.children))}},initDataB(e,t=[]){for(let i of e){let e=!1;e=this.collectValT.length>1?void 0!==p().find(this.valueT,(e=>e[p().head(this.collectValT)]===i[p().head(this.collectValT)])):-1!==this.valueT.indexOf(i[p().head(this.collectValT)]);let a={name:i[this.label],expand:Boolean(this.expandAll||i.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)a[t]=i[t];t.push(a),i.children&&i.children.length>0&&(a.children=[],this.initData(i.children,a.children))}},renderContent(e,{root:t,node:i,data:a}){let l="",r=!0;if(a.children&&a.children.length>0){for(let e of a.children)if(void 0!==e.children){r=!1;break}r&&this.inlineLeaf&&(l="inlineChildXA")}return e("div",{style:{display:"inline-block",width:"100%"},class:l},[e("span",{style:{fontWeight:a.children?"bold":"normal"}},a.name)])},changeStyle(e){if(e)return void(e.expand&&this.$nextTick(this.changeStyle));let t=document.querySelectorAll("#"+this.id+" .inlineChildXA");if(t.length>0)for(let i of t){let e=i.parentNode,t=e.nextElementSibling;if(!t)return;if("BR"!==t.tagName){let i=e.parentNode,a=document.createElement("br");i.insertBefore(a,t),t=a.nextElementSibling,-1===t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}while(t.nextElementSibling)t=t.nextElementSibling,-1===t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}},updateVal(e){let t=[];if(this.leaf){for(let i of e)if(!i.children)if("Array"===j(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=i[t];t.push(e)}else t.push(i[this.collectVal])}else for(let i of e)if("Array"===j(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=i[t];t.push(e)}else t.push(i[this.collectVal]);this.valueE=t,this.$emit("subVal",t),this.$emit("on-change",p().cloneDeep(t))}}},Mi=Vi,Gi=s(Mi,Ri,Oi,!1,null,null,null),Ni=Gi.exports,Fi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"boxLPA"},[t("div",{staticClass:"headerJ"},[t("div",{staticClass:"firstT borderBoxAS"},[e._v(e._s(e.firstTitle||e.t("r.level.1")))]),t("div",{staticClass:"secondT borderBoxAS"},[e._v(e._s(e.secondTitle||e.t("r.level.2")))])]),e._l(e.dataT,(function(i,a){return t("div",{key:"checkboxJ"+a,staticClass:"bodyJ"},[t("div",{staticClass:"firstCol borderBoxAS"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkAll(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"item.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"secondCol borderBoxAS"},e._l(i.children,(function(i,a){return t("div",{key:"secItem"+a,staticClass:"secItem"},[t("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"secItem.checked"}},[e._v(e._s(i[e.label]))])],1)})),0)])}))],2)},Pi=[],Xi={name:"checkboxGroupTwoClass",mixins:[it],model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String},secondTitle:{type:String},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=p().cloneDeep(this.data),t=p().cloneDeep(this.leafChecked);for(let i of e){let e=0;if(i.children&&!p().isEmpty(i.children))for(let a of i.children){for(let i=0,l=t.length;i<l;i++)if("Object"===j(t[i])){let l=!0;for(let e of this.collectVal)if(t[i][e]!==a[e]){l=!1;break}if(l){a.checked=!0,e++,t.splice(i,1);break}}else if(t[i]===a[this.collectVal]){a.checked=!0,e++,t.splice(i,1);break}!a.checked&&(a.checked=!1)}0===e?(i.checked=!1,i.indeterminate=!1):i.children&&e===i.children.length?(i.checked=!0,i.indeterminate=!1):(i.checked=!1,i.indeterminate=!0)}return e}},watch:{value:{handler(e,t){p().isEqual(this.leafChecked,e)||p().isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkAll(e,t){if(e.children)for(let i of e.children)i.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let i=[];for(let a of e){if(!t&&!this.leaf&&a.checked&&!1===a.indeterminate)if("Array"===j(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];i.push(e)}else"String"===j(this.collectVal)&&i.push(a[this.collectVal]);if(a.children)for(let e of a.children)if(e.checked)if("Array"===j(this.collectVal)){let t={};for(let i of this.collectVal)t[i]=e[i];i.push(t)}else"String"===j(this.collectVal)&&i.push(e[this.collectVal])}t?(this.leafChecked=i,this.leaf?(this.$emit("subVal",i),this.$emit("on-change",p().cloneDeep(i))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",i),this.$emit("on-change",p().cloneDeep(i)))}}},Ei=Xi,zi=s(Ei,Fi,Pi,!1,null,null,null),ji=zi.exports,Hi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"boxLPB"},[t("div",{staticClass:"headerF"},[t("div",{staticClass:"firstT borderBoxKa"},[e._v(e._s(e.firstTitle||e.t("r.level.1")))]),t("div",{staticClass:"secondT borderBoxKa"},[e._v(e._s(e.secondTitle||e.t("r.level.2")))]),t("div",{staticClass:"thirdT borderBoxKa"},[e._v(e._s(e.thirdTitle||e.t("r.level.3")))])]),e._l(e.dataT,(function(i,a){return t("div",{key:"checkboxJ"+a,staticClass:"bodyF"},[t("div",{staticClass:"firstCol borderBoxKa"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkChangeFirst(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"item.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"rightBoxAL"},e._l(i.children,(function(i,a){return t("div",{key:"secItem"+a,staticClass:"rightBoxInner"},[t("div",{staticClass:"secondCol borderBoxKa"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkChangeSecond(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"secItem.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"thirdCol borderBoxKa"},e._l(i.children,(function(i,a){return t("div",{key:"thirdItem"+a,staticClass:"thirdItem"},[t("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"thirdItem.checked"}},[e._v(e._s(i[e.label]))])],1)})),0)])})),0)])}))],2)},Wi=[],Ui={name:"checkboxGroupThreeClass",mixins:[it],model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String},secondTitle:{type:String},thirdTitle:{type:String},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=p().cloneDeep(this.data),t=p().cloneDeep(this.leafChecked);for(let i of e){let e=0,a=0;if(i.children&&!p().isEmpty(i.children))for(let l of i.children){let i=0;if(l.children&&!p().isEmpty(l.children))for(let e of l.children){for(let a=0,l=t.length;a<l;a++)if("Object"===j(t[a])){let l=!0;for(let i of this.collectVal)if(t[a][i]!==e[i]){l=!1;break}if(l){e.checked=!0,i++,t.splice(a,1);break}}else if(t[a]===e[this.collectVal]){e.checked=!0,i++,t.splice(a,1);break}!e.checked&&(e.checked=!1)}0===i?(l.checked=!1,l.indeterminate=!1):l.children&&i===l.children.length?(l.checked=!0,l.indeterminate=!1,e++):(l.checked=!1,l.indeterminate=!0,a++)}0===e&&0===a?(i.checked=!1,i.indeterminate=!1):i.children&&e===i.children.length?(i.checked=!0,i.indeterminate=!1):(i.checked=!1,i.indeterminate=!0)}return e}},watch:{value:{handler(e,t){p().isEqual(this.leafChecked,e)||p().isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkChangeFirst(e,t){if(e.children)for(let i of e.children)if(i.checked=t,i.children)for(let e of i.children)e.checked=t;this.updateDataT()},checkChangeSecond(e,t){if(e.children)for(let i of e.children)i.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let i=[];for(let a of e){if(!t&&!this.leaf&&a.checked&&!1===a.indeterminate)if("Array"===j(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];i.push(e)}else"String"===j(this.collectVal)&&i.push(a[this.collectVal]);if(a.children)for(let e of a.children){if(!t&&!this.leaf&&e.checked&&!1===e.indeterminate)if("Array"===j(this.collectVal)){let t={};for(let i of this.collectVal)t[i]=e[i];i.push(t)}else"String"===j(this.collectVal)&&i.push(e[this.collectVal]);if(e.children)for(let t of e.children)if(t.checked)if("Array"===j(this.collectVal)){let e={};for(let i of this.collectVal)e[i]=t[i];i.push(e)}else"String"===j(this.collectVal)&&i.push(t[this.collectVal])}}t?(this.leafChecked=i,this.leaf?(this.$emit("subVal",i),this.$emit("on-change",p().cloneDeep(i))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",i),this.$emit("on-change",p().cloneDeep(i)))}}},qi=Ui,Ji=s(qi,Hi,Wi,!1,null,null,null),Yi=Ji.exports,Qi=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],staticClass:"fullScreenPopBoxAM"},[t("div",{staticClass:"headerAM",style:{color:e.headerColor,backgroundColor:e.headerBg,fontSize:e.hFontSize}},[t("span",{staticClass:"headerTxtAM"},[e._v(e._s(e.title||e.t("r.title")))]),t("header-bt",{attrs:{icon:"md-return-left"},on:{click:e.close}},[e._v(e._s(e.t("r.back")))])],1),t("div",{staticClass:"contentAM"},[e._t("default")],2)])},Zi=[],ea=function(){var e=this,t=e._self._c;return t("div",{class:{headerBtCTM:!0,withIconCTM:e.icon||e.withIcon,disabled:e.disabled},style:{color:e.color,borderLeftColor:e.borderColor},on:{click:e.click}},[e.icon?t("Icon",{attrs:{size:e.iconSize,type:e.icon}}):e._e(),e._t("default")],2)},ta=[],ia={name:"headerBt",props:{icon:{type:String},withIcon:{type:Boolean,default:!1},iconSize:{type:[Number,String],default:18},color:{type:String,default:"inherit"},borderColor:{type:String,default:"#fff"},disabled:{type:Boolean,default:!1}},methods:{click(e){this.disabled||this.$emit("click",e)}}},aa=ia,la=s(aa,ea,ta,!1,null,null,null),ra=la.exports,oa={name:"fullScreenPop",mixins:[it],components:{headerBt:ra},props:{title:{type:String},headerColor:{type:String},headerBg:{type:String},headerFontSize:{type:[String,Number],default:12}},data(){return{showPop:!1}},computed:{hFontSize(){return"Number"===j(this.headerFontSize)?this.headerFontSize+"px":this.headerFontSize}},methods:{open(){this.showPop=!0,this.$emit("on-open")},close(e){this.showPop=!1,this.$emit("on-close",!0===e)}}},sa=oa,na=s(sa,Qi,Zi,!1,null,null,null),da=na.exports,ha=function(){var e=this,t=e._self._c;return t("Form",{key:e.formReRenderKey,ref:"formGroupXRef",staticClass:"formXN",attrs:{model:e.valGroup,rules:e.formRulesT,"label-width":e.labelWidth,inline:e.inline,"show-message":e.showMessage}},[t("FormItem",{staticStyle:{display:"none"}},[t("input",{attrs:{type:"text"}})]),e._l(e.formDataT,(function(i,a){return e.formTeam?t("div",{key:"formTeamBox"+a,class:[e.teamClass,"formTeamBox"+a]},e._l(i,(function(a,l){return e.getFormItemIfVal(a)?t("item-r",{key:"formItem"+l,style:e.formStyle,attrs:{item:a,"item-style":e.itemStyle,"val-group":e.valGroup,"temp-keys":e.tempKeys,inline:e.inline,disabled:e.disabled,"label-width":e.labelWidth,"item-width":e.itemWidth,"mgr-url":e.mgrUrl,"upload-url":e.uploadUrl},on:{"item-change":e.itemChange,"re-validate":e.reValidateAndChangeHandle,"clear-temp-key-item":e.clearTempKeyItem,"select-input-change":e.onSelectInputChange,"al-name-change":e.alNameChange,"async-label-change":e.asyncLabelChange},scopedSlots:e._u([e._l(e.getSlotFormData(i),(function(t){return{key:t.slotName,fn:function({valGroup:i}){return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)}):e._e()})),1):e._e()})),e._l(e.formDataT,(function(i,a){return!e.formTeam&&e.getFormItemIfVal(i)?t("item-r",{key:"formItem"+a,style:e.formStyle,attrs:{item:i,"item-style":e.itemStyle,"val-group":e.valGroup,"temp-keys":e.tempKeys,inline:e.inline,disabled:e.disabled,"label-width":e.labelWidth,"item-width":e.itemWidth,"mgr-url":e.mgrUrl,"upload-url":e.uploadUrl},on:{"item-change":e.itemChange,"re-validate":e.reValidateAndChangeHandle,"clear-temp-key-item":e.clearTempKeyItem,"select-input-change":e.onSelectInputChange,"al-name-change":e.alNameChange,"async-label-change":e.asyncLabelChange},scopedSlots:e._u([e._l(e.getSlotFormData(e.formData),(function(t){return{key:t.slotName,fn:function({valGroup:i}){return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)}):e._e()})),e.showLongOkBt?t("FormItem",[t("Button",{style:e.itemStyle,attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.longOkBtTxt||e.t("r.confirm")))])],1):e._e(),t("div",{staticClass:"inlineBlock"},[e.showInlineOkBt?t("Button",{class:{inlineFormBtXN:e.inline,okBtnXN:!0},attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.inlineOkBtTxt||e.t("r.confirm")))]):e._e(),e.showInlineClearBt?t("Button",{class:{inlineFormBtXN:e.inline},attrs:{type:"dashed"},on:{click:e.resetForm}},[e._v(e._s(e.inlineClearBtTxt||e.t("r.clear")))]):e._e()],1)],2)},ca=[],ua=g(649),pa=g.n(ua),ma=function(){var e=this,t=e._self._c;return t("FormItem",{staticClass:"relativeBox",class:e.itemClass(e.item),attrs:{label:"radio"!==e.item.type&&"checkbox"!==e.item.type?e.item.label:" ",prop:e.item.key||""}},["txt"===e.item.type?t("div",{class:{likeInputX:e.item.likeInput},staticStyle:{display:"inline-block"},style:e.itemStyle},[e._v(e._s(e.item.valKey?e.valGroup[e.item.valKey]||"无":e.item.val))]):"inputNumber"===e.item.type?t("InputNumber",{style:e.itemStyle,attrs:{max:e.item.max||0===e.item.max?e.item.max:1/0,min:e.item.min||0===e.item.min?e.item.min:-1/0,precision:e.item.precision,step:e.item.step||1,placeholder:e.item.placeholder||e.t("r.pInput"),disabled:Boolean(e.item.disabled)||e.disabled,readonly:Boolean(e.item.readonly),editable:!1!==e.item.editable,"active-change":Boolean(e.item.activeChange),clearable:!1!==e.item.clearable},on:{"on-blur":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"input"===e.item.type?t("Input",{style:e.itemStyle,attrs:{maxlength:e.item.maxLength||null,password:Boolean(e.item.password),icon:e.item.icon,prefix:e.item.prefix,suffix:e.item.suffix,placeholder:e.item.placeholder||e.t("r.pInput"),disabled:Boolean(e.item.disabled)||e.disabled,clearable:!1!==e.item.clearable},on:{"on-blur":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}},[e.item.slotPosition&&e.item.slotName?t("template",{slot:e.item.slotPosition},[e._t(e.item.slotName)],2):e._e(),"prepend"!==e.item.slotPosition&&e.item.prepend?t("template",{slot:"prepend"},[t("span",[e._v(e._s(e.item.prepend))])]):e._e(),"append"!==e.item.slotPosition&&e.item.append?t("template",{slot:"append"},[t("span",[e._v(e._s(e.item.append))])]):e._e()],2):"select"===e.item.type?t("Select",{style:e.itemStyle,attrs:{filterable:(!0===e.item.filterable||!1===e.item.filterable)&&e.item.filterable,disabled:Boolean(e.item.disabled)||e.disabled,multiple:Boolean(e.item.multiple),placeholder:e.item.placeholder||e.t("r.pSelect"),transfer:"",clearable:!1!==e.item.clearable},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}},e._l(e.item.options,(function(i,a){return t("Option",{key:"option-"+e.item.key+a,attrs:{value:i.val,label:i.label||i.val,disabled:!!i.disabled}})})),1):"selectInput"===e.item.type?t("select-input",{attrs:{"label-width":e.labelWidth,"item-width":e.itemWidth,"select-option":e.item.options||[],placeholder:e.item.placeholder||e.t("r.pInput"),clearable:!1!==e.item.clearable,disabled:Boolean(e.item.disabled)||e.disabled},on:{"on-change":e.onSelectInputChange},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"alCascader"===e.item.type?t("al-cascader-m-c",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{level:e.item.level||0===e.item.level?e.item.level:2,disabled:Boolean(e.item.disabled)||e.disabled,filterable:!1!==e.item.filterable,placeholder:e.item.placeholder||e.t("r.pSelect"),"change-on-select":Boolean(e.item.changeOnSelect)},on:{"on-name-change":function(t){return e.alNameChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"asyncCascader"===e.item.type?t("async-cascader",{style:e.itemStyle,attrs:{url:e.item.url||e.mgrUrl+"/web/v1/umc/orgs","option-val":e.item.optionVal||"id","option-label":e.item.optionLabel||"name","option-filter":e.item.optionFilter||null,"only-last-val":!1!==e.item.onlyLastVal,"only-last-label":!1!==e.item.onlyLastLabel,separator:e.item.separator||"/",placeholder:e.item.placeholder||e.t("r.pSelect"),filterable:Boolean(e.item.filterable),disabled:Boolean(e.item.disabled)||e.disabled},on:{"on-label-change":function(t){return e.asyncLabelChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"radio"===e.item.type?t("Radio",{attrs:{disabled:Boolean(e.item.disabled)||e.disabled},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}},[e._v(e._s(e.item.label))]):"radioGroup"===e.item.type?t("RadioGroup",{style:e.itemStyle,attrs:{type:e.item.buttonType?"button":null},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}},e._l(e.item.options,(function(i){return t("Radio",{key:"radioItem"+i.val,attrs:{label:i.val,border:Boolean(e.item.itemBorder),disabled:Boolean(e.item.disabled)||e.disabled||i.disabled}},[i.icon&&!e.item.buttonType?t("Icon",{attrs:{type:i.icon}}):e._e(),t("span",[e._v(e._s(i.label||i.val))])],1)})),1):"checkbox"===e.item.type?t("Checkbox",{attrs:{disabled:!!e.item.disabled},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}},[e._v(e._s(e.item.label))]):"checkboxGroup"===e.item.type?t("CheckboxGroup",{style:e.itemStyle,on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}},e._l(e.item.options,(function(i){return t("Checkbox",{key:"checkItem"+i.val,attrs:{label:i.val,disabled:Boolean(e.item.disabled)||e.disabled||i.disabled}},[i.icon?t("Icon",{attrs:{type:i.icon}}):e._e(),t("span",[e._v(e._s(i.label||i.val))])],1)})),1):"textarea"===e.item.type?t("Input",{style:e.itemStyle,attrs:{type:"textarea",autosize:e.item.autosize||{minRows:2},maxlength:e.item.maxLength||null,"show-word-limit":Boolean(e.item.showWordLimit),placeholder:e.item.placeholder||e.t("r.pInput"),disabled:Boolean(e.item.disabled)||e.disabled,clearable:!1!==e.item.clearable},on:{"on-blur":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"upload"===e.item.type?t("upload-group",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{url:e.item.url||e.uploadUrl,"manual-upload":Boolean(e.item.manualUpload),format:e.item.format||[],data:e.item.data,"max-size":e.item.maxSize||0,"show-img":Boolean(e.item.showImg),length:e.item.length||0,disabled:Boolean(e.item.disabled)||e.disabled,"with-credentials":!1!==e.item.withCredentials},on:{"on-file-id-change":function(t){return e.reValidateAndChangeHandle(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"date"===e.item.type?t("DatePicker",{style:e.itemStyle,attrs:{type:e.item.dateType,disabled:Boolean(e.item.disabled)||e.disabled,placement:"bottom-end",placeholder:e.item.placeholder||e.t("r.selectDate"),options:e.item.dateOptions||null,clearable:!1!==e.item.clearable,editable:!1,transfer:""},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"time"===e.item.type?t("TimePicker",{style:e.itemStyle,attrs:{type:e.item.dateType,disabled:Boolean(e.item.disabled)||e.disabled,placement:"bottom-end",placeholder:e.item.placeholder||e.t("r.selectTime"),steps:e.item.steps||[],clearable:!1!==e.item.clearable,editable:!1,format:e.item.format||"HH:mm:ss",transfer:""},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"monthRange"===e.item.type?t("month-range",{style:e.itemStyle,attrs:{disabled:Boolean(e.item.disabled)||e.disabled,placement:"bottom-end",placeholder:e.item.placeholder||e.t("r.selectDate"),options1:e.item.dateOptions1||null,options2:e.item.dateOptions2||null},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"editor"===e.item.type?t("editor",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{placeholder:e.item.placeholder||e.t("r.pInput"),disabled:Boolean(e.item.disabled)||e.disabled,"upload-img-max-size":e.item.uploadImgMaxSize||102400,"upload-img-max-length":e.item.uploadImgMaxLength||10,"upload-img-show-base64":!1!==e.item.uploadImgShowBase64,"show-link-img":!1!==e.item.showLinkImg,"upload-img-serve":e.item.uploadImgServe,"preview-class":e.item.previewClass||"r-editor-view"},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"editorPro"===e.item.type?t("editor-pro",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{placeholder:e.item.placeholder||e.t("r.pInput"),disabled:Boolean(e.item.disabled)||e.disabled,"toolbar-config":e.item.toolbarConfig||{},"editor-config":e.item.editorConfig||{},mode:e.item.mode||"simple",height:e.item.height||300},on:{input:function(t){return e.itemChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"inputMap"===e.item.type?t("input-map",{style:e.itemStyle,attrs:{placeholder:e.item.placeholder||e.t("r.search"),disabled:Boolean(e.item.disabled)||e.disabled,"show-map":!1!==e.item.showMap,height:e.item.mapHeight||"250px"},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"custom"===e.item.type?t("div",{staticClass:"inlineBlock",style:e.itemStyle},[e._t(e.item.slotName,null,{valGroup:e.valGroup})],2):e._e(),Boolean(e.item.info)?t("div",{staticClass:"formInfoTxtXN"},[e._v(e._s(e.item.info))]):e._e(),Boolean(e.item.title)?t("div",{staticClass:"formTitleTxtXN"},[e._v(e._s(e.item.title))]):e._e()],1)},fa=[],ya=function(){var e=this,t=e._self._c;return t("div",{staticClass:"monthRangeBoxR"},[t("DatePicker",{attrs:{open:e.openB,value:e.valueB,transfer:"",type:"month",placement:e.placement,options:e.options2},on:{"on-change":e.changeB,"on-clickoutside":e.close}},[t("div",{staticClass:"bRoot"})]),t("DatePicker",{attrs:{open:e.openA,value:e.valueA,transfer:"",type:"month",placement:e.placement,options:e.options1},on:{"on-change":e.changeA,"on-clickoutside":e.close}},[t("div",{on:{click:e.focus}},[t("Input",{staticClass:"aRoot",attrs:{readonly:"",placeholder:e.placeholder||e.t("r.selectDate"),disabled:e.disabled},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},[t("Icon",{attrs:{slot:"suffix",type:e.mouseOver&&(this.valueA||this.valueB)&&!e.disabled?"ios-close-circle":"ios-calendar-outline"},slot:"suffix"})],1)],1)])],1)},ga=[],ba={name:"monthRange",mixins:[it],model:{prop:"value",event:"on-change"},props:{value:{type:Array,default(){return[null,null]}},placement:{type:String,default:"bottom-start"},placeholder:{type:String},options1:{type:Object},options2:{type:Object},disabled:{type:Boolean,default:!1}},data(){return{openA:!1,openB:!1,mouseOver:!1}},computed:{valueA:{get(){return this.value&&this.value[0]||null},set(e){this.$emit("on-change",[e,this.valueB])}},valueB:{get(){return this.value&&this.value[1]||null},set(e){this.$emit("on-change",[this.valueA,e])}},valueT(){return(this.valueA||"")+(this.valueA||this.valueB?" - ":"")+(this.valueB||"")}},mounted(){document.querySelector(".monthRangeBoxR .aRoot .ivu-input-suffix").addEventListener("mouseover",(()=>{this.mouseOver=!0})),document.querySelector(".monthRangeBoxR .aRoot .ivu-input-suffix").addEventListener("mouseout",(()=>{this.mouseOver=!1})),document.querySelector(".monthRangeBoxR .aRoot .ivu-input-suffix").addEventListener("click",(e=>{this.disabled||!this.valueA&&!this.valueB||(e.stopPropagation(),this.clear())}))},methods:{focus(){this.disabled||(this.openA=!0)},changeA(e){this.valueA=e,this.openA=!1,this.openB=!0},changeB(e){this.valueB=e,this.openB=!1},clear(){this.$emit("on-change",[null,null])},close(){this.openA=!1,this.openB=!1,this.valueA&&null===this.valueB&&(this.valueA=null)}}},va=ba,wa=s(va,ya,ga,!1,null,null,null),ka=wa.exports,xa={name:"itemR",mixins:[it],components:{selectInput:ii,alCascaderMC:Di,asyncCascader:ni,uploadGroup:vt,editor:wi,editorPro:Bi,inputMap:_t,monthRange:ka},props:{item:Object,itemStyle:Object,valGroup:Object,tempKeys:Object,inline:Boolean,disabled:Boolean,labelWidth:Number,itemWidth:Number,mgrUrl:String,uploadUrl:String},methods:{itemClass(e){return{withInfo:Boolean(e.info),withTitle:Boolean(e.title),inlineFormItemXN:this.inline,noLabel:"selectInput"===e.type,[e.class]:e.class,slotInput:e.slotPosition}},itemChange(e,t){this.$emit("item-change",{e:e,root:t})},reValidateAndChangeHandle(e,t){this.$emit("re-validate",{e:e,root:t})},onSelectInputChange(e){this.$emit("select-input-change",e)},alNameChange(e,t){this.$emit("al-name-change",{name:e,root:t})},asyncLabelChange(e,t){this.$emit("async-label-change",{label:e,root:t})}}},Sa=xa,Ca=s(Sa,ma,fa,!1,null,null,null),Ta=Ca.exports,Ka={name:"formR",mixins:[it],components:{ItemR:Ta},props:{formData:{type:Array,default(){return[]}},formRules:{type:Object,default(){return{}}},showMessage:{type:Boolean,default:!0},labelWidth:{type:Number,default:160},contentWidth:{type:String,default:"70%"},itemWidth:{type:Number,default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{type:String},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{type:String},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{type:String},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0},teamClass:{type:String,default:"formTeamBox"}},data(){return{valGroup:{},formDataT:[],tempKeys:{},watchGroup:[],mgrUrl:window.g&&window.g.mgrURL||null,selectInputKeys:[],hiddenKeys:[],showLoading:!1,formReRenderKey:Math.floor(1e8*Math.random()+1e3),uploadUrl:window.g&&window.g.mgrURL&&window.g.mgrURL+"/web/v1/fsc/file"||"/file",debounceCount:!1}},computed:{formTeam(){return Array.isArray(p().head(this.formData))},formStyle(){return this.inline?{width:this.itemWidth+this.labelWidth+"px"}:{}},itemStyle(){return this.inline?{width:"100%"}:{width:this.contentWidth}},formRulesT(){let e=p().cloneDeep(this.formRules);for(let t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t]))for(let i of e[t])i.message||i.validator||(i.message=this.t("r.required"));else"Object"===j(e[t])&&(e[t].message||e[t].validator||(e[t].message=this.t("r.required")));return e},submitKeys(){let e=[];if(this.formTeam)for(let t of this.formDataT)this.submitItems(t,e);else this.submitItems(this.formDataT,e);return e.concat(this.selectInputKeys,this.hiddenKeys)},showingKeys(){let e=[];if(this.formTeam)for(let t of this.formDataT)this.showingItems(t,e);else this.showingItems(this.formDataT,e);return e}},created(){this.initValGroup(),this.initFormDataT()},methods:{getSlotFormData(e){return e.filter((e=>e.slotName))},submitItems(e,t){for(let i of e)if(!0===i.showing&&i.key&&"selectInput"!==i.type&&(t.push(i.key),i.key2&&t.push(i.key2),i.collectLabel))if("Object"===j(i.collectLabel)&&i.collectLabel.key)t.push(i.collectLabel.key);else if(Array.isArray(i.collectLabel))for(let e of i.collectLabel)e.key&&t.push(e.key)},showingItems(e,t){for(let i of e)!0===i.showing&&i.key&&"selectInput"!==i.type&&t.push(i.key)},resetForm(){return new Promise((e=>{this.clearForm(),this.refreshFormDom().then((()=>{this.$emit("on-reset"),e()}))}))},reRenderForm(){return new Promise((e=>{for(let t of this.watchGroup)t();this.tempKeys={},this.initValGroup(),this.initFormDataT(),this.refreshFormDom().then((()=>{this.$emit("on-re-render"),e()}))}))},refreshFormDom(){return new Promise((e=>{this.formReRenderKey=Math.floor(1e8*Math.random()+1e3),this.$nextTick((function(){e()}))}))},clearForm(){let e=this.getDefaultValues();for(let t in this.valGroup)if(this.valGroup.hasOwnProperty(t))if(pe(e[t]))this.$set(this.valGroup,t,e[t]);else if(Array.isArray(this.valGroup[t]))this.$set(this.valGroup,t,[]);else if("Boolean"===j(this.valGroup[t]))this.$set(this.valGroup,t,!1);else{const e=se(this.formData,(e=>e.key===t));!e||"editor"!==e.type&&"editorPro"!==e.type?this.$set(this.valGroup,t,null):this.$set(this.valGroup,t,"")}this.clearTempKeys(e)},clearTempKeys(e){for(let t in this.tempKeys)this.tempKeys.hasOwnProperty(t)&&(pe(e[t])?this.$set(this.tempKeys,t,e[t]):Array.isArray(this.tempKeys[t])?this.$set(this.tempKeys,t,[]):"Object"===j(this.tempKeys[t])&&this.tempKeys[t].hasOwnProperty("key")&&this.tempKeys[t].hasOwnProperty("val")?this.$set(this.tempKeys[t],"val",null):this.$set(this.tempKeys,t,null))},clearTempKeyItem(e){let t=this.getDefaultValues();pe(t[e])?this.$set(this.tempKeys,e,t[e]):Array.isArray(this.tempKeys)?this.tempKeys[e]=[]:this.tempKeys[e]=null},getDefaultValues(){let e={};if(this.formTeam)for(let t of this.formDataT)this.defaultValItems(t,e);else this.defaultValItems(this.formDataT,e);return e},defaultValItems(e,t){for(let i of e)i.tempKey&&pe(i.defaultVal)&&this.getTempKeyDefaultVal(i,t),i.key&&pe(i.defaultVal)&&(t[i.key]=i.defaultVal),i.key2&&pe(i.defaultVal2)&&(t[i.key2]=i.defaultVal2)},getFormItemIfVal(e){if(e.show){if("Object"===j(e.show))return this.returnIfVal(e,this.dealIfItem(e.show));if(Array.isArray(e.show)){if(e.showOr){for(let t of e.show)if(!0===this.dealIfItem(t))return this.returnIfVal(e,!0);return this.returnIfVal(e,!1)}for(let t of e.show)if(!1===this.dealIfItem(t))return this.returnIfVal(e,!1);return this.returnIfVal(e,!0)}if("Function"===j(e.show))return this.returnIfVal(e,e.show(this.valGroup))}else e.showing||this.$set(e,"showing",!0);return!0},dealIfItem(e){if(e.reg&&"function"===typeof e.reg.test)return e.reg.test(this.valGroup[e.key]);if(Array.isArray(e.val)){for(let t of e.val){if((this.valGroup[e.key]||0===this.valGroup[e.key]||!1===this.valGroup[e.key])&&"."===t)return!0;if(this.valGroup[e.key]===t)return!0}return!1}return!1},returnIfVal(e,t){return!e.showing&&t&&e.key?(this.$set(e,"showing",t),void 0!==e.defaultVal&&(e.tempKey?(null===this.tempKeys[e.tempKey]||void 0===this.tempKeys[e.tempKey]||("Object"===j(this.tempKeys[e.tempKey])||Array.isArray(this.tempKeys[e.tempKey]))&&p().isEmpty(this.tempKeys[e.tempKey]))&&this.getTempKeyDefaultVal(e,this.tempKeys):null!==this.valGroup[e.key]&&void 0!==this.valGroup[e.key]||this.$set(this.valGroup,e.key,e.defaultVal),!e.key2||void 0===e.deafultVal2||null!==this.valGroup[e.key2]&&void 0!==this.valGroup[e.key2]||"inputMap"===e.type||(this.valGroup[e.key2]=e.defaultVal2)),e.tempKey&&this.tempKeysWatchHandle(this.tempKeys[e.tempKey],e)):this.$set(e,"showing",t),t},getTempKeyDefaultVal(e,t){switch(e.type){case"selectInput":t[e.tempKey]={key:e.key,val:e.defaultVal};break;case"inputMap":e.key3?t[e.tempKey]={lng:e.defaultVal||0,lat:e.defaultVal2||0,name:e.defaultVal3||""}:t[e.tempKey]={lng:e.defaultVal||0,lat:e.defaultVal2||0};break;case"input":case"inputNumber":case"textarea":t[e.tempKey]=e.defaultVal;break;case"radioGroup":case"select":case"checkboxGroup":e.booleanVal?t[e.tempKey]=Boolean(e.defaultVal)?1:0:t[e.tempKey]=e.defaultVal;break;case"date":case"time":case"monthRange":"date"===e.dateType||"datetime"===e.dateType||"time"===e.dateType||"year"===e.dateType||"month"===e.dateType?t[e.tempKey]=e.defaultVal:"daterange"!==e.dateType&&"datetimerange"!==e.dateType&&"timerange"!==e.dateType&&"monthRange"!==e.type||(t[e.tempKey]=e.defaultVal&&e.defaultVal2&&[e.defaultVal,e.defaultVal2]||[]);break}},initFormDataT(){let e=p().cloneDeep(this.formData);if(this.formTeam)for(let t of e)this.initItems(t);else this.initItems(e);this.formDataT=e},initItems(e){for(let t of e)switch(t.type){case"selectInput":const e="selectInput"+Math.floor(1e8*Math.random());t.tempKey=e,this.$set(this.tempKeys,e,{key:t.key||null,val:t.defaultVal||null}),this.watchGroup.push(this.$watch((()=>this.tempKeys[e]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0}));break;case"inputMap":const i="inputMap"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=i,t.key3?this.$set(this.tempKeys,i,void 0!==t.defaultVal&&void 0!==t.defaultVal2?{lng:t.defaultVal,lat:t.defaultVal2,name:t.defaultVal3||""}:{lng:null,lat:null,name:null}):this.$set(this.tempKeys,i,void 0!==t.defaultVal&&void 0!==t.defaultVal2?{lng:t.defaultVal,lat:t.defaultVal2}:{lng:null,lat:null}),this.watchGroup.push(this.$watch((()=>this.tempKeys[i]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const a="inputT"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=a,this.$set(this.tempKeys,a,void 0!==t.defaultVal?t.defaultVal:null),this.watchGroup.push(this.$watch((()=>this.tempKeys[a]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(t.options||(t.options=[]),t.asyncOption)if(t.changeOption)if("Object"===j(t.changeOption))t.changeOption.valKey&&t.changeOption.key&&this.watchGroup.push(this.$watch((()=>this.valGroup[t.changeOption.valKey]),(e=>{let i=p().cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,(e||0===e||!1===e)&&t.optionUrl){let a=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((a+"&"+t.changeOption.key+"="+e).replace(/\?&/,"?"),t,i)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),pe(i)&&this.recoverVal(i,t)}),{immediate:!0}));else if(Array.isArray(t.changeOption)){let e=!0;for(let i of t.changeOption)if(!i.valKey||!i.key){e=!1;break}e?this.watchGroup.push(this.$watch((()=>{let e="";for(let i of t.changeOption){let t=this.valGroup[i.valKey];if(t||0===t||!1===t)e+="&"+i.key+"="+t;else if(!i.notRequired)return!1}return e}),(e=>{let i=p().cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,e&&t.optionUrl){let a=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((a+e).replace(/\?&/,"?"),t,i)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),pe(i)&&this.recoverVal(i,t)}),{immediate:!0})):(t.options=[],t.localOption&&(t.options=[...t.localOption]))}else"Boolean"===j(t.changeOption)&&this.watchGroup.push(this.$watch((()=>se(this.formData,(e=>e.key===t.key)).optionUrl),(e=>{let i=p().cloneDeep(this.tempKeys[t.tempKey]);this.tempKeys[t.tempKey]=null,e?this.initOption(e,t,i):(t.options=[],t.localOption&&(t.options=[...t.localOption]),pe(i)&&this.recoverVal(i,t))}),{immediate:!0}));else this.initOption(t.optionUrl,t);else"String"===j(t.borrowOption)&&(t.options=se(this.formDataT,(e=>e.key===t.borrowOption)).options);const l="opEle"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=l,"select"===t.type&&t.multiple||"checkboxGroup"===t.type?this.$set(this.tempKeys,l,void 0!==t.defaultVal?t.defaultVal:[]):t.booleanVal?this.$set(this.tempKeys,l,void 0!==t.defaultVal?Boolean(t.defaultVal)?1:0:null):this.$set(this.tempKeys,l,void 0!==t.defaultVal?t.defaultVal:null),this.watchGroup.push(this.$watch((()=>this.tempKeys[l]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"date":case"time":case"monthRange":const r="date"+Math.floor(1e8*Math.random());t.tempKey=r,"date"===t.dateType||"datetime"===t.dateType||"time"===t.dateType||"year"===t.dateType||"month"===t.dateType?this.$set(this.tempKeys,r,t.defaultVal||null):"daterange"!==t.dateType&&"datetimerange"!==t.dateType&&"timerange"!==t.dateType&&"monthRange"!==t.type||this.$set(this.tempKeys,r,t.defaultVal&&t.defaultVal2&&[t.defaultVal,t.defaultVal2]||[]),this.watchGroup.push(this.$watch((()=>this.tempKeys[r]),(e=>{this.tempKeysWatchHandle(e,t)})));break}},initOption(e,t,i){Ee.get(e).then((e=>{let a=e&&e.data&&e.data.records||e&&e.data||e||[];if(Array.isArray(a))if("Function"===j(t.optionFilter)&&(a=t.optionFilter(a)),t.optionLabel&&t.optionVal){const e=Array.isArray(t.optionLabel);t.options.length=0,t.options.push(...a.map((i=>{let a={};if(e){let e="";t.optionLabel.forEach(((t,a)=>{let l=String(i[t]);e+=1===a?"（"+l:a>1?"、"+l:l})),a={label:e+"）",val:i[t.optionVal]}}else a={label:i[t.optionLabel],val:i[t.optionVal]};if(t.collectLabel)if("Object"===j(t.collectLabel))t.collectLabel.valKey&&"label"!==t.collectLabel.valKey&&(a[t.collectLabel.valKey]=i[t.collectLabel.valKey]);else if(Array.isArray(t.collectLabel))for(let e of t.collectLabel)e.valKey&&"label"!==e.valKey&&(a[e.valKey]=i[e.valKey]);if(null!==a.val&&void 0!==a.val)return a})))}else t.options.length=0,t.options.push(...a);else t.options.length=0;t.localOption&&t.options.unshift(...t.localOption),pe(i)&&this.recoverVal(i,t),t.disableOptionByOthers&&("String"===j(t.disableOptionByOthers)?this.watchGroup.push(this.$watch((()=>this.valGroup[t.disableOptionByOthers]),(e=>{this.clearTempKeyItem(t.tempKey);for(let i of t.options)i.disabled&&this.$set(i,"disabled",!1);if(e||0===e||!1===e)for(let i of t.options)i.val===e&&this.$set(i,"disabled",!0)}),{immediate:!0})):Array.isArray(t.disableOptionByOthers)&&this.watchGroup.push(this.$watch((()=>t.disableOptionByOthers.filter((e=>e)).map((e=>this.valGroup[e]))),(e=>{this.clearTempKeyItem(t.tempKey);for(let i of t.options)i.disabled&&this.$set(i,"disabled",!1);if(e)for(let i of t.options)for(let t=0;t<e.length;t++)if(i.val===e[t]){this.$set(i,"disabled",!0),e.splice(t,1);break}}),{immediate:!0})))}))},recoverVal(e,t){Array.isArray(t.options)&&-1!==p().findIndex(t.options,{val:e})&&(this.tempKeys[t.tempKey]=e)},initValGroup(){if(this.valGroup={},this.formTeam)for(let e of this.formData)this.initValItems(e);else this.initValItems(this.formData)},initValItems(e){for(let t of e)t.key&&("checkboxGroup"===t.type||"select"===t.type&&t.multiple?this.$set(this.valGroup,t.key,void 0!==t.defaultVal&&void 0===t.show?t.defaultVal:[]):"editor"===t.type||"editorPro"===t.type?this.$set(this.valGroup,t.key,void 0!==t.defaultVal&&void 0===t.show?t.defaultVal:""):(this.$set(this.valGroup,t.key,void 0!==t.defaultVal&&void 0===t.show?t.defaultVal:null),t.key2&&this.$set(this.valGroup,t.key2,void 0!==t.defaultVal2&&void 0===t.show?t.defaultVal2:null)))},tempKeysWatchHandle(e,t){if(t.showing)switch(t.type){case"selectInput":e&&(e.beforeKey&&delete this.valGroup[e.beforeKey],this.valGroup[e.key]=e.val);break;case"inputMap":e?(this.valGroup[t.key]=e.lng,this.valGroup[t.key2]=e.lat,t.key3&&(this.valGroup[t.key3]=e.name)):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null,t.key3&&(this.valGroup[t.key3]=null));break;case"input":case"inputNumber":case"textarea":if(e||0===e){let i=/^-?\d+(.\d+)?$/;t.numberVal&&i.test(e)?this.valGroup[t.key]=Number(e):this.valGroup[t.key]=e}else this.valGroup[t.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(t.booleanVal&&!t.multiple?this.valGroup[t.key]=void 0===e||""===e||null===e?null:Boolean(e):t.multiple||"checkboxGroup"===t.type?this.valGroup[t.key]=Object.assign([],e):this.valGroup[t.key]=e,t.collectLabel){const i=this.findOptions(t,e);if("Object"===j(t.collectLabel)){if(t.collectLabel.key&&t.collectLabel.valKey){const e=this.findTempKey(t.collectLabel.key);let a=null;Array.isArray(i)?(a=i.map((e=>e[t.collectLabel.valKey])),this.$set(this.valGroup,t.collectLabel.key,a),e&&this.$set(this.tempKeys,e,a)):(i&&pe(i[t.collectLabel.valKey])&&(a=i[t.collectLabel.valKey]),this.$set(this.valGroup,t.collectLabel.key,a),e&&this.$set(this.tempKeys,e,a));let l=se(this.formDataT,(e=>e.key===t.collectLabel.key));l&&l.tempKey&&(this.tempKeys[l.tempKey]=this.valGroup[t.collectLabel.key])}}else if(Array.isArray(t.collectLabel))for(let e of t.collectLabel)if(e.key&&e.valKey){const t=this.findTempKey(e.key);let a=null;Array.isArray(i)?(a=i.map((t=>t[e.valKey])),this.$set(this.valGroup,e.key,a),t&&this.$set(this.tempKeys,t,a)):(i&&pe(i[e.valKey])&&(a=i[e.valKey]),this.$set(this.valGroup,e.key,a),t&&this.$set(this.tempKeys,t,a));let l=se(this.formDataT,(t=>t.key===e.key));l&&l.tempKey&&(this.tempKeys[l.tempKey]=this.valGroup[e.key])}}break;case"date":case"time":case"monthRange":let i=t.dateType;const a={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"MM"};"date"===i||"datetime"===i||"time"===i||"year"===i||"month"===i?e?(this.valGroup[t.key]="time"===i?e:pa()(e).format(t.format||a[i]),"date"===i&&t.addTime&&(this.valGroup[t.key]+=" 00:00:00")):this.valGroup[t.key]=null:"monthRange"!==t.type&&"daterange"!==i&&"datetimerange"!==i&&"timerange"!==i||(e&&e[0]&&e[1]?("timerange"===i?(this.valGroup[t.key]=e[0],this.valGroup[t.key2]=e[1]):"monthRange"===t.type?(this.valGroup[t.key]=t.format&&pa()(e[0]).format(t.format)||e[0],this.valGroup[t.key2]=t.format&&pa()(e[1]).format(t.format)||e[1]):(this.valGroup[t.key]=pa()(e[0]).format(t.format||a[i]),this.valGroup[t.key2]=pa()(e[1]).format(t.format||a[i])),"daterange"===i&&t.addTime&&(this.valGroup[t.key]+=" 00:00:00",this.valGroup[t.key2]+=" 23:59:59")):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null));break}},findOptions(e,t){if(e.multiple||"checkboxGroup"===e.type){if(t){let i=[];for(let a of e.options)-1!==t.indexOf(a.val)&&i.push(a);return i}return!1}if(t||0===t||!1===t)for(let i of e.options)if(i.val===t)return i;return!1},findTempKey(e){if(this.formTeam){for(let t of this.formDataT){const i=this.findTempKeyItem(t,e);if(i)return i}return!1}return this.findTempKeyItem(this.formDataT,e)},findTempKeyItem(e,t){for(let i of e)if(i.key===t)return i.tempKey;return!1},setItemToValGroup(e,t){let i={};for(let a in this.valGroup)this.valGroup.hasOwnProperty(a)&&void 0!==e[a]&&(i[a]=e[a],delete e[a]);this.updateValGroup(i,t);for(let a in e)e.hasOwnProperty(a)&&(this.hiddenKeys.indexOf(a)<0&&this.hiddenKeys.push(a),this.$set(this.valGroup,a,e[a]))},getValidateKeys(e){let t=p().cloneDeep(e);if(this.formTeam){let e=[];for(let i of this.formData)e.push(...this.getValidateItems(i,t));return e}return this.getValidateItems(this.formData,t)},getValidateItems(e,t){return e.filter((e=>{for(let i of Object.keys(t))if(e.key===i&&this.showingKeys.indexOf(i)>-1&&null!==t[i]&&(!Array.isArray(t[i])&&"Object"!==j(t[i])||!p().isEmpty(t[i])))return delete t[i],!0;return!1})).map((e=>e.key))},updateValGroup(e,t=!1){let i=p().cloneDeep(e);this.updateTempKeys(e,t);for(let a in this.valGroup)if(this.valGroup.hasOwnProperty(a)&&void 0!==e[a]&&"--"!==e[a]){if(Array.isArray(e[a]))e[a]=e[a].filter((e=>"--"!==e));else if("Object"===j(e[a]))for(let t in e[a])e[a].hasOwnProperty(t)&&"--"===e[a][t]&&(e[a][t]=null);this.valGroup[a]=e[a]}else t||(this.valGroup[a]=Array.isArray(this.valGroup[a])?[]:null);this.validateFields(this.getValidateKeys(i))},updateTempKeys(e,t=!1){if(this.formTeam)for(let i of this.formDataT)this.updateTempKeyItem(i,e,t);else this.updateTempKeyItem(this.formDataT,e,t)},updateTempKeyItem(e,t,i=!1){for(let a of e)if((i&&(void 0!==t[a.key]||void 0!==t[a.key2])||!i)&&a.tempKey)switch(a.type){case"inputMap":"Number"===j(t[a.key])&&j("Number"===t[a.key2])?a.key3?this.tempKeys[a.tempKey]={lng:t[a.key],lat:t[a.key2],name:t[a.key3]}:this.tempKeys[a.tempKey]={lng:t[a.key],lat:t[a.key2]}:a.key3?this.tempKeys[a.tempKey]={lng:null,lat:null,name:null}:this.tempKeys[a.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":t[a.key]&&"--"!==t[a.key]||0===t[a.key]?this.tempKeys[a.tempKey]=t[a.key]:this.tempKeys[a.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":t[a.key]&&"--"!==t[a.key]||0===t[a.key]||!1===t[a.key]?a.multiple||"checkboxGroup"===a.type?this.$set(this.tempKeys,a.tempKey,[...t[a.key]]):a.booleanVal?this.$set(this.tempKeys,a.tempKey,Boolean(t[a.key])?1:0):this.$set(this.tempKeys,a.tempKey,t[a.key]):a.multiple||"checkboxGroup"===a.type?this.$set(this.tempKeys,a.tempKey,[]):this.$set(this.tempKeys,a.tempKey,null);break;case"date":case"time":"date"===a.dateType||"datetime"===a.dateType||"year"===a.dateType||"month"===a.dateType||"time"===a.dateType?this.tempKeys[a.tempKey]=t[a.key]&&"--"!==t[a.key]?t[a.key]:null:"daterange"!==a.dateType&&"datetimerange"!==a.dateType&&"timerange"!==a.dateType||(this.tempKeys[a.tempKey]=t[a.key]&&"--"!==t[a.key]&&t[a.key2]&&"--"!==t[a.key2]&&[t[a.key],t[a.key2]]||[]);break}},updateFormDataT(e){if(Array.isArray(e))for(let t of e)this.changeDataHandle(t);else"Object"===j(e)&&this.changeDataHandle(e)},changeDataHandle(e){const{index:t,indexB:i,key:a,val:l}=e;if(this.formTeam){if((t||0===t)&&(i||0===i))if(a&&(l||void 0!==l))this.$set(this.formDataT[t][i],a,l);else for(let r of Object.keys(e))"index"!==r&&"indexB"!==a&&this.$set(this.formDataT[t][i],r,e[r])}else if(t||0===t)if(a&&(l||void 0!==l))this.$set(this.formDataT[t],a,l);else for(let r of Object.keys(e))"index"!==r&&this.$set(this.formDataT[t],r,e[r])},asyncLabelChange({label:e,root:t}){t.key2&&this.$set(this.valGroup,t.key2,e),this.itemChange({e:e,root:t})},onSelectInputChange(e){e.beforeKey&&p().remove(this.selectInputKeys,(t=>t===e.beforeKey)),e.key&&(-1===this.selectInputKeys.indexOf(e.key)&&this.selectInputKeys.push(e.key),this.itemChange({e:null,root:e}))},alNameChange({name:e,root:t}){t.key2&&(this.valGroup[t.key2]=e),this.itemChange({e:e,root:t})},reValidateAndChangeHandle({e:e,root:t}){this.itemChange({e:e,root:t}),this.$nextTick((function(){this.$refs.formGroupXRef.validateField(t.key)}))},itemChange({e:e,root:t}){We((()=>{let i={event:e};if(t.key&&(i[t.key]=this.valGroup[t.key]),t.key2&&(i[t.key2]=this.valGroup[t.key2]),t.collectLabel&&t.collectLabel.key)i[t.collectLabel.key]=this.valGroup[t.collectLabel.key];else if(Array.isArray(t.collectLabel))for(let e of t.collectLabel)i[e.key]=this.valGroup[e.key];this.$emit("on-item-change",i)}),500)},getValGroup(){let e={};for(let t of this.submitKeys)e[t]=this.valGroup[t];return this.trim&&(e=U(e)),e},validate(){this.$refs.formGroupXRef.validate()},reValidate(e){We((()=>{this.$refs.formGroupXRef.validateField(e,(()=>{}))}),10)},validateFields(e){We((()=>{if(Array.isArray(e))for(let t of e)this.$refs.formGroupXRef.validateField(t,(()=>{}))}),10)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e))},submit(){this.disabled||this.$refs.formGroupXRef.validate((e=>{this.debounceCount||(this.debounceCount=!0,e&&(this.showLoading=!0,this.$emit("on-submit",this.getValGroup())),We((()=>{this.debounceCount=!1}),2e3))}))}}},Ba=Ka,La=s(Ba,ha,ca,!1,null,null,null),Ia=La.exports,Aa=function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"formModal",class:{hideFooter:e.hideFooter},attrs:{title:e.title||e.t("r.title"),"mask-closable":!1,"footer-hide":e.hideFooter,width:e.width},on:{"on-visible-change":e.handleVisibleChange},model:{value:e.openModal,callback:function(t){e.openModal=t},expression:"openModal"}},[t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,btnLoading:e.btnLoading},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function({valGroup:i}){return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners)),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{staticClass:"modal-save-btn",attrs:{loading:e.btnLoading&&e.showLoading},on:{click:e.submit}},[e._v(e._s(e.okBtTxt||e.t("r.confirm")))]),e.hideCancelBt?e._e():t("Button",{staticClass:"modal-cancel-btn",on:{click:e.close}},[e._v(e._s(e.cancelBtTxt||e.t("r.cancel")))])],1)],1)},$a=[],_a={name:"formModal",mixins:[it],components:{formR:Ia},props:{title:{type:String},formData:{type:Array,default(){return[]}},width:{type:[Number,String],default:520},labelWidth:{type:Number,default:140},okBtTxt:{type:String},cancelBtTxt:{type:String},hideCancelBt:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1}},data(){return{openModal:!1,showLoading:!1}},computed:{formTeam(){return"Array"===j(this.formData[0])},formDataC(){if(this.formTeam){let e=[];for(let t of this.formData)e=e.concat(t.filter((e=>"custom"===e.type)));return e}return this.formData.filter((e=>"custom"===e.type))}},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clearForm(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e),this.$refs.formRRef.changeLoading(this.showLoading))},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(){this.showLoading=!0},submit(){this.hideCancelBt?this.close():this.$refs.formRRef.submit()},open(){this.openModal=!0},close(){this.openModal=!1,We((()=>{this.showLoading=!1,this.$refs.formRRef.changeLoading(!1)}),1e3)},handleVisibleChange(e){e?this.$emit("on-open"):this.$emit("on-close")}}},Da=_a,Ra=s(Da,Aa,$a,!1,null,null,null),Oa=Ra.exports,Va=function(){var e=this,t=e._self._c;return t("Modal",e._g(e._b({staticClass:"formModal",attrs:{title:e.title,width:e.width,"mask-closable":!1},on:{"on-visible-change":e.showHide},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},"Modal",e.$attrs,!1),e.$listeners),[e._t("default"),t("template",{slot:"footer"},[e._t("footer",(function(){return[t("Button",{staticClass:"modal-save-btn",attrs:{loading:e.btnLoading&&e.loading},on:{click:e.handleSub}},[e.btnLoading&&e.loading?t("span",[e._v("Loading...")]):t("span",[e._v(e._s(e.t("r.confirm")))])]),e.hideCancelBt?e._e():t("Button",{staticClass:"modal-cancel-btn",on:{click:e.close}},[e._v(e._s(e.t("r.cancel")))])]}))],2)],2)},Ma=[],Ga={name:"customModal",mixins:[it],props:{title:{type:String,default:"标题"},hideCancelBt:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},width:{type:[Number,String],default:520}},data(){return{isOpen:!1,loading:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1},changeLoading(e){this.loading=Boolean(e)},showHide(e){e||this.$emit("on-close")},handleSub(){this.hideCancelBt?this.close():(this.loading=!0,this.$emit("on-submit"))}}},Na=Ga,Fa=s(Na,Va,Ma,!1,null,null,null),Pa=Fa.exports,Xa=function(){var e=this,t=e._self._c;return t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,"item-width":e.itemWidth,inline:!0,"show-long-ok-bt":!1,"show-inline-ok-bt":e.showInlineOkBt,"inline-ok-bt-txt":e.t("r.check"),"show-inline-clear-bt":e.showInlineClearBt,"show-message":!1},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function({valGroup:i}){return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners))},Ea=[],za={name:"searchForm",mixins:[it],components:{formR:Ia},props:{formData:{type:Array,default(){return[]}},labelWidth:{type:Number,default:84},itemWidth:{type:Number,default:202},showInlineOkBt:{type:Boolean,default:!0},showInlineClearBt:{type:Boolean,default:!0}},computed:{formTeam(){return"Array"===j(this.formData[0])},formDataC(){if(this.formTeam){let e=[];for(let t of this.formData)e=e.concat(t.filter((e=>"custom"===e.type)));return e}return this.formData.filter((e=>"custom"===e.type))}},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clear(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){this.$refs.formRRef.changeLoading(void 0!==e&&e)},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(e){this.$emit("on-search",e)},submit(){this.$refs.formRRef.submit()}}},ja=za,Ha=s(ja,Xa,Ea,!1,null,null,null),Wa=Ha.exports,Ua=function(){var e=this,t=e._self._c;return t("div",{staticClass:"formGroupBoxVM",style:e.formGroupStyle},[t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,"content-width":e.contentWidth,"item-width":e.itemWidth,btnLoading:e.btnLoading},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function({valGroup:i}){return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners)),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showOkBt||e.showCancelBt,expression:"showOkBt||showCancelBt"}],staticClass:"formFooterVM",style:{marginLeft:e.labelWidth+"px"}},[t("div",{staticClass:"btnBoxKAL",style:{width:e.contentWidth}},[e.showOkBt?t("Button",{staticClass:"form-save-btn",attrs:{loading:e.btnLoading&&e.showLoading},on:{click:e.submit}},[e._v(e._s(e.okBtTxt||e.t("r.confirm")))]):e._e(),e.showCancelBt?t("Button",{staticClass:"form-cancel-btn",on:{click:e.close}},[e._v(e._s(e.cancelBtTxt||e.t("r.cancel")))]):e._e()],1)])],1)},qa=[],Ja={name:"formGroup",mixins:[it],components:{formR:Ia},props:{formData:{type:Array,default(){return[]}},width:{type:String,default:"100%"},labelWidth:{type:Number,default:160},contentWidth:{type:String,default:"70%"},itemWidth:{type:Number,default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{type:String},cancelBtTxt:{type:String},btnLoading:{type:Boolean,default:!1}},data(){return{formGroupStyle:{width:this.width},showLoading:!1}},computed:{formTeam(){return"Array"===j(this.formData[0])},formDataC(){if(this.formTeam){let e=[];for(let t of this.formData)e=e.concat(t.filter((e=>"custom"===e.type)));return e}return this.formData.filter((e=>"custom"===e.type))}},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clearForm(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e),this.$refs.formRRef.changeLoading(this.showLoading))},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(){this.showLoading=!0},submit(){this.$refs.formRRef.submit()},close(){this.$emit("on-cancel"),We((()=>{this.showLoading=!1,this.$refs.formRRef.changeLoading(!1)}),1e3)}}},Ya=Ja,Qa=s(Ya,Ua,qa,!1,null,null,null),Za=Qa.exports,el=function(){var e=this,t=e._self._c;return t("div",{staticClass:"echart-cont",style:{width:e.widthT,height:e.heightT},attrs:{id:e.name}})},tl=[],il=g(921),al=JSON.parse('{"color":["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],"backgroundColor":"rgba(0,0,0,0)","textStyle":{},"title":{"textStyle":{"color":"#333333"},"subtextStyle":{"color":"#666666"}},"line":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"radar":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"bar":{"itemStyle":{"normal":{"barBorderWidth":0,"barBorderColor":"#ccc"},"emphasis":{"barBorderWidth":0,"barBorderColor":"#ccc"}}},"pie":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"scatter":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"boxplot":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"parallel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"sankey":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"funnel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"gauge":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"candlestick":{"itemStyle":{"normal":{"color":"#edafda","color0":"transparent","borderColor":"#d680bc","borderColor0":"#8fd3e8","borderWidth":"2"}}},"graph":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"}},"lineStyle":{"normal":{"width":1,"color":"#aaa"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true,"color":["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],"label":{"normal":{"textStyle":{"color":"#eeeeee"}}}},"map":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"geo":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"categoryAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"valueAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"logAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"timeAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"toolbox":{"iconStyle":{"normal":{"borderColor":"#999"},"emphasis":{"borderColor":"#666"}}},"legend":{"textStyle":{"color":"#333333"}},"tooltip":{"axisPointer":{"lineStyle":{"color":"#cccccc","width":1},"crossStyle":{"color":"#cccccc","width":1}}},"timeline":{"lineStyle":{"color":"#8fd3e8","width":1},"itemStyle":{"normal":{"color":"#8fd3e8","borderWidth":1},"emphasis":{"color":"#8fd3e8"}},"controlStyle":{"normal":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5},"emphasis":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5}},"checkpointStyle":{"color":"#8fd3e8","borderColor":"rgba(138,124,168,0.37)"},"label":{"normal":{"textStyle":{"color":"#8fd3e8"}},"emphasis":{"textStyle":{"color":"#8fd3e8"}}}},"visualMap":{"color":["#516b91","#59c4e6","#a5e7f0"]},"dataZoom":{"backgroundColor":"rgba(0,0,0,0)","dataBackgroundColor":"rgba(255,255,255,0.3)","fillerColor":"rgba(167,183,204,0.4)","handleColor":"#a7b7cc","handleSize":"100%","textStyle":{"color":"#333"}},"markPoint":{"label":{"normal":{"textStyle":{"color":"#eeeeee"}},"emphasis":{"textStyle":{"color":"#eeeeee"}}}}}');il.registerTheme("westeros",al);var ll={name:"echart",mixins:[it],props:{config:Object,theme:{type:String,default:"westeros"},params:Object,url:String,data:Object,initData:{type:Boolean,default:!1},yAxis:{type:Object,default(){return{type:"value"}}},xAxis:{type:Object,default(){return{type:"category"}}},tooltip:{type:Object,default(){return{}}},series:{type:Array,default(){return[]}},name:{type:String,default:""},title:{type:String},titleColor:String,titleFontSize:Number,titleFontWeight:[String,Number],titleX:String,titleY:String,subTitle:{type:String,default:""},subTitleColor:String,subTitleFontSize:Number,legendShow:{type:Boolean,default:!0},legendType:String,legendColor:String,legendFontSize:Number,legendX:String,legendY:String,legendOrient:String,widthT:{type:String,default:"870px"},heightT:{type:String,default:"384px"}},data(){return{myChart:null,dataT:this.data,yAxisT:this.yAxis,xAxisT:this.xAxis,seriesT:this.series}},created(){this.initData&&this.getData().then((e=>{this.init(e)})).catch((e=>{console.warn("代码报错啦~"),console.warn(e)}))},watch:{config:{handler(e){e&&this.init()},deep:!0},data:{handler(e){e&&(this.dataT=e,this.init())},deep:!0},series:{handler(e){e&&(this.seriesT=e,this.init())},deep:!0},params:{handler(e){e&&this.getData().then((e=>{this.init(e)})).catch((e=>{console.warn("代码报错啦~"),console.warn(e)}))},deep:!0}},methods:{getData(){return new Promise(((e,t)=>{this.url?Ee.get(this.url,this.params).then((t=>{t.data||null===t.data?(t.data.charts||null===t.data.charts?this.dataT=t.data.charts||[]:this.dataT=t.data||[],e(t)):console.warn("请求返回数据有误，无法使用")})).catch((e=>{console.warn(e)})):this.dataT&&this.dataT.series||this.seriesT&&this.seriesT.length>0?e():console.warn("没有有效的请求地址，无法获取图表数据")}))},init(){let e=this;e.myChart=il.init(document.getElementById(this.name),this.theme),e.myChart.on("timelinechanged",(t=>{e.$emit("time-line-change",t.currentIndex)})),e.myChart.on("click",(t=>{e.$emit("series-click",t)}));let i={};if(i=this.config?this.config:{title:{text:this.dataT.title?this.dataT.title:this.title||t("r.unknown"),textStyle:{color:this.dataT.titleColor||this.titleColor,fontSize:this.dataT.titleFontSize||this.titleFontSize,fontWeight:this.dataT.titleFontWeight||this.titleFontWeight},x:this.dataT.titleX||this.titleX,y:this.dataT.titleY||this.titleY,subtext:this.dataT.subTitle?this.dataT.subTitle:this.subTitle,subtextStyle:{color:this.dataT.subTitleColor||this.subTitleColor,fontSize:this.dataT.subTitleFontSize||this.subTitleFontSize}},legend:{show:this.dataT.legendShow?this.dataT.legendShow:this.legendShow,type:this.dataT.legendType||this.legendType,textStyle:{color:this.dataT.legendColor||this.legendColor,fontSize:this.dataT.legendFontSize||this.legendFontSize},x:this.dataT.legendX||this.legendX,y:this.dataT.legendY||this.legendY,orient:this.dataT.legendOrient||this.legendOrient},tooltip:this.dataT.tooltip?this.dataT.tooltip:this.tooltip,xAxis:this.dataT.xAxis?this.dataT.xAxis:this.xAxisT,yAxis:this.dataT.yAxis?this.dataT.yAxis:this.yAxisT,series:this.dataT.series?this.dataT.series:this.seriesT},e.myChart.setOption(i),void 0===window.echartResizeMJ&&(window.echartResizeMJ={}),!window.echartResizeMJ[e.name]){let t=window.onresize;window.onresize=t?()=>{e.myChart&&(t(),e.myChart.resize(),window.echartResizeMJ[e.name]=!0)}:()=>{e.myChart&&(e.myChart.resize(),window.echartResizeMJ[e.name]=!0)}}}},beforeDestroy(){this.myChart&&(this.myChart.clear(),this.myChart.dispose(),this.myChart=null,window.echartResizeMJ={})}},rl=ll,ol=s(rl,el,tl,!1,null,null,null),sl=ol.exports,nl=function(){var e=this,t=e._self._c;return t("div",{style:e.getBg},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showX,expression:"showX"}],staticClass:"contentZ"},[e._t("default")],2)])},dl=[],hl={name:"showHidePanelB",model:{prop:"show",event:"subVal"},props:{bg:{default:"transparent"},show:{type:Boolean,default:!1}},computed:{showX:{get(){return this.show},set(e){this.$emit("subVal",e)}},getBg(){return this.showX?"background:"+this.bg:""}}},cl=hl,ul=s(cl,nl,dl,!1,null,null,null),pl=ul.exports,ml=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tableSearchV",style:{position:e.fixed?"fixed":"absolute",right:e.right,top:e.top}},[e._t("default",(function(){return[t("Input",{staticClass:"searchInputC",style:{width:e.width},attrs:{search:"",placeholder:e.placeholder||e.t("r.pInput")},on:{"on-search":e.onSearch},model:{value:e.valueX,callback:function(t){e.valueX=t},expression:"valueX"}})]})),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],staticClass:"sbt",style:{color:e.btnColor},on:{click:function(t){e.openX=!e.openX}}},[t("icon",{attrs:{type:e.iconL,color:e.btnColor}}),e._v(e._s(e.t("r.adSearch")))],1)],2)},fl=[],yl={name:"tableSearch",mixins:[it],model:{prop:"value",event:"subVal"},props:{value:{default:null},open:{type:Boolean,default:!1},placeholder:{type:String},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{type:String,default:"inherit"}},data(){return{debounceCount:!1}},computed:{valueX:{get(){return this.value},set(e){this.$emit("subVal",e)}},iconL(){return this.openX?"ios-arrow-up":"ios-arrow-down"},openX:{get(){return this.open},set(e){this.$emit("on-toggle",e)}}},methods:{onSearch(){this.debounceCount||(this.debounceCount=!0,this.$emit("on-search",this.valueX),We((()=>{this.debounceCount=!1}),2e3))}}},gl=yl,bl=s(gl,ml,fl,!1,null,null,null),vl=bl.exports,wl=function(){var e=this,t=e._self._c;return t("Select",e._b({directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],ref:"selectScrollSourceRef",attrs:{transfer:"",filterable:"",placeholder:e.placeholderT,disabled:e.disabled},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},"Select",e.$attrs,!1),e._l(e.options,(function(i,a){return t("Option",{key:"op"+a,attrs:{value:i.value,disabled:i.disabled}},[e._v(e._s(i.label))])})),1)},kl=[],xl={name:"selectScrollMore",mixins:[it],model:{prop:"value",event:"sub-val"},props:{value:{type:[String,Number,Array],default:null},url:{type:String,required:!0},searchData:{type:Object,default(){return{size:10}}},getOptions:{type:Boolean,default:!0},optionFilter:{type:Function},optionsLabelKey:{type:[String,Array],default:"name"},optionsValKey:{type:String,default:"id"},searchKey:{type:String,default:"name"},searchWordsRequired:{type:Boolean,default:!1},collectLabel:{type:Boolean,default:!1},placeholder:{type:String},disabled:{type:Boolean,default:!1}},data(){return{current:1,pages:1,searchStr:null,options:[],historyData:{},isFresh:!0,urlChanged:!1}},computed:{placeholderT(){return this.searchStr?this.t("r.searchFor")+this.searchStr:this.placeholder||this.t("r.pInput")},valueT:{get(){return this.value},set(e){if(this.$emit("sub-val",e),this.collectLabel){let t={};for(let i of this.options)if(i[this.optionsValKey]===e){t=JSON.parse(JSON.stringify(i));break}this.$emit("on-change",t)}}},searchDataT(){return this.searchKey?{...this.searchData,current:this.current,[this.searchKey]:this.searchStr}:{...this.searchData,current:this.current}}},mounted(){this.addInputEventListener()},watch:{getOptions:{handler(e){e?this.isFresh&&this.getData():this.reset()},immediate:!0},url(e){e&&(this.urlChanged=!0)}},methods:{addInputEventListener(){const e=this.$refs.selectScrollSourceRef.$children[0].$refs.input;e.addEventListener("keyup",this.getOption)},setQuery(e){this.$refs.selectScrollSourceRef.$children[0].query=e},reset(){this.isFresh||(this.valueT=null,this.isFresh=!0,this.searchStr=null,this.options=[],this.current=1,this.pages=1,this.historyData={},this.urlChanged=!1)},isSelect(e){for(let t of this.options)if(t.label===e)return!0;return!1},getOption:p().debounce((function(e){const t=e.target.value;this.isSelect(t)||(pe(t)?(this.urlChanged?this.reset():(p().isEmpty(this.historyData)&&(this.historyData.current=this.current,this.historyData.pages=this.pages,this.historyData.options=p().cloneDeep(this.options)),pe(this.valueT)&&(this.valueT=null)),this.searchStr=t,this.options=[],this.current=1,this.isFresh=!0,this.getData().then((()=>{this.$nextTick((function(){this.setQuery(t)}))})).catch((()=>{this.$nextTick((function(){this.setQuery(t)}))}))):this.urlChanged?(this.reset(),this.getData()):(this.valueT=null,this.searchStr=null,this.historyData.current?(this.current=this.historyData.current,this.pages=this.historyData.pages,this.options=p().cloneDeep(this.historyData.options),this.historyData={}):this.getData()))}),600),loadMore(){this.urlChanged&&this.reset(),this.current<this.pages?(++this.current,this.$nextTick((function(){this.getData()}))):this.$Message.warning({background:!0,content:this.t("r.noMore")})},getData(){return new Promise(((e,t)=>{if(this.getOptions){if(this.searchWordsRequired&&!pe(this.searchStr))return void e();Ee.get(this.url,this.searchDataT).then((t=>{this.isFresh=!1;let i=[];t&&t.data&&t.data.records?(i=t.data.records,this.pages=t.data.pages):t&&t.data&&"Array"===j(t.data)?(i=t.data,this.pages=t.pages):t&&t.data&&"Object"===j(t.data)&&(i=[t.data],this.pages=1),"Function"===j(this.optionFilter)&&(i=this.optionFilter(i)),p().isEmpty(i)||(i=i.map(((e,t)=>{let i=this.t("r.optionLabel")+t;if(Array.isArray(this.optionsLabelKey)){let t=[];for(let i=1,a=this.optionsLabelKey.length;i<a;i++)t.push(e[this.optionsLabelKey[i]]);i=`${e[this.optionsLabelKey[0]]}(${String(t)})`}else p().isString(this.optionsLabelKey)&&(i=e[this.optionsLabelKey]);if(this.collectLabel){let t=p().cloneDeep(e);return delete t.value,delete t.label,{value:e[this.optionsValKey],label:i,...t}}return{value:e[this.optionsValKey],label:i}}))),this.options.push(...i);let a={};this.options=this.options.filter((e=>{if(!a[e.value])return a[e.value]=!0,e})),this.$nextTick((function(){this.$emit("update-option-finish")})),e(!0)})).catch((()=>{this.$Message.error(this.t("r.getDataError")),t(this.t("r.getDataError"))}))}else e()}))}}},Sl=xl,Cl=s(Sl,wl,kl,!1,null,null,null),Tl=Cl.exports,Kl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"transferBoxRL"},[t("div",{staticClass:"leftBoxLLL"},[t("div",{staticClass:"fullHeight flexColumnBox"},[t("div",{staticClass:"notGrow"},[t("div",{staticClass:"titleLLL"},[e._v(e._s(e.titleLeft||e.t("r.added")))]),t("show-hide-panel",[t("search-form",{ref:"leftFormRef",attrs:{"form-data":e.formDataLeft,"form-rules":e.formRulesLeft},on:{"on-search":e.searchLeft}})],1)],1),t("div",{staticClass:"growFlexItem"},[t("bt-table-page",{ref:"lTabRef",attrs:{columns:e.leftTableColumns,url:e.leftTableUrl,"search-data":e.leftTableSearchData,"init-data":Boolean(e.isEmpty(e.constSearchDataLeft)&&e.leftTableUrl),"get-data-loading":"",selection:""},on:{"on-selection-change":e.lSelectionChange,"on-data-change":e.dataChangeL}})],1)])]),t("div",{staticClass:"middleBoxLLL"},[t("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"default",disabled:e.delAllDis},on:{click:e.removeAll}},[e._v(e._s(e.t("r.removeAll"))+" "),t("Icon",{attrs:{type:"ios-arrow-forward"}})],1),t("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"default",disabled:e.deleteDis},on:{click:e.remove}},[e._v(e._s(e.t("r.remove"))+" "),t("Icon",{attrs:{type:"ios-arrow-forward"}})],1),t("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"primary",disabled:e.addDis},on:{click:e.add}},[t("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "+e._s(e.t("r.add")))],1),t("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"primary",disabled:e.addAllDis},on:{click:e.addAll}},[t("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "+e._s(e.t("r.addAll")))],1)],1),t("div",{staticClass:"rightBoxLLL"},[t("div",{staticClass:"fullHeight flexColumnBox"},[t("div",{staticClass:"notGrow"},[t("div",{staticClass:"titleLLL"},[e._v(e._s(e.titleRight||e.t("r.notAdded")))]),t("show-hide-panel",[t("search-form",{ref:"rightFormRef",attrs:{"form-data":e.formDataRight,"form-rules":e.formRulesRight},on:{"on-search":e.searchRight}})],1)],1),t("div",{staticClass:"growFlexItem"},[t("bt-table-page",{ref:"rTabRef",attrs:{columns:e.rightTableColumns,url:e.rightTableUrl,"search-data":e.rightTableSearchData,"init-data":Boolean(e.isEmpty(e.constSearchDataRight)&&e.rightTableUrl),"get-data-loading":"",selection:""},on:{"on-selection-change":e.rSelectionChange,"on-data-change":e.dataChangeR}})],1)])])])},Bl=[],Ll={name:"transferBox",mixins:[it],props:{titleLeft:{type:String},titleRight:{type:String},formDataLeft:{type:Array,default(){return[]}},formDataRight:{type:Array,default(){return[]}},formRulesLeft:{type:Object,default(){return{}}},formRulesRight:{type:Object,default(){return{}}},constSearchDataLeft:{type:Object,default(){return{}}},constSearchDataRight:{type:Object,default(){return{}}},leftTableColumns:{type:Array,default(){return[]}},rightTableColumns:{type:Array,default(){return[]}},leftTableUrl:{type:String,default:null},rightTableUrl:{type:String,default:null},addUrl:{type:String,default:null},deleteUrl:{type:String,default:null},addAllUrl:{type:String,default:null},deleteAllUrl:{type:String,default:null},addParamsHandle:{type:Function,default:e=>e.map((e=>e.id))},deleteParamsHandle:{type:Function,default:e=>e.map((e=>e.id))},addAllParamsHandle:{type:Function,default:e=>e},deleteAllParamsHandle:{type:Function,default:e=>e},addMethod:{type:String,default:"post"},addAllMethod:{type:String,default:"post"},deleteMethod:{type:String,default:"delete"},deleteAllMethod:{type:String,default:"delete"}},data(){return{searchDataLeft:{},searchDataRight:{},lSelection:[],rSelection:[],leftTotal:0,rightTotal:0}},computed:{leftTableSearchData(){return{...this.constSearchDataLeft,...this.searchDataLeft}},rightTableSearchData(){return{...this.constSearchDataRight,...this.searchDataRight}},delAllDis(){return this.leftTotal<1},deleteDis(){return this.lSelection.length<1},addDis(){return this.rSelection.length<1},addAllDis(){return this.rightTotal<1}},methods:{isEmpty:p().isEmpty,reset(){this.$refs.leftFormRef.resetForm(),this.$refs.rightFormRef.resetForm(),p().isEmpty(this.searchDataLeft)||(this.searchDataLeft={}),p().isEmpty(this.searchDataRight)||(this.searchDataRight={}),this.$refs.lTabRef.clearSelect(),this.$refs.rTabRef.clearSelect()},search(){this.$refs.lTabRef.search(),this.$refs.rTabRef.search()},lSelectionChange(e){this.lSelection=e},rSelectionChange(e){this.rSelection=e},dataChangeL(e,t){this.leftTotal=e&&e.total||0},dataChangeR(e,t){this.rightTotal=e&&e.total||0},searchLeft(e){this.searchDataLeft=e},searchRight(e){this.searchDataRight=e},add(){this.addUrl&&this.fetchX("add")},remove(){this.deleteUrl&&this.fetchX("delete")},addAll(){this.addAllUrl&&this.addUrl&&this.fetchX("addAll")},removeAll(){this.deleteAllUrl&&this.fetchX("deleteAll")},fetchX(e){let t=this[e+"Method"],i=this[e+"Url"],a={},l="";switch(e){case"add":a=this.addParamsHandle(this.rSelection),l=this.t("r.add");break;case"delete":a=this.deleteParamsHandle(this.lSelection),l=this.t("r.remove");break;case"addAll":a=this.addAllParamsHandle(this.rightTableSearchData),l=this.t("r.addAll");break;case"deleteAll":a=this.deleteAllParamsHandle(this.leftTableSearchData),l=this.t("r.removeAll");break}i&&this.$fetch[t](i,a,null,[],{spin:!0},!1).then((e=>{e&&0===e.code?(this.$swal(l+this.t("r.success"),e&&e.message||"","success"),this.$refs.lTabRef&&this.$refs.lTabRef.getTableData(),this.$refs.rTabRef&&this.$refs.rTabRef.getTableData(),this.$emit("transferred")):this.$swal(l+this.t("r.failed"),e&&e.message||"","error")})).catch((()=>{this.$swal(l+this.t("r.error"),"","error")}))}}},Il=Ll,Al=s(Il,Kl,Bl,!1,null,null,null),$l=Al.exports,_l=function(){var e=this,t=e._self._c;return t("Modal",e._g(e._b({staticClass:"fixedFullModalR",attrs:{"mask-closable":!1,styles:{top:e.top},fullscreen:"","footer-hide":"",closable:!1},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},"Modal",e.$attrs,!1),e.$listeners),[t("div",{staticClass:"headerR",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(e.title))]),t("Icon",{staticClass:"closeIcoR",attrs:{type:"ios-close",size:"40",title:"close"},on:{click:e.close}})],1),e._t("default")],2)},Dl=[],Rl={name:"fixedFullModal",props:{title:{type:String,default:"标题"},top:{type:String,default:"55px"}},data(){return{isOpen:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1,this.$emit("on-cancel")}}},Ol=Rl,Vl=s(Ol,_l,Dl,!1,null,null,null),Ml=Vl.exports,Gl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"c404K"},[t("div",{staticClass:"t404"},[e._v("404")]),t("div",{staticClass:"ct404"},[e._v("UH OH! "+e._s(e.t("r.pageNotFound")))]),t("div",{staticClass:"p404"},[e._v(e._s(e.t("r.notFoundMsg")))]),t("Button",{staticClass:"bt404",on:{click:e.back}},[e._v(e._s(e.t("r.back")))])],1)},Nl=[],Fl={name:"page404",mixins:[it],methods:{back(){this.$router.go(-1)}}},Pl=Fl,Xl=s(Pl,Gl,Nl,!1,null,null,null),El=Xl.exports,zl=function(){var e=this,t=e._self._c;return t("div",{ref:"menuRefRJ",staticClass:"menuBoxRP"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.menuDisplay,expression:"menuDisplay"}],staticClass:"menuListR"},[t("side-menu-group",{attrs:{data:e.data,pathName:e.pathName}})],1),t("Icon",{staticClass:"menuShowHideIco",class:{showIco:!e.menuDisplay},attrs:{type:e.typeIco,size:25,title:e.titleC,color:e.menuDisplay?"#fff":"#333"},on:{click:e.showHideMenu}})],1)},jl=[],Hl=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"groupBoxRP"},e._l(e.data,(function(i,a){return t("li",{key:i.path+a,class:{dropItemRP:i.children}},[t("div",{staticClass:"menuTxtR",class:e.getClass(i),style:{paddingLeft:20*i.level+"px"},on:{click:function(t){return e.handleClick(t,i)}}},[e._v(" "+e._s(i.name||"-- no name --")+" ")]),i.children?t("sideMenuGroup",{attrs:{data:i.children,"path-name":e.pathName}}):e._e()],1)})),0)},Wl=[],Ul={name:"sideMenuGroup",props:{data:{type:Array,default(){return[]}},pathName:{type:String,default:""}},methods:{getClass(e){return e.path===this.pathName?"active":""},handleClick(e,t){e.preventDefault();let i=e.target;if(!t.children&&!i.classList.contains("active"))return void this.$router.push(t.path);let a=i.parentNode,l=this.siblingElems(a);for(let r of l){r.classList.remove("open");const e=r.querySelectorAll(".open");for(let t of e)t.classList.remove("open")}a.classList.toggle("open")}}},ql=Ul,Jl=s(ql,Hl,Wl,!1,null,null,null),Yl=Jl.exports,Ql={name:"sideMenu",mixins:[it],components:{SideMenuGroup:Yl},props:{data:{type:Array,default(){return[]}}},computed:{titleC(){return this.menuDisplay?this.t("r.hideMenu"):this.t("r.showMenu")},typeIco(){return this.menuDisplay?"ios-arrow-back":"ios-arrow-forward"}},data(){return{menuDisplay:!0,pathName:null}},created(){let e=localStorage.getItem("menuDisplayR");void 0!==e&&null!==e&&""!==e?e=JSON.parse(e):(e=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0))),this.menuDisplay=e},watch:{$route:{handler(e){this.pathName=e.path,this.$nextTick((function(){this.addOpen()}))},immediate:!0}},methods:{showHideMenu(){this.menuDisplay=!this.menuDisplay,localStorage.setItem("menuDisplayR",JSON.stringify(this.menuDisplay))},addOpen(){let e=this.$refs.menuRefRJ.querySelectorAll(".dropItemRP");for(let t of e)t.querySelector(".active")&&!t.classList.contains("open")&&t.classList.add("open")}}},Zl=Ql,er=s(Zl,zl,jl,!1,null,null,null),tr=er.exports;function ir(e){const t=(...e)=>F.apply(this,e),i=t("r.closePreview"),a=t("r.fullImg");let l="previewImg"+Math.floor(1e7*Math.random());Ae.Modal.info({closable:!1,"transition-names":["linear","fade"],render:t=>t("div",{class:"previewModal",attrs:{id:l}},[t("div",{class:"previewModalInner"},[t("img",{attrs:{src:e,alt:a}}),t("Icon",{props:{type:"md-close",size:20},domProps:{title:i},class:"previewModalDelete",on:{click(){Ae.Modal.remove()}}})])])});let r=setTimeout((()=>{const e=document.getElementById(l).parentNode.parentNode.parentNode.parentNode,t=document.getElementById(l).parentNode.nextSibling;e.style.height="0",e.style.padding="0",t.style.display="none",clearTimeout(r),r=null}),10)}function ar(e,t,i,a){const l=(...e)=>F.apply(this,e);z.call(this,{title:e||l("r.info.title"),text:t||l("r.info.text"),icon:i||"warning",onOk:a,buttons:[l("r.cancel")]})}var lr=g(411),rr=g.n(lr),or=g(765),sr=g.n(or),nr=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loader-div",attrs:{"data-loader":e.dataLoader}})},dr=[],hr={name:"loaders",props:{dataLoader:{type:String,default:"circle"},show:{type:Boolean,default:!0}}},cr=hr,ur=s(cr,nr,dr,!1,null,null,null),pr=ur.exports,mr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"echart-main",style:{width:e.widthT,height:e.heightT}},[t("Button",{directives:[{name:"show",rawName:"v-show",value:e.back,expression:"back"}],staticClass:"hidden",style:e.btnStyle,attrs:{id:"back",type:"primary"},on:{click:e.oback}},[e._v("返回全国")]),t("div",{staticClass:"echart-map",attrs:{id:e.name}})],1)},fr=[];let yr=["shanghai","hebei","shanxi","neimenggu","liaoning","jilin","heilongjiang","jiangsu","zhejiang","anhui","fujian","jiangxi","shandong","henan","hubei","hunan","guangdong","guangxi","hainan","sichuan","guizhou","yunnan","xizang","shanxi1","gansu","qinghai","ningxia","xinjiang","beijing","tianjin","chongqing","xianggang","aomen"],gr=["上海","河北","山西","内蒙古","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","北京","天津","重庆","香港","澳门"];var br={name:"echartMap",props:{name:{type:String,default:""},roam:{type:Boolean,default:!0},setSeries:{type:Array,default:()=>[]},setGeo:{type:Function,default:(e,t)=>({show:!0,map:e,roam:t.roam,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:t.geoItemStyle()})},mapType:{type:String,default:"normal"},migrationData:{type:Array,default:()=>[[{name:"重庆",lngLat:[106.553263,29.564724]},{name:"北京",lngLat:[116.399014,39.924869],value:666}]]},setLine:{type:Array,default:()=>[]},setScatter:{type:Array,default:()=>[]},migrationRippleEffect:{type:Function,default:()=>({brushType:"stroke"})},migrationEffect:{type:Function,default:()=>({show:!0,period:6,trailLength:.1,color:"#46bee9",symbol:"pin",symbolSize:6})},migrationLineStyle:{type:Function,default:()=>({normal:{color:"#fff",width:0,curveness:.2}})},migrationEffect2:{type:Function,default:()=>({show:!0,period:6,trailLength:0,symbol:"pin",symbolSize:6})},migrationLineStyle2:{type:Function,default:()=>({normal:{color:new il.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#FFFFA8"},{offset:1,color:"#58B3CC"}],!1),width:1.5,opacity:.4,curveness:.2}})},btnStyle:Object,scatterLabel:{type:Function,default:e=>e.data.value[2]},tooltip:{type:Function,default:()=>"随便定义任何内容也是可以的，通过回调函数取"},scatterLabelPosition:{type:String,default:"inside"},scatterGeoShow:{type:Boolean,default:!0},scatterGeoItemStyle:{type:Function,default:()=>({normal:{color:"#F62157"}})},scatterGeoLabelTextStyle:{type:Function,default:()=>({color:"#fff",fontSize:9})},geoItemStyle:{type:Function,default:()=>({normal:{areaColor:"#3c8dbc",borderColor:"#097bba"},emphasis:{areaColor:"#fbd456"}})},title:{type:Function,default:()=>({show:!1})},mapLabel:{type:Function,default:()=>({normal:{show:!0,textStyle:{color:"#895139"}},emphasis:{show:!0,textStyle:{color:"#323232"}}})},mapItemStyle:{type:Function,default:()=>({normal:{borderWidth:.5,borderColor:"#0550c3",areaColor:"#0b7e9e"},emphasis:{borderWidth:.5,borderColor:"#4b0082",areaColor:"#ece39e"}})},scatterSymbol:{type:String,default:"pin"},maxSize4Pin:{type:Number,default:40},minSize4Pin:{type:Number,default:30},seriesData:{type:Array,default:()=>[]},seriesDataPro:{type:Array,default:()=>[]},inRangeColor:{type:Array,default:()=>[]},visualMap:{type:Function,default:(e,t,i)=>({show:e.visualMapShow,min:t,max:i,left:e.visualMapLeft,top:e.visualMapTop,inverse:e.visualMapInverse,itemHeight:e.visualMapHeight,itemWidth:e.visualMapWidth,text:e.visualMapText,textStyle:e.visualMapTextStyle(),calculable:!1,seriesIndex:e.visualMapSeriesIndex,orient:e.visualMapOrient,inRange:{color:e.inRangeColor}})},visualMapText:{type:Array,default:()=>["高","低"]},visualMapTextStyle:{type:Function,default:()=>({})},visualMapShow:{type:Boolean,default:!1},visualMapOrient:{type:String,default:"horizontal"},visualMapSeriesIndex:{type:Number,default:1},visualMapHeight:{type:Number,default:null},visualMapWidth:{type:Number,default:null},visualMapInverse:{type:Boolean,default:!1},visualMapLeft:{type:String,default:"5%"},visualMapTop:{type:String,default:"95%"},scatterGeoZlevel:{type:Number,default:6},widthT:{type:String,default:"870px"},heightT:{type:String,default:"384px"}},data(){return{mapName:"china",myChart:null,back:!1}},mounted(){this.myChart=il.init(document.getElementById(this.name));let e=this;if(e.myChart.on("click",(t=>{if(t.data&&t.data.provinceKey&&e.seriesDataPro.length){e.back=!0;for(let i=0;i<gr.length;i++)if(t.name===gr[i]){e.mapName=yr[i],e.$emit("on-click-map",yr[i],gr[i]),e.initEcharts(yr[i],gr[i]);break}}})),void 0===window.echartResizeMJ&&(window.echartResizeMJ={}),!window.echartResizeMJ[e.name]){let t=window.onresize;window.onresize=t?()=>{e.myChart&&(t(),e.myChart.resize(),window.echartResizeMJ[e.name]=!0)}:()=>{e.myChart&&(e.myChart.resize(),window.echartResizeMJ[e.name]=!0)}}},methods:{initEcharts(e,t){let i=0,a=0;switch(this.mapType){case"normal":let l="china"===e?this.seriesData:this.seriesDataPro;l&&l.length>0&&(i=Math.max.apply(Math,l.map((e=>e.value)))),this.loadNormalMap(e,t,a,i,l);break;case"migration":this.migrationData&&(i=Math.max.apply(Math,this.migrationData.map((e=>e[1].value)))),this.loadMigrationMap(e,a,i);break}},loadMigrationMap(e,t,i){let a=this,l=[];l=a.setLine.length<=0?l.concat(a.normalLine()):l.concat(a.setLine),a.scatterGeoShow&&(l=a.setScatter.length<=0?l.concat(a.normalScatter(t,i)):l.concat(a.setScatter));let r={title:a.title(),tooltip:{trigger:"item",formatter:e=>a.tooltip(e)},geo:a.setGeo(e,a),series:[]};a.setSeries.length>0&&(l=this.setSeries),r.series=l,a.myChart.setOption(r)},loadNormalMap(e,t,i,a,l){let r=l,o=this,s=[],n={title:o.title(),tooltip:{trigger:"item",formatter:e=>o.tooltip(e)},visualMap:this.visualMap(o,i,a),geo:o.setGeo(e,o),series:[]};s.push({name:t||e,type:"map",mapType:e,roam:o.roam,data:r,selectedMode:"single",label:o.mapLabel(),itemStyle:o.mapItemStyle()}),o.scatterGeoShow&&(s=this.setScatter.length<=0?s.concat(this.setMark(r,a,i)):s.concat(this.setScatter)),o.inRangeColor.length>0&&s.unshift(this.setRegionColor(r)),o.setSeries.length>0&&(s=this.setSeries),n.series=s,o.myChart.setOption(n)},convertCitysData(e){let t=[];for(let i=0;i<e.length;i++){let a=e[i],l=a[0].lngLat,r=a[1].lngLat;l&&r&&t.push([{coord:l},{coord:r}])}return t},convertData(e){let t=this.getGeoCoordMap(this.mapName),i=[];for(let a=0;a<e.length;a++){let l=t[e[a].name];l&&i.push({name:e[a].name,value:l.concat(e[a].value)})}return i},getGeoCoordMap(e){e=e||"china";let t={};this.myChart.showLoading();let i=il.getMap(e).geoJson.features;return this.myChart.hideLoading(),i.forEach((function(e){let i=e.properties.name;t[i]=e.properties.cp})),t},oback(){this.back=!1,this.mapName="china",this.$emit("on-click-map",this.mapName,"中国")},normalScatter(e,t){return[{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:this.migrationRippleEffect(),symbol:this.scatterSymbol,label:{normal:{show:this.scatterGeoShow,position:this.scatterLabelPosition,formatter:e=>this.scatterLabel(e),textStyle:this.scatterGeoLabelTextStyle()}},symbolSize:i=>{let a=(this.maxSize4Pin-this.minSize4Pin)/(t-e),l=this.maxSize4Pin-a*t;return a*i[2]+l},itemStyle:this.scatterGeoItemStyle(),data:this.migrationData.map((e=>({name:e[1].name,value:e[1].lngLat.concat([e[1].value])})))}]},normalLine(){return[{type:"lines",zlevel:1,effect:this.migrationEffect(),lineStyle:this.migrationLineStyle(),data:this.convertCitysData(this.migrationData)},{type:"lines",zlevel:2,effect:this.migrationEffect2(),lineStyle:this.migrationLineStyle2(),data:this.convertCitysData(this.migrationData)}]},setRegionColor(e){return{type:"scatter",coordinateSystem:"geo",data:e}},setMark(e,t,i){return[{type:"scatter",coordinateSystem:"geo",symbol:this.scatterSymbol,symbolSize:e=>{let a=(this.maxSize4Pin-this.minSize4Pin)/(t-i),l=this.maxSize4Pin-a*t;return a*e[2]+l},label:{normal:{show:this.scatterGeoShow,position:this.scatterLabelPosition,formatter:e=>this.scatterLabel(e),textStyle:this.scatterGeoLabelTextStyle()}},itemStyle:this.scatterGeoItemStyle(),zlevel:this.scatterGeoZlevel,data:this.convertData(e)}]}},beforeDestroy(){this.myChart&&(this.myChart.clear(),this.myChart.dispose(),this.myChart=null,window.echartResizeMJ={})}},vr=br,wr=s(vr,mr,fr,!1,null,null,null),kr=wr.exports,xr=g(327);(()=>{if(window.wangeditorMenuInit)return;class e{constructor(){this.title=F("r.preview"),this.iconSvg='<svg t="1656644788547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12356" width="256" height="256"><path d="M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z" p-id="12357"></path><path d="M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z" p-id="12358"></path><path d="M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z" p-id="12359"></path></svg>',this.tag="button",this.alwaysEnable=!0}getValue(){return""}isActive(e){return!1}isDisabled(){return!1}exec(e){const t=document.getElementById("editor-preview");let i=localStorage.getItem("editorPreviewW")||300,a=localStorage.getItem("editorPreviewH")||500;const l=e.getHtml();if(t){let e=t.children[0].children[1].children[0],r=t.children[0].children[1];e.innerHTML=l,e.style.width=i+"px",r.style.height=a+"px",t.style.display="block"}else{const e=document.body,t=document.createElement("div");t.setAttribute("id","editor-preview"),t.setAttribute("class","editor-preview-mask"),t.innerHTML=`<div class="editor-preview-body"><div class="editor-preview-head"><div><span>宽</span><input type="number" value="${i}" min="200"><span>高</span><input type="number" value="${a}" min="300"></div><i class="ivu-icon ivu-icon-md-close"></i></div><div class="editor-preview-out-wall"><div class="editor-preview-wall r-editor-view"></div></div></div>`;let r=t.children[0].children[1],o=t.children[0].children[1].children[0],s=t.children[0].children[0].children[0].children[1];const n=40,d=70,h=t=>{if(t&&"keyup"===t.type){let e=!1;if(t.key&&(e="Enter"!==t.key),e)return}let i=t.target.value;if(i=Number(i),o.style&&o.style.width===i+"px")return;const a=e.clientWidth;i<250?(i=250,t.target.value=250):i>a-n&&(i=a-n,t.target.value=a-n),o.style.width=i+"px",localStorage.setItem("editorPreviewW",i)};s.addEventListener("blur",h),s.addEventListener("keyup",h);let c=t.children[0].children[0].children[0].children[3];const u=t=>{if(t&&"keyup"===t.type){let e=!1;if(t.key&&(e="Enter"!==t.key),e)return}let i=t.target.value;if(i=Number(i),r.style&&r.style.height===i+"px")return;const a=e.clientHeight;i<300?(i=300,t.target.value=300):i>a-d&&(i=a-d,t.target.value=a-d),r.style.height=i+"px",localStorage.setItem("editorPreviewH",i)};c.addEventListener("blur",u),c.addEventListener("keyup",u);let p=t.children[0].children[0].children[1];p.addEventListener("click",(e=>{t.style.display="none"})),o.innerHTML=l,o.style.width=i+"px",r.style.height=a+"px",e.append(t)}}}const t={key:"previewX",factory(){return new e}};xr.Boot.registerMenu(t),window.wangeditorMenuInit=!0})();const Sr={HelloR:d,btTablePage:Ze,wellCard:ot,tableTree:ut,uploadGroup:vt,tableSetting:Tt,inputMap:_t,tableIconBtn:Gt,iconTxtBtn:zt,showHidePanel:Jt,selectInput:ii,asyncCascader:ni,editor:wi,editorPro:Bi,alCascaderMC:Di,checkboxTree:Ni,checkboxGroupTwoClass:ji,checkboxGroupThreeClass:Yi,fullScreenPop:da,headerBt:ra,formR:Ia,formModal:Oa,customModal:Pa,searchForm:Wa,formGroup:Za,echart:sl,echartMap:kr,loaders:pr,showHidePanelB:pl,tableSearch:vl,selectScrollMore:Tl,transferBox:$l,fixedFullModal:Ml,page404:El,sideMenu:tr,monthRange:ka},Cr={fullScreenImgPreview:ir,toHump:H,htmlEncode:J,htmlDecode:Y,getFileSrc:Q,getFileTypeByName:Z,isImgByFile:ee,getFileTypeIconByName:te,downloadFileReaderFile:ie,fakeALinkClick:ae,findPath:oe,getStringWidth:ye,emptyInput:ke,stopBubbling:Ce},Tr={$swal:z,messageBox:$e,myTypeof:j,$fetch:Ee,trimObj:U,clearObj:q,formDataHeadConfig:le,toFormData:re,oneOf:ne,fullScreenImgByDom:ft,isValidValue:pe,isNumberValue:me,isEmptyValue:ge,tooltipManual:fe,stringLength:be,decimalDigitsLimit:de,downloadFileByFormSubmit:he,$swalConfirm:ar,setValByOption:ve,hasPermission:we,isNaN:xe,dataFilterOrToUrl:Se,setTimeout:We,setInterval:Ue,toLine:W,fileExport:ce,getColumnsKeys:ue,removeEmptyValue:Te,findCollection:se,htmlPrint:Ke,siblingElems:Be},Kr=function(e,t={}){Kr.installed||(E.i18n(t.i18n),Ee.init(t.useStore||t.store),qe.init(t.router),e?(e.use(rr()),e.use(sr()),Object.keys(Sr).forEach((t=>{e.component(t,Sr[t])})),Object.keys(Tr).forEach((t=>{e.prototype.hasOwnProperty(t)||Object.defineProperty(e.prototype,t,{get(){return Tr[t]}})})),void 0===e.directive("has")&&e.directive("has",{bind(t,i){i.value&&!e.prototype.hasPermission(i.value)&&(t.style.display="none")}}),void 0===e.directive("loadmore")&&e.directive("loadmore",{bind(e,t){let i;i=t.arg?e.querySelector("."+t.arg):e.querySelector(".ivu-select-dropdown")||e,i.addEventListener("scroll",(function(){this.scrollTop>0&&this.scrollHeight-this.scrollTop<=this.clientHeight&&t.value()}))}})):console.error("库安装失败，未获取到Vue对象"))};"undefined"!==typeof window&&window.Vue&&Kr(window.Vue);var Br={version:{NODE_ENV:"production",BASE_URL:""}.VERSION,install:Kr,...Sr,...Tr,...Cr},Lr=Br}(),b=b["default"],b}()}));
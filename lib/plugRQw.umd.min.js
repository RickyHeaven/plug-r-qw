(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("view-design"),require("sweetalert"),require("axios")):"function"===typeof define&&define.amd?define(["view-design","sweetalert","axios"],t):"object"===typeof exports?exports["plugRQw"]=t(require("view-design"),require("sweetalert"),require("axios")):e["plugRQw"]=t(e["ViewUI"],e["swal"],e["axios"])})("undefined"!==typeof self?self:this,(function(e,t,n){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"002d":function(t,n){t.exports=e},"1e60":function(e,n){e.exports=t},cebe:function(e,t){e.exports=n},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(o){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(o.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";var o;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=o[1]));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v("hello by ricky")])},i=[],s={name:"Hello"},a=s;function l(e,t,n,o,r,i,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var c=l(a,r,i,!1,null,null,null),u=c.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"txt-i-o"},[e._v("我是测试样式的")])},p=[],f={name:"TestViewDesign"},m=f,h=l(m,d,p,!1,null,null,null),y=h.exports,w=n("002d");function b(e){let t=Object.prototype.toString.call(e);return t.replace(/\[object |]/g,"")}function g(e){return e.replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))}function v(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function x(e){if("Object"===b(e)){for(let t in e)"String"==b(e[t])?e[t]=e[t].replace(/^\s+|\s+$/m,""):"Object"==b(e[t])&&x(e[t]);return e}return e}function O(e,t){if(t=t||[],"Array"===b(e))return e.forEach((t,n)=>{switch(b(t)){case"String":case"Number":case"Boolean":case"Date":e[n]=null;break;case"Array":case"Object":O(t);break}}),e;if("Object"===b(e)){for(let n in e)if(e.hasOwnProperty(n)){let o=!0;for(let e of t)if(e===n){o=!1;break}if(o)switch(b(e[n])){case"String":case"Number":case"Boolean":case"Date":e[n]=null;break;case"Array":case"Object":O(e[n]);break}}return e}return e}function E(e){let t=document.createElement("div");void 0!==t.textContent?t.textContent=e:t.innerText=e;let n=t.innerHTML;return t=null,n}function N(e){let t=document.createElement("div");t.innerHTML=e;let n=t.innerText||t.textContent;return t=null,n}function j(e){return new Promise(t=>{let n=new FileReader;n.readAsDataURL(e),n.onloadend=()=>{t(n.result)}})}function k(e){return e.split(".").pop().toLocaleLowerCase()||""}function P(e){return"String"===b(e)&&e.indexOf("image")>-1}function S(e){const t=k(e);let n="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1&&(n="ios-image"),["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1&&(n="ios-film"),["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1&&(n="ios-musical-notes"),["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1&&(n="md-document"),["numbers","csv","xls","xlsx"].indexOf(t)>-1&&(n="ios-stats"),["keynote","ppt","pptx"].indexOf(t)>-1&&(n="ios-videocam"),n}function C(e,t){let n=document.createElement("a");n.href=t,n.download=e,T(n)}function T(e){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}const M={headers:{"Content-Type":"multipart/form-data"}};function B(e){let t=new FormData;for(let n in e)e.hasOwnProperty(n)&&null!==e[n]&&t.append(n,e[n]);return t}function A({group:e,condition:t,pathKey:n,childKey:o="children",path:r=[]}){if(e&&_.isObject(e))if(_.isFunction(t)){if(_.isPlainObject(e)){for(let i in e)if(e.hasOwnProperty(i)){let s=e[i],a=_.cloneDeep(r);if(t(s))return n&&s[n]?a.push(s[n]):a.push(i),a;if(s[o]&&!_.isEmpty(s[o])){n&&s[n]?a.push(s[n]):a.push(i);let e=A({group:s[o],condition:t,pathKey:n,childKey:o,path:a});if(!_.isEmpty(e))return e}}}else if(_.isArray(e))for(let i of e){let s=_.cloneDeep(r);if(t(i))return n&&i[n]?s.push(i[n]):s.push(e.indexOf(i)),s;if(i[o]&&i[o].length>0){n&&i[n]?s.push(i[n]):s.push(e.indexOf(i));let r=A({group:i[o],condition:t,pathKey:n,childKey:o,path:s});if(!_.isEmpty(r))return r}}}else if(_.isPlainObject(e)){for(let i in e)if(e.hasOwnProperty(i)){let s=e[i],a=_.cloneDeep(r);if(s===t)return a.push(i),a;if(s[o]&&!_.isEmpty(s[o])){a.push(i);let e=A({group:s[o],condition:t,pathKey:n,childKey:o,path:a});if(!_.isEmpty(e))return e}}}else if(_.isArray(e))for(let i of e){let s=_.cloneDeep(r);if(i===t)return s.push(e.indexOf(i)),s;if(i[o]&&i[o].length>0){s.push(e.indexOf(i));let r=A({group:i[o],condition:t,pathKey:n,childKey:o,path:s});if(!_.isEmpty(r))return r}}return[]}function F(e,t){for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}function D(e,t=2){let n=new RegExp("(^-?\\d+.\\d{"+t+"})(\\d+$)"),o=e&&String(e)||"";return n.test(o)?Number(o.replace(n,"$1")):e}function $(e,t={},n="get"){let o=document.createElement("form"),r=document.getElementsByTagName("body")[0];if(r.appendChild(o),o.setAttribute("style","display:none"),o.setAttribute("target",""),o.setAttribute("method",n),o.setAttribute("action",e),_.isPlainObject(t)){for(let e in t)if(t.hasOwnProperty(e)&&(t[e]||0===t[e]||!1===t[e]||""===t[e])){let n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t[e]),o.appendChild(n)}o.submit(),setTimeout(()=>{r.removeChild(o)},8e3)}else console.error("请求数据格式有误，无法下载文件")}function I(e){return void 0!==e&&null!==e&&""!==e}function L(e){let t=/^-?\d+(.\d+)?$/;return t.test(e)}function R(e,t=!1,n=""){return function(o,r){let i;if("Array"===b(e)){let t=[];for(let n of e)t.push(r.row[n]);i=t.join(n)}else i=r.row[e];let s=U(i),a=r.column._width;return i&&s>a?o("Tooltip",{style:{width:"100%"},props:{content:i}},[o("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},i)]):o("span",t&&!I(i)?"--":i)}}function U(e,t=12){if("String"===b(e)&&e.length>0){let n=document.createElement("span");n.style.fontSize=t+"px",n.style.fontFamily="inherit",n.innerHTML=e,n.style.opacity="0",n.style.position="fixed",n.style.top="3000px",document.body.append(n);const o=n.clientWidth;return document.body.removeChild(n),o}return 0}function V(e){if(_.isPlainObject(e)){for(let t in e)if(e.hasOwnProperty(t)&&I(e[t]))return!1;return!0}if(_.isArray(e)){for(let t of e)if(I(t))return!1;return!0}return!I(e)}function H(e){return"String"===b(e)?e.replace(/[^\x00-\xff]/g,"01").length:"Number"===b(e)?(e+="",e.replace(/[^\x00-\xff]/g,"01").length):0}function K({height:e,width:t=416,title:n,content:o,onOk:r,onOkPromise:i,okText:s,cancelText:a,noWarnIcon:l,footerAlign:c,cancelBt:u}){let d=e&&Number(e)-90>40?Number(e)-90+"px":0,p=d||"40px",f="String"===b(o);w["Modal"].warning({width:t,render:e=>e("div",{class:"customMessageBox",style:{height:p}},[e("div",{class:"containerN"},[e("div",{class:"titleN"},[e("span",n||"提示"),e("Button",{class:"fr closeN",props:{type:"text"},on:{click(){w["Modal"].remove()}}},[e("Icon",{props:{type:"ios-close",size:30}})])]),e("div",{class:"contentN",style:{textAlign:f?"center":"left"}},[e("Icon",{props:{type:"md-warning",size:40,color:"#669"},class:f&&!0!==l?"":"hide"}),e("div",{style:{display:f?"inline-block":"block",position:f?"relative":"unset",top:f?"-8px":"unset"}},o)]),e("div",{class:"footerN",style:{textAlign:c||"center"}},[e("Button",{class:"okBtN",props:{},on:{click(){"Function"===b(r)?i?r().then(()=>{w["Modal"].remove()}).catch(()=>{w["Modal"].remove()}):(r(),w["Modal"].remove()):w["Modal"].remove()}}},s||"确定"),e("Button",{class:["cancelBtN",!1===u&&"hide"],props:{},on:{click(){w["Modal"].remove()}}},a||"取消")])])])})}var q=n("1e60"),X=n.n(q),z=function(e,t,n){return new Promise((o,r)=>{switch(b(e)){case"Object":let i="确定",s="取消",a=!1,l="swalConfirmBt",c="swalCancelBt";e.type&&(e.icon=e.type)&&delete e.type,e.content&&(e.text=e.content)&&delete e.content,e.className=e.className||"swalBoxX",!1===e.button||(e.buttons&&"Object"===b(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(s=e.buttons.cancel.text)&&(a=!0),e.buttons.cancel.className&&(c=e.buttons.cancel.className),e.buttons.confirm.text&&(i=e.buttons.confirm.text),e.buttons.confirm.className&&(l=e.buttons.confirm.className)):e.buttons&&"Array"===b(e.buttons)&&(e.buttons[0]&&(!0!==e.buttons[0]&&(s=e.buttons[0]),a=!0),e.buttons[1]&&!0!==e.buttons[1]&&(i=e.buttons[1])),e.buttons={cancel:{text:s,value:null,visible:a,className:c,closeModal:!0},confirm:{text:i,value:!0,visible:!0,className:l,closeModal:!0}}),X()(e).then(e=>{o(e)}).catch(e=>{r(e)});break;case"String":let u={title:e,buttons:{confirm:{text:"确定",value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}},className:"swalBoxX"};t&&(u.text=t),n&&(u.icon=n),X()(u).then(e=>{o(e)}).catch(e=>{r(e)});break;case"Boolean":!1===e&&X.a.close();break}})},W=function(e){let t="previewImg"+Math.floor(1e7*Math.random());w["Modal"].info({closable:!1,"transition-names":["linear","fade"],render:n=>n("div",{class:"previewModal",attrs:{id:t}},[n("div",{class:"previewModalInner"},[n("img",{attrs:{src:e}}),n("Icon",{props:{type:"md-close",size:20},class:"previewModalDelete",on:{click(){w["Modal"].remove()}}})])])}),setTimeout(()=>{const e=document.getElementById(t).parentNode.parentNode.parentNode.parentNode,n=document.getElementById(t).parentNode.nextSibling;e.style.height="0",e.style.padding="0",n.style.display="none"},10)};function Q(e){let t=window._.first(document.getElementsByTagName("body")),n=document.createElement("div");n.setAttribute("class","fullScreenImgByDom"),n.innerHTML=`<div class="previewInner"><img src="${e}" alt="全屏图片"><span class="ivu-icon ivu-icon-md-close" title="关闭预览"></span></div>`,n.querySelector(".ivu-icon-md-close").addEventListener("click",(function(){let e=window._.first(document.getElementsByTagName("body"));e&&e.removeChild(n)})),t.appendChild(n)}var Z=n("cebe"),G=n.n(Z);const J=window.location.origin;let Y=G.a.create({baseURL:J,withCredentials:!0});function ee(){console.info("未初始化,store为空，请在引入plug-r-qw后进行初始化操作（init({store:XXX,...})）")}function te(){Y.store?Y.store.dispatch("logout"):ee()}function ne(e,t,n,o){o&&o.spin&&(Y.store?Y.store.commit("MINUS_FETCH_COUNT"):ee());let r=!0,i=e&&e.data;if(i){n=n||[];for(let e of n)i=i[e],r=r&&i;return r?i:(console.warn(t||"请求失败"),!1)}return console.warn(t||"请求失败"),!1}function oe(e,t,n,o,r,i,s){return new Promise((a,l)=>{switch(e){case"get":Y.get(t,{params:n}).then(e=>{let t=ne(e,o,r,i);t?a(t):(console.warn(o||"请求失败"),l(e))}).catch(e=>{ne({},o,r,i),console.warn("请求出错：",e),l(e)});break;case"delete":let e=s?"params":"data";Y.delete(t,{[e]:n}).then(e=>{let t=ne(e,o,r,i);t?a(t):(console.warn(o||"请求失败"),l(e))}).catch(e=>{ne({},o,r,i),console.warn("请求出错：",e),l(e)});break;case"post":Y.post(t,n,i).then(e=>{let t=ne(e,o,r,i);t?a(t):(console.warn(o||"请求失败"),l(e))}).catch(e=>{ne({},o,r,i),console.warn("请求出错：",e),l(e)});break;case"put":Y.put(t,n,i).then(e=>{let t=ne(e,o,r,i);t?a(t):(console.warn(o||"请求失败"),l(e))}).catch(e=>{ne({},o,r,i),console.warn("请求出错：",e),l(e)});break}})}function re(e,t,n,o,r,i,s){return new Promise((a,l)=>{if(t){i=i||{},i&&i.spin&&(Y.store?Y.store.commit("ADD_FETCH_COUNT"):ee());let c,u=t;if(Y.changeUrl&&window&&window.g){const e=["mgr","dcc","crm","umc","wmc","amc","pmc","oa","mmc"];for(let n of e){let e=new RegExp("^/"+n+"(?=/.*$)","i");if(e.test(t)&&window.g[n+"URL"]){u=window.g[n+"URL"]+t.replace(e,"");break}}}if(i&&i.headers&&"multipart/form-data"===i.headers["Content-Type"])c=n;else if(c=window._.isArray(n)?[]:{},n&&!window._.isEmpty(n))if(window._.isArray(n))for(let e of n)(e||0===e||!1===e||""===e)&&c.push(e);else for(let e in n)n.hasOwnProperty(e)&&(n[e]||0===n[e]||!1===n[e]||""===n[e])&&(c[e]=n[e]);let d=e.toLowerCase();oe(d,u,c,o,r,i,s).then(e=>{a(e)}).catch(e=>{l(e)})}else console.error("没有请求地址:url"),l("没有请求地址:url")})}Y.changeUrl=!1,Y.interceptors.request.use(e=>e,e=>Promise.reject(e)),Y.interceptors.response.use(e=>(e&&e.data&&403===e.data.code?K({content:"登录状态失效,请重新登录！",onOk:te}):e&&e.data&&409===e.data.code&&K({content:"该账号已在其他地方登录,点击确定退出。",onOk:te}),e),e=>e.response?(403===e.response.status?K({content:"登录状态失效,请重新登录！",onOk:te}):409===e.response.status&&K({content:"该账号已在其他地方登录,点击确定退出。",onOk:te}),e.response.data?Promise.reject(e.response.data):Promise.reject(e.response)):Promise.reject(e));var ie={init(e){e.hasOwnProperty("store")&&(Y.store=e.store),e.hasOwnProperty("changeFetchUrl")&&(Y.changeUrl=e.changeFetchUrl)},post(e,t={},n,o,r){return new Promise((i,s)=>{re("post",e,t,n,o,r).then(e=>{i(e)}).catch(e=>{s(e)})})},put(e,t={},n,o,r){return new Promise((i,s)=>{re("put",e,t,n,o,r).then(e=>{i(e)}).catch(e=>{s(e)})})},get(e,t={},n,o,r){return new Promise((i,s)=>{re("get",e,t,n,o,r).then(e=>{i(e)}).catch(e=>{s(e)})})},delete(e,t={},n,o,r,i=!0){return new Promise((s,a)=>{re("delete",e,t,n,o,r,i).then(e=>{s(e)}).catch(e=>{a(e)})})},all:G.a.all,spread:G.a.spread};const se={HelloR:u,TestStyle:y},ae={fullScreenImgPreview:W,toHump:g,toLine:v,htmlEncode:E,htmlDecode:N,getFileSrc:j,getFileTypeByName:k,isImgByFile:P,getFileTypeIconByName:S,downloadFileReaderFile:C,fakeALinkClick:T,findPath:A,getStringWidth:U},le={messageBox:K,myTypeof:b,$fetch:ie,trimObj:x,clearObj:O,formDataHeadConfig:M,toFormData:B,oneOf:F,fullScreenImgByDom:Q,isValidValue:I,isNumberValue:L,isEmptyValue:V,tooltipManual:R,stringLength:H,decimalDigitsLimit:D,downloadFileByFormSubmit:$},ce={$swal:z},ue=function(e,t={}){ue.installed||(Object.keys(se).forEach(t=>{e.component(t,se[t])}),Object.keys(le).forEach(t=>{e.prototype.hasOwnProperty(t)||Object.defineProperty(e.prototype,t,{get(){return le[t]}})}),"undefined"!==typeof window&&Object.keys(ce).forEach(e=>{window.hasOwnProperty(e)||Object.defineProperty(window,e,{get(){return ce[e]}})}))};"undefined"!==typeof window&&window.Vue&&ue(window.Vue);const de=function(e){let t={},n=["store","changeFetchUrl"];n.forEach(n=>{e.hasOwnProperty(n)&&(t[n]=e[n])}),ie.init(t)};var pe={version:Object({NODE_ENV:"production",BASE_URL:"/"}).VERSION,install:ue,init:de,...se,...le,...ce,...ae};t["default"]=pe}})["default"]}));
//# sourceMappingURL=plugRQw.umd.min.js.map
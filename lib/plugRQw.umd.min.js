(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("@wangeditor/editor"),require("@wangeditor/editor-for-vue"),require("vue-json-viewer"),require("view-design"),require("vue"),require("vue-amap"),require("lodash"),require("ar-cascader"),require("axios"),require("echarts"),require("moment"),require("sweetalert"),require("wangeditor"),require("xss")):"function"===typeof define&&define.amd?define(["@wangeditor/editor","@wangeditor/editor-for-vue","vue-json-viewer","view-design","vue","vue-amap","lodash","ar-cascader","axios","echarts","moment","sweetalert","wangeditor","xss"],t):"object"===typeof exports?exports["plugRQw"]=t(require("@wangeditor/editor"),require("@wangeditor/editor-for-vue"),require("vue-json-viewer"),require("view-design"),require("vue"),require("vue-amap"),require("lodash"),require("ar-cascader"),require("axios"),require("echarts"),require("moment"),require("sweetalert"),require("wangeditor"),require("xss")):e["plugRQw"]=t(e["@wangeditor/editor"],e["@wangeditor/editor-for-vue"],e["JsonView"],e["ViewUI"],e["Vue"],e["VueAMap"],e["_"],e["arCascader"],e["axios"],e["echarts"],e["moment"],e["swal"],e["wangEditor"],e["xss"])})("undefined"!==typeof self?self:this,(function(e,i,a,l,r,o,s,n,d,h,c,u,p,f){return function(){"use strict";var m={327:function(t){t.exports=e},90:function(e){e.exports=i},765:function(e){e.exports=a},852:function(e){e.exports=l},895:function(e){e.exports=r},487:function(e){e.exports=o},4:function(e){e.exports=s},365:function(e){e.exports=n},32:function(e){e.exports=d},921:function(e){e.exports=h},649:function(e){e.exports=c},849:function(e){e.exports=u},598:function(e){e.exports=p},942:function(e){e.exports=f}},y={};function g(e){var t=y[e];if(void 0!==t)return t.exports;var i=y[e]={exports:{}};return m[e](i,i.exports,g),i.exports}!function(){g.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return g.d(t,{a:t}),t}}(),function(){g.d=function(e,t){for(var i in t)g.o(t,i)&&!g.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){g.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){g.p=""}();var b={};return function(){if(g.d(b,{default:function(){return ur}}),"undefined"!==typeof window){var e=window.document.currentScript,i=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(g.p=i[1])}var a=function(){var e=this,t=e._self._c;return t("span",[e._v("Greetings from Ricky.")])},l=[],r={name:"Hello"},o=r;function s(e,t,i,a,l,r,o,s){var n,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),a&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),o?(n=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),l&&l.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=n):l&&(n=s?function(){l.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:l),n)if(d.functional){d._injectStyles=n;var h=d.render;d.render=function(e,t){return n.call(t),h(e,t)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,n):[n]}return{exports:e,options:d}}var n=s(o,a,l,!1,null,null,null),d=n.exports,h=function(){var e=this,t=e._self._c;return t("div",{ref:"tableBox",staticClass:"btTablePage fullHeight"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showTopRow,expression:"showTopRow"}],staticClass:"topBtn"},[e._t("tableSetting"),e._t("topMsg"),e._t("topBtnGroup")],2),t("div",{staticClass:"tableContainer fullHeight",class:{noTop:!e.showTopRow,noPage:e.noPage}},[t("div",{staticClass:"fullHeight relativeBox"},[t("div",{ref:"tableContainerLOI",staticClass:"fullFlowContent"},[t("Table",e._g(e._b({ref:"TableXXX",class:{noBorderTable:e.noBorderTable,fullHeightTable:!e.fixedTable,lightHeadO:e.lightHead},attrs:{height:e.fixedTable&&e.tableContainerHeight||null,columns:e.columnsT,data:e.dataS,"highlight-row":e.radio||e.highlightRow},on:{"on-select":e.onSelect,"on-selection-change":e.selectionHandle,"on-sort-change":e.onSortChange,"on-row-click":e.onRowClick}},"Table",e.$attrs,!1),e.$listeners))],1)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.noPage,expression:"!noPage"}],staticClass:"pageContainer"},[t("Page",{attrs:{"page-size-opts":e.pageSizes,total:e.total,current:e.current,"page-size":e.pageSizeT,"show-sizer":"","show-total":"",size:"small"},on:{"update:current":function(t){e.current=t},"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1)])},c=[],u=g(4),p=g.n(u),f=g(849),m=g.n(f),y={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单"}},v=g(895),w=g.n(v),k=function(e){return x(e)&&!S(e)};function x(e){return!!e&&"object"===typeof e}function S(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||K(e)}var C="function"===typeof Symbol&&Symbol.for,T=C?Symbol.for("react.element"):60103;function K(e){return e.$$typeof===T}function B(e){return Array.isArray(e)?[]:{}}function L(e,t){return!1!==t.clone&&t.isMergeableObject(e)?_(B(e),e,t):e}function I(e,t,i){return e.concat(t).map((function(e){return L(e,i)}))}function $(e,t,i){var a={};return i.isMergeableObject(e)&&Object.keys(e).forEach((function(t){a[t]=L(e[t],i)})),Object.keys(t).forEach((function(l){i.isMergeableObject(t[l])&&e[l]?a[l]=_(e[l],t[l],i):a[l]=L(t[l],i)})),a}function _(e,t,i){i=i||{},i.arrayMerge=i.arrayMerge||I,i.isMergeableObject=i.isMergeableObject||k;var a=Array.isArray(t),l=Array.isArray(e),r=a===l;return r?a?i.arrayMerge(e,t,i):$(e,t,i):L(t,i)}_.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,i){return _(e,i,t)}),{})};var A=_,O=A;const D=/(%|)\{([0-9a-zA-Z_]+)\}/g;function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function R(e,...t){return 1===t.length&&"object"===typeof t[0]&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(D,((i,a,l,r)=>{let o;return"{"===e[r-1]&&"}"===e[r+i.length]?l:(o=V(t,l)?t[l]:null,null===o||void 0===o?"":o)}))}let M=y,N=!1,G=function(){const e=Object.getPrototypeOf(this||w()).$t;if("function"===typeof e&&w().locale)return N||(N=!0,w().locale(w().config.lang,O(M,w().locale(w().config.lang)||{},{clone:!0}))),e.apply(this,arguments)};const F=function(e,t){let i=G.apply(this,arguments);if(null!==i&&void 0!==i)return i;const a=e.split(".");let l=M;for(let r=0,o=a.length;r<o;r++){const e=a[r];if(i=l[e],r===o-1)return R(i,t);if(!i)return"";l=i}return""},P=function(e){M=e||M},X=function(e){G=e||G};var E={use:P,t:F,i18n:X};function z(e,t,i){const a=(...e)=>F.apply(this,e);return new Promise(((l,r)=>{switch(H(e)){case"Object":let o=a("r.confirm"),s=a("r.cancel"),n=!1,d="swalConfirmBt",h="swalCancelBt";const c=/^HTML.*Element$/;e.type&&(e.icon=e.type)&&delete e.type,e.className=e.className||"swalBoxX",e.text&&c.test(H(e.text))&&(e.content=e.text,delete e.text),e.content&&"String"===H(e.content)&&(e.text=e.content,delete e.content),!1!==e.button&&(e.buttons&&"Object"===H(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(s=e.buttons.cancel.text)&&(n=!0),e.buttons.cancel.className&&(h=e.buttons.cancel.className),e.buttons.confirm.text&&(o=e.buttons.confirm.text),e.buttons.confirm.className&&(d=e.buttons.confirm.className)):e.buttons&&"Array"===H(e.buttons)&&(e.buttons[0]&&(!0!==e.buttons[0]&&(s=e.buttons[0]),n=!0),e.buttons[1]&&!0!==e.buttons[1]&&(o=e.buttons[1])),e.buttons={confirm:{text:o,value:!0,visible:!0,className:d},cancel:{text:s,value:null,visible:n,className:h}}),m()(e).then((t=>{t&&"Function"===H(e.onOk)&&e.onOk(),l(t)})).catch((e=>{r(e)}));break;case"String":let u={title:e,buttons:{confirm:{text:a("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}},className:"swalBoxX"};if(t)switch(H(t)){case"String":u.text=t;break;case"HTMLElement":u.content=t;break}i&&(u.icon=i),m()(u).then((e=>{l(e)})).catch((e=>{r(e)}));break;case"Boolean":!1===e&&m().close();break;default:throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")}}))}function H(e){let t=Object.prototype.toString.call(e);return t.replace(/\[object |]/g,"")}function j(e){return e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))}function W(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function U(e){let t=H(e);if("Object"===t){for(let i in e)if(e.hasOwnProperty(i)){let t=H(e[i]);"String"===t?e[i]=e[i].trim():"Object"!==t&&"Array"!==t||U(e[i])}}else if("Array"===t)for(let i=0,a=e.length;i<a;i++){let t=H(e[i]);"String"===t?e[i]=e[i].trim():"Array"!==t&&"Object"!==t||U(e[i])}return e}function q(e,t=[]){if("Array"===H(e))return e.forEach(((t,i)=>{switch(H(t)){case"String":case"Number":case"Boolean":case"Date":e[i]=null;break;case"Array":case"Object":q(t);break}})),e;if("Object"===H(e)){for(let i in e)if(e.hasOwnProperty(i)){let a=!0;for(let e of t)if(e===i){a=!1;break}if(a)switch(H(e[i])){case"String":case"Number":case"Boolean":case"Date":e[i]=null;break;case"Array":case"Object":q(e[i]);break}}return e}return e}function J(e){let t=document.createElement("div");void 0!==t.textContent?t.textContent=e:t.innerText=e;let i=t.innerHTML;return t=null,i}function Y(e){let t=document.createElement("div");t.innerHTML=e;let i=t.innerText||t.textContent;return t=null,i}function Q(e){return new Promise((t=>{let i=new FileReader;i.readAsDataURL(e),i.onloadend=()=>{t(i.result)}}))}function Z(e){return e.split(".").pop().toLocaleLowerCase()||""}function ee(e){return"String"===H(e)&&e.indexOf("image")>-1}function te(e){const t=Z(e);let i="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1?i="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1?i="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1?i="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1?i="md-document":["numbers","csv","xls","xlsx"].indexOf(t)>-1?i="ios-stats":["keynote","ppt","pptx"].indexOf(t)>-1&&(i="ios-videocam"),i}function ie(e,t){let i=document.createElement("a");i.href=t,i.download=e,ae(i)}function ae(e){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}const le={headers:{"Content-Type":"multipart/form-data"}};function re(e){let t=new FormData;for(let i in e)e.hasOwnProperty(i)&&null!==e[i]&&t.append(i,e[i]);return t}function oe({group:e,condition:t,pathKey:i,childKey:a="children",path:l=[]}){if(e&&p().isObject(e))if(p().isFunction(t)){if(p().isPlainObject(e)){let r=e,o=p().cloneDeep(l);if(t(r))return i&&r[i]&&o.push(r[i]),o;if(r[a]&&!p().isEmpty(r[a])){i&&r[i]&&o.push(r[i]);let e=oe({group:r[a],condition:t,pathKey:i,childKey:a,path:o});if(!p().isEmpty(e))return e}}else if(p().isArray(e))for(let r of e){let o=p().cloneDeep(l);if(t(r))return i&&r[i]?o.push(r[i]):o.push(e.indexOf(r)),o;if(r[a]&&r[a].length>0){i&&r[i]?o.push(r[i]):o.push(e.indexOf(r));let l=oe({group:r[a],condition:t,pathKey:i,childKey:a,path:o});if(!p().isEmpty(l))return l}}}else if(p().isArray(e))for(let r of e){let i=p().cloneDeep(l);if(r===t)return i.push(e.indexOf(r)),i}return[]}function se(e,t,i){if(!e||!t)return!1;let a,l="notFoundC",r=function(e,t){if("Array"===H(e)){if("Function"===H(t)&&t(e))return l=e,[];for(let i of e){if("notFoundC"!==l)break;if("Function"===H(t)&&t(i)||i===t)return l=i,[e.indexOf(i)];if("Array"===H(i)||"Object"===H(i)){let a=r(i,t);if(void 0!==a)return[e.indexOf(i),...a]}}}else if("Object"===H(e)){if("Function"===H(t)&&t(e))return l=e,[];for(let i in e){if("notFoundC"!==l)break;if(e.hasOwnProperty(i)){if("Function"===H(t)&&t(i)||e[i]===t)return l=e[i],[i];if("Object"===H(e[i])||"Array"===H(e[i])){let a=r(e[i],t);if(void 0!==a)return[i,...a]}}}}};return a=r(e,t),i?a||!1:"notFoundC"!==l&&l}function ne(e,t){for(let i=0,a=t.length;i<a;i++)if(e===t[i])return!0;return!1}function de(e,t=2){let i=new RegExp("(^-?d+.d{"+t+"})(d+$)"),a=e&&String(e)||"";return i.test(a)?Number(a.replace(i,"$1")):e}function he(e,t={},i="get"){let a=document.createElement("form"),l=document.getElementsByTagName("body")[0];l.appendChild(a),a.setAttribute("style","display:none"),a.setAttribute("target",""),a.setAttribute("method",i);let r=e;if(window&&window.g){let t=Object.keys(window.g).filter((e=>e.indexOf("URL")>-1)).map((e=>e.replace("URL","")));for(let i of t){let t=new RegExp("^/"+i+"(?=/.*$)","i");if(t.test(e)&&window.g[i+"URL"]){r=window.g[i+"URL"]+e.replace(t,"");break}}}if(a.setAttribute("action",r),p().isPlainObject(t)){for(let i in t)if(t.hasOwnProperty(i)&&(t[i]||0===t[i]||!1===t[i]||""===t[i])){let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",i),e.setAttribute("value",t[i]),a.appendChild(e)}a.submit();let e=setTimeout((()=>{l.removeChild(a),clearTimeout(e),e=null}),8e3)}else console.error("请求数据格式有误，无法下载文件")}function ce(e,t={},i="get"){!t.hasOwnProperty("columns")||""!==t["columns"]&&null!==t["columns"]&&void 0!==t["columns"]?he(e,t,i):z.call(this,{title:"需要导出的列不能为空",type:"warning"})}function ue(e,t,i=!1){let a;if(e&&"Array"===H(t)){let i=localStorage.getItem(e);i?(i=JSON.parse(decodeURI(i)),a=t.filter((e=>e.key&&-1!==i.indexOf(e.title))).map((e=>e.key))):a=t.map((e=>e.key))}else a=[];return i||(a=String(a)),a}function pe(e){return void 0!==e&&null!==e&&""!==e}function fe(e){let t=/^-?\d+(.\d+)?$/;return t.test(e)}function me(e,t=!1,i=""){return function(a,l){let r;if("Array"===H(e)){let t=[];for(let i of e)pe(l.row[i])&&t.push(l.row[i]);r=t.join(i)}else r="Function"===H(e)?e(l):l.row[e];let o=ye(r),s=l.column._width;return r&&o>s?a("Tooltip",{style:{width:"100%"},props:{content:r,maxWidth:2*s}},[a("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},r)]):a("span",t&&!pe(r)?"--":r)}}function ye(e,t=12){if("String"===H(e)&&e.length>0){let i=document.createElement("span");i.style.fontSize=t+"px",i.style.fontFamily="inherit",i.innerHTML=e,i.style.opacity="0",i.style.position="fixed",i.style.top="3000px",document.body.append(i);const a=i.clientWidth;return document.body.removeChild(i),a}return 0}function ge(e){if(p().isPlainObject(e)){for(let t in e)if(e.hasOwnProperty(t)&&pe(e[t]))return!1;return!0}if(p().isArray(e)){for(let t of e)if(pe(t))return!1;return!0}return!pe(e)}function be(e){return"String"===H(e)?e.replace(/[^\x00-\xff]/g,"01").length:"Number"===H(e)?(e+="",e.replace(/[^\x00-\xff]/g,"01").length):0}function ve({group:e,condition:t,key:i,val:a,childKey:l="children"}){if("Array"!==H(e)||"Function"!==H(t)||"String"!==H(i)||"String"!==H(l))return!1;e.forEach((e=>{t(e)&&("Function"===H(a)?e[i]=a(e[i]):e[i]=a),"Array"===H(e[l])&&e[l].length>0&&ve({group:e[l],condition:t,key:i,val:a,childKey:l})}))}function we(e){let t=sessionStorage.getItem("btnPermissions");return!!t&&t.indexOf(e)>-1}function ke(e){return""===e?null:e}function xe(e){return"Number"===H(e)&&"NaN"===String(e)}function Se(e,t,i){if("Object"!==H(e))return e;let a=Object.assign(e,{}),l="";for(let r in a)if(a.hasOwnProperty(r)){let e=a[r];void 0===e||""===e||"String"===H(e)&&""===e.trim()||null===e||xe(e)?i?t?l+=r+"=&":a[r]="":delete a[r]:t&&(l+=r+"="+e+"&")}return t?l.length>0?l.substr(0,l.length-1):"":a}function Ce(e){e=e||window.Event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Te(e){let t;if(p().isArray(e)){t=[];for(let i of e)p().isArray(i)||p().isPlainObject(i)?t.push(Te(i)):pe(i)&&t.push(i)}else if(p().isPlainObject(e)){t={};for(let i in e)e.hasOwnProperty(i)&&(p().isArray(e[i]||p().isPlainObject(e[i]))?t[i]=Te(e[i]):pe(e[i])&&(t[i]=e[i]))}return t}function Ke(e){const t=window.open();t.document.write(e);const i=setTimeout((()=>{t.print(),window.clearTimeout(i)}),10)}function Be(e){let t=[],i=e;while(e=e.previousSibling)1===e.nodeType&&t.push(e);while(i=i.nextSibling)1===i.nodeType&&t.push(i);return t}var Le=g(32),Ie=g.n(Le),$e=g(852);function _e({height:e,width:t=416,title:i,content:a,onOk:l,onCancel:r,okText:o,cancelText:s,noWarnIcon:n,footerAlign:d,cancelBt:h}){const c=(...e)=>F.apply(this,e);let u=e&&Number(e)-90>100?Number(e)-90+"px":0,p=u||"100px";a=a||c("r.info.text");let f="String"===H(a);$e.Modal.warning({width:t,render:e=>e("div",{class:"customMessageBox",style:{height:p}},[e("div",{class:"containerN"},[e("div",{class:"titleN"},[e("span",i||c("r.info.title")),e("Button",{class:"fr closeN",props:{type:"text"},on:{click(){$e.Modal.remove()}}},[e("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}})])]),e("div",{class:"contentN",style:{textAlign:f?"center":"left"}},[e("i",{class:f&&!0!==n?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e("div",{class:"msgBoxConO"},a)]),e("div",{class:"footerN",style:{textAlign:d||"center"}},[e("Button",{class:"okBtN",on:{click(){$e.Modal.remove(),"Function"===H(l)&&l()}}},[e("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e("span",o||c("r.confirm"))]),e("Button",{class:["cancelBtN",!1===h&&"hide"],on:{click(){$e.Modal.remove(),"Function"===H(r)&&r()}}},s||c("r.cancel"))])])])})}const Ae=window.location.origin;let Oe=Ie().create({baseURL:Ae,withCredentials:!0});function De(){console.info("store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})")}function Ve(){Oe.store?Oe.store.dispatch("logout"):De()}function Re(e,t,i,a){a&&a.spin&&(Oe.store?Oe.store.commit("MINUS_FETCH_COUNT"):De());let l=!0,r=e&&e.data;if(r){i=i||[];for(let e of i)r=r[e],l=l&&r;return l?r:(t&&console.warn(t),!1)}return t&&console.warn(t),!1}function Me(e,t,i,a,l,r,o){return new Promise(((s,n)=>{switch(e){case"get":Oe.get(t,{params:i}).then((e=>{let t=Re(e,a,l,r);t?s(t):n(e)})).catch((e=>{Re({},a,l,r),n(e)}));break;case"delete":let e=o?"params":"data";Oe.delete(t,{[e]:i}).then((e=>{let t=Re(e,a,l,r);t?s(t):n(e)})).catch((e=>{Re({},a,l,r),n(e)}));break;case"post":Oe.post(t,i,r).then((e=>{let t=Re(e,a,l,r);t?s(t):n(e)})).catch((e=>{Re({},a,l,r),n(e)}));break;case"put":Oe.put(t,i,r).then((e=>{let t=Re(e,a,l,r);t?s(t):n(e)})).catch((e=>{Re({},a,l,r),n(e)}));break;default:}}))}function Ne(e,t,i,a,l,r={},o){return new Promise(((s,n)=>{if(t){r&&r.spin&&(Oe.store?Oe.store.commit("ADD_FETCH_COUNT"):De());let d,h=t;if(window&&window.g){let e=Object.keys(window.g).filter((e=>e.indexOf("URL")>-1)).map((e=>e.replace("URL","")));for(let i of e){let e=new RegExp("^/"+i+"(?=/.*$)","i");if(e.test(t)&&window.g[i+"URL"]){h=window.g[i+"URL"]+t.replace(e,"");break}}}if(r&&r.headers&&"multipart/form-data"===r.headers["Content-Type"])d=i;else if(d=p().isArray(i)?[]:{},i&&!p().isEmpty(i))if(p().isArray(i))for(let e of i)(e||0===e||!1===e||""===e&&!r.noEmptyStr)&&d.push(e);else for(let e in i)i.hasOwnProperty(e)&&(i[e]||0===i[e]||!1===i[e]||""===i[e]&&!r.noEmptyStr)&&(d[e]=i[e]);let c=e.toLowerCase();Me(c,h,d,a,l,r,o).then((e=>{s(e)})).catch((e=>{n(e)}))}else console.error("没有请求地址:url"),n("没有请求地址:url")}))}Oe.interceptors.request.use((e=>e),(e=>Promise.reject(e))),Oe.interceptors.response.use((e=>(e&&e.data&&(403===e.data.code||409===e.data.code)&&_e({content:F("r.http."+e.data.code),onOk:Ve}),e)),(e=>(e&&e.response&&(403===e.response.status||409===e.response.status)&&_e({content:F("r.http."+e.response.status),onOk:Ve}),console.warn("请求出错：",e),Promise.reject(e))));var Ge={init(e){Oe.store=e},post(e,t={},i,a,l){return new Promise(((r,o)=>{Ne("post",e,t,i,a,l).then((e=>{r(e)})).catch((e=>{o(e)}))}))},put(e,t={},i,a,l){return new Promise(((r,o)=>{Ne("put",e,t,i,a,l).then((e=>{r(e)})).catch((e=>{o(e)}))}))},get(e,t={},i,a,l){return new Promise(((r,o)=>{Ne("get",e,t,i,a,l).then((e=>{r(e)})).catch((e=>{o(e)}))}))},delete(e,t={},i,a,l,r=!0){return new Promise(((o,s)=>{Ne("delete",e,t,i,a,l,r).then((e=>{o(e)})).catch((e=>{s(e)}))}))},all:Ie().all,spread:Ie().spread,config:Oe};let Fe=[],Pe=[];const Xe=function(e){e&&e.beforeEach?e.beforeEach(((e,t,i)=>{Fe.map((e=>{window.clearTimeout(e)})),Pe.map((e=>{window.clearInterval(e)})),Fe.length=0,Pe.length=0,i()})):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},Ee=function(e,t){let i=window.setTimeout(e,t);return Fe.push(i),i},ze=function(e,t){let i=window.setInterval(e,t);return Pe.push(i),i};var He={init:Xe,setTimeout:Ee,setInterval:ze},je={name:"btTablePage",props:{url:{type:String,default:""},searchData:{type:Object,default(){return{}}},columns:{type:Array,default(){return[]}},dataHandler:{type:Function},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{validator:e=>ne(e,["left","right",!1]),default:!1},rowClickSelect:{type:Boolean,default:!0},data:{type:Array,default(){return[]}},pageSize:{type:Number,default:10},sortable:{validator:e=>ne(e,["custom",""]),default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{type:Number,default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},orderDefault:{type:String,default:"desc"},orderKey:{type:String,default:"id"},orderKeyFormat:{validator:e=>ne(e,["underline","camelcase"]),default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1}},data(){return{pageSizes:this.pageSizes||[10,20,30,40],dataT:this.data,pageSizeT:localStorage.getItem("btPageSize")&&Number(localStorage.getItem("btPageSize"))||this.pageSize,current:1,total:0,selected:[],currentKey:null,currentIndex:null,key:this.orderKey,order:this.orderDefault,tableContainerHeight:300}},computed:{columnsFixed(){for(let e of this.columns)if(e.fixed)return!0;return!1},fixedTable(){return this.selectionFixed||this.columnsFixed},queryData(){let e={...this.searchData,current:this.current,size:this.pageSizeT};return"custom"===this.sortable&&("underline"===this.orderKeyFormat?e[this.order]=W(this.key):"camelcase"===this.orderKeyFormat&&(e[this.order]=j(this.key))),e},columnsT(){let e=this.columns.filter((e=>"selection"!==e.type));if(this.selection||this.radio){let t;t=this.radio?{title:" ",width:65,render:(e,t)=>e("Radio",{props:{value:t.row.btChecked}})}:{type:"selection",width:60},this.selectionFixed&&(t.fixed=this.selectionFixed),e.unshift(t)}return e.forEach((e=>{"custom"===this.sortable?e.key&&!0!==e.sortable&&!1!==e.sortable&&(e.sortable="custom"):e.sortable=!1,e.align||(e.align="center")})),this.tableEmptyTdHandle&&e.forEach((e=>{e.key&&void 0===e.render&&(e.tooltip?e.render=me(e.key,!0):e.render=(t,i)=>{let a=i.row[e.key];return t("span",""===a||null===a||void 0===a?"--":a)})})),e},dataS:{get(){return this.dataT.map(((e,t)=>({btKey:"bt-"+t,btChecked:!1,...e})))},set(e){this.dataT=e}},selectedIds(){return this.selected.map((e=>e.id))},selectedKeys(){return this.selected.map((e=>e.btKey))}},created(){this.initTable()},watch:{searchData:{handler(){this.search()},deep:!0}},methods:{initTable(){this.initData&&this.getDataAndClickRow()},addRow(e){this.dataT.unshift(p().cloneDeep(e)),Ee((()=>{this.$refs.TableXXX.clickCurrentRow(0)}),100)},setRowData(e,t,i){let a=null;if(p().isBoolean(t)&&t?a=this.currentIndex:p().isNumber(t)&&(a=t),null!==a){let t=this.dataT[a];for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);i&&Ee((()=>{this.$refs.TableXXX.clickCurrentRow(a)}),10)}},deleteRow(e){this.dataT.splice(e,1),Ee((()=>{this.$refs.TableXXX.clickCurrentRow(0)}),100)},clearSelect(){if(this.radio){if(this.selectedKeys.length>0){let e=this.selectedKeys[0].split("-")[1];this.$set(this.dataS[e],"btChecked",!1)}}else this.$refs.TableXXX.selectAll(!1);this.selected.length>0&&(this.selected=[],this.$emit("on-selection-change",[])),this.currentKey=null,this.currentIndex=null},clearTableData(){this.$set(this,"dataT",[]),this.clearSelect(),this.current=1,this.total=0},search(){this.current=1,this.getDataAndClickRow()},getDataAndClickRow(e,t,i){this.radio&&(e||-1!==this.rowClickNum)?this.getTableData(t,i,e).then((()=>{this.dataT.length>0&&Ee((()=>{e?this.$refs.TableXXX.clickCurrentRow(this.currentIndex||0):this.$refs.TableXXX.clickCurrentRow(this.rowClickNum)}),10)})):this.getTableData()},onRowClick(e,t){e.btChecked&&this.radio||(this.selection||this.radio)&&this.rowClickSelect&&this.$refs.TableXXX.toggleSelect(t)},onSelect(e,t){this.currentKey=t.btKey,this.currentIndex=Number(t.btKey.split("-")[1]),this.radio&&this.$set(this.dataT[this.currentIndex],"btChecked",!0)},selectionHandle(e){if(this.radio)for(let t of this.dataS)t.btKey!==this.currentKey&&this.$set(this.dataT[Number(t.btKey.split("-")[1])],"btChecked",!1);this.selected=e},getSelected(){return p().cloneDeep(this.selected)},changePage(e){this.current=e,this.getDataAndClickRow()},pageSizeChange(e){this.pageSizeT=e,localStorage.setItem("btPageSize",e),1===this.current&&this.getDataAndClickRow()},onSortChange({key:e,order:t}){"normal"===t?(this.key=this.orderKey,this.order=this.orderDefault):(this.key=e,this.order=t),this.current=1,this.getTableData()},getTableData(e,t,i){return new Promise((a=>{e&&(this.order=e),t&&(this.key=t),this.url&&""!==this.url?Ge.get(this.url,this.queryData,null,[],{spin:this.getDataLoading}).then((l=>{let r;i||this.clearSelect(),r="Function"===H(this.dataHandler)?this.dataHandler(l):l,r.data?(r.data.records||null===r.data.records?this.dataT=r.data.records||[]:r.data.page?(r.data.page.records||null===r.data.page.records)&&(this.dataT=r.data.page.records||[]):r.data.data?(r.data.data.records||null===r.data.data.records)&&(this.dataT=r.data.data.records||[]):this.dataT=r.data,this.total=r.data.page&&r.data.page.total||r.data.data&&r.data.data.total||r.data.total||r.total||0,0===this.total&&this.current>1&&this.dataT&&0===this.dataT.length?this.current=1:this.current>1&&this.total<=(this.current-1)*this.pageSizeT&&(this.current--,this.$nextTick((function(){this.getTableData(e,t)}))),this.$emit("on-data-change",r),a(r)):(console.warn("请求返回数据有误，无法使用"),this.clearTableData(),this.$emit("on-data-change",r))})).catch((e=>{console.warn(e),this.clearSelect(),this.clearTableData(),this.$emit("on-data-change",e)})):console.warn("没有有效的请求地址，无法获取表格数据")}))}}},We=je,Ue=s(We,h,c,!1,null,null,null),qe=Ue.exports,Je=function(){var e=this,t=e._self._c;return t("div",{style:e.wellStyle},[t("div",{staticClass:"flexColumnBox wellCardR"},[t("div",{staticClass:"panelHeader notGrow"},[t("div",{staticClass:"fl",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.title||e.t("r.title")))]),t("div",{staticClass:"btsF"},[e._t("bts")],2)]),t("div",{staticClass:"growFlexItem relativeBox"},[t("div",{staticClass:"fullFlowContent"},[e._t("default")],2)])])])},Ye=[],Qe={methods:{t(...e){return F.apply(this,e)}}},Ze={name:"wellCard",mixins:[Qe],props:{title:{type:String},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},inline:{type:Boolean,default:!1}},computed:{wellStyle(){let e={};this.inline&&(e.display="inline-block");let t=["width","height"];for(let i of t)"String"===H(this[i])?e[i]=this[i]:"Number"===H(this[i])&&this[i]>0&&(e[i]=this[i]+"px");return e}}},et=Ze,tt=s(et,Je,Ye,!1,null,null,null),it=tt.exports,at=function(){var e=this,t=e._self._c;return t("Table",{key:e.updateDomKey,ref:"tabXY",class:{tableTreeKM:!0,lightHeadO:e.lightHead},attrs:{columns:e.columnsX,data:e.dataX,"highlight-row":e.highlightRow}})},lt=[],rt={name:"tableTree",props:{columns:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},highlightRow:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1}},data(){return{dataX:[],noKey:1,updateDomKey:Math.floor(1e8*Math.random()+1e4)}},computed:{columnsX(){let e=this.columns.filter((e=>"selection"!==e.type));if(e[0]){let t=e[0].key;e[0].renderHeader=(e,t)=>e("div",{style:{paddingLeft:"20px"}},t.column.title),e[0].render=(e,i)=>e("div",{class:"tableTxtBt",style:{paddingLeft:20*(i.row.parentNoKey.length+1)+"px",textAlign:"left"}},[e("Checkbox",{props:{value:i.row.checkBox},directives:[{name:"show",value:this.radio}],on:{"on-change":e=>{!0===e?(this.setCollectionVal(this.dataX,{checkBox:!1}),this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[i.index].ownKey}),this.$emit("on-select",i.row)):this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[i.index].ownKey})},click:e=>{e.preventDefault()}}}),e("Icon",{props:{type:i.row._hideChild?"ios-arrow-forward":!1===i.row._hideChild?"ios-arrow-down":""},style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(i.index)}}}),e("span",{style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(i.index)}}}," "+i.row[t])])}return e}},mounted(){this.updateTab()},watch:{data(){this.updateTab()}},methods:{setCollectionVal(e,t){if(t&&pe(t.checkBox)&&"Array"===H(e))if(t.ownKey)for(let i of e)i.ownKey===t.ownKey&&(i.checkBox=t.checkBox),"Array"===H(i.childrenXK)&&i.childrenXK.length>0&&this.setCollectionValB(i.childrenXK,t);else for(let i of e)i.checkBox=t.checkBox,"Array"===H(i.childrenXK)&&i.childrenXK.length>0&&this.setCollectionValB(i.childrenXK,t)},setCollectionValB(e,t){if(t&&pe(t.checkBox)&&"Array"===H(e))if(t.ownKey)for(let i of e)i.ownKey===t.ownKey&&(i.checkBox=t.checkBox),"Array"===H(i.childrenXK)&&i.childrenXK.length>0&&this.setCollectionVal(i.childrenXK,t);else for(let i of e)i.checkBox=t.checkBox,"Array"===H(i.childrenXK)&&i.childrenXK.length>0&&this.setCollectionVal(i.childrenXK,t)},handleResize(){this.$refs.tabXY.handleResize()},updateTab(){let e=p().cloneDeep(this.data);this.addHideChildAttr(e),this.dataX=p().cloneDeep(e),this.showDefault()},showDefault(){for(let e=0,t=this.dataX.length;e<t;e++){let t=this.dataX[e];if(!1===t.hideChild&&!0===t._hideChild){this.showHideClick(e);break}}},showHideClick(e){if(this.dataX[e]._hideChild){this.dataX[e]._hideChild=!1;let t=p().cloneDeep(this.dataX[e].childrenXK);this.dataX.splice(e+1,0,...t),this.showDefault()}else!1===this.dataX[e]._hideChild&&this.hideChildNode(e)},addHideChildAttr(e,t){for(let i of e)i.ownKey=this.noKey,this.noKey++,i.parentNoKey=i.parentNoKey||[],void 0!==t&&i.parentNoKey.push(...t),i.children&&(i.childrenXK=i.children,delete i.children),"Array"===this.myTypeof(i.childrenXK)&&i.childrenXK.length>0&&(!1!==i._hideChild&&(i._hideChild=!0),this.addHideChildAttrB(i.childrenXK,[i.ownKey,...i.parentNoKey]))},addHideChildAttrB(e,t){for(let i of e)i.ownKey=this.noKey,this.noKey++,i.parentNoKey=i.parentNoKey||[],void 0!==t&&i.parentNoKey.push(...t),i.children&&(i.childrenXK=i.children,delete i.children),"Array"===this.myTypeof(i.childrenXK)&&i.childrenXK.length>0&&(!1!==i._hideChild&&(i._hideChild=!0),this.addHideChildAttr(i.childrenXK,[i.ownKey,...i.parentNoKey]))},hideChildNode(e){let t=this.getChildCount(this.dataX[e].ownKey);t&&this.dataX.splice(e+1,t),ve({group:[this.dataX[e]],condition:e=>!1===e._hideChild,key:"_hideChild",val:!0,childKey:"childrenXK"})},addLocalNode(e,t){return new Promise(((i,a)=>{!p().isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!"),p().isPlainObject(t)&&!p().isEmpty(t)||a("节点数据异常，无法添加节点！");let l=this.dataX[e];!1!==l._hideChild&&(l._hideChild=!1);let r=[l.ownKey,...l.parentNoKey],o={...t,ownKey:++this.noKey,parentNoKey:r};for(let e of this.dataX){let t=r.indexOf(e.ownKey);if(t>-1){void 0===e.childrenXK&&(e.childrenXK=[]);let i=e.childrenXK,a=e;for(let l=0;l<t+1;l++){if(l===t){i.push(p().cloneDeep(o)),void 0===e._hideChild&&(e._hideChild=!0);break}a=p().find(a.childrenXK,(e=>-1!==r.indexOf(e.ownKey))),void 0===a._hideChild&&(a._hideChild=!0),void 0===a.childrenXK&&(a.childrenXK=[]),i=a.childrenXK}}}this.dataX.splice(e+1+this.getChildCount(l.ownKey),0,p().cloneDeep(o)),this.updateDomKey=Math.floor(1e8*Math.random()+1e4),i(p().cloneDeep(o))}))},editLocalNode(e,t){return new Promise(((i,a)=>{!p().isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!"),p().isPlainObject(t)&&!p().isEmpty(t)||a("节点数据异常，无法添加节点！");let l=this.dataX[e],r=Object.assign(l,t);this.dataX[e]=r;for(let e of this.dataX){let t=r.parentNoKey.indexOf(e.ownKey);if(t>-1){let i=e.childrenXK;for(let e=0;e<t+1;e++){if(e===t){let e=p().findIndex(i,(e=>e.ownKey===r.ownKey));e>-1&&(i[e]=p().cloneDeep(r));break}{let e=p().find(i,(e=>-1!==r.parentNoKey.indexOf(e.ownKey)));i=e.childrenXK}}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),i(p().cloneDeep(r))}))},deleteLocalNode(e){return new Promise(((t,i)=>{!p().isInteger(e)||e<0?i("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&i("无效的索引序号index!");let a=this.dataX[e];this.dataX.splice(e,1),this.deleteLocalChildNode(a.ownKey,e);for(let e of this.dataX){let t=a.parentNoKey.indexOf(e.ownKey);if(t>-1){let i=e.childrenXK,l=e;for(let e=0;e<t+1;e++){if(e===t){let e=p().findIndex(i,(e=>e.ownKey===a.ownKey));e>-1&&(i.splice(e,1),0===i.length&&(l._hideChild=null));break}l=p().find(i,(e=>-1!==a.parentNoKey.indexOf(e.ownKey))),i=l.childrenXK}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),t(p().cloneDeep(this.dataX))}))},deleteLocalChildNode(e,t){let i=this.getChildCount(e);i&&this.dataX.splice(t,i)},getChildCount(e){let t=0;for(let i of this.dataX)-1!==i.parentNoKey.indexOf(e)&&t++;return t}}},ot=rt,st=s(ot,at,lt,!1,null,null,null),nt=st.exports,dt=function(){var e=this,t=e._self._c;return t("div",[t("Upload",{attrs:{name:"files",action:e.urlT,"before-upload":e.handelManualUpload,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-exceeded-size":e.overSize,"on-preview":e.onPreview,"on-remove":e.onRemove,"on-format-error":e.onFormatError,data:e.data,"max-size":e.maxSize,"show-upload-list":!1,"with-credentials":e.withCredentials,format:e.format,multiple:e.multiple||!1,disabled:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)}},[t("Button",{class:{disabledR:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)},attrs:{icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.t("r.selectFile")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"img"===e.previewType&&e.fileIdList.length>0,expression:"previewType === 'img' && fileIdList.length>0"}],staticClass:"previewBoxM"},e._l(e.fileIdList,(function(i){return e.manualUpload||null===i?e._e():t("div",{key:i,staticClass:"previewImg"},[t("img",{attrs:{src:e.url+"/"+i+"/download?preview=true",alt:i}}),t("div",{staticClass:"deleteModal"},[t("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:e.t("r.fView")},on:{click:function(t){return e.fullScreenImgByDom(e.url+"/"+i+"/download?preview=true")}}}),t("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:e.t("r.delete")},on:{click:function(t){return e.deleteById(t,i)}}})],1)])})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"localImg"===e.previewType&&e.fileSrcList.length>0,expression:"previewType === 'localImg' && fileSrcList.length>0"}],staticClass:"previewBoxM"},e._l(e.fileSrcList,(function(i,a){return e.manualUpload&&null!==i?t("div",{key:"manualImg"+a,staticClass:"previewImg"},[t("img",{attrs:{src:i,alt:"manualImg"+a}}),t("div",{staticClass:"deleteModal"},[t("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:e.t("r.fView")},on:{click:function(t){return e.fullScreenImgByDom(i)}}}),t("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)]):e._e()})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"localList"===e.previewType&&e.fileList.length>0,expression:"previewType === 'localList'&& fileList.length>0"}],staticClass:"customFileListM"},e._l(e.fileList,(function(i,a){return e.manualUpload&&null!==i?t("p",{key:"manualItem"+a,staticClass:"customFileListItem"},[i.name?t("Icon",{attrs:{type:e.getFileTypeIconByName(i.name)}}):e._e(),t("span",{staticClass:"upNameT",attrs:{title:e.t("r.download")},on:{click:function(t){return e.downloadManualFile(i)}}},[e._v(e._s(e.getName(i)))]),t("span",{staticClass:"btBoxJ"},[e.showPreview(i)?t("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"14",title:e.t("r.fView")},on:{click:function(t){return e.listExpand(i)}}}):e._e(),t("Icon",{staticClass:"listBtH",attrs:{type:"ios-close",size:"22",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)],1):e._e()})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"list"===e.previewType&&e.fileDefaultList.length>0,expression:"previewType === 'list' && fileDefaultList.length>0"}],staticClass:"customFileListM"},e._l(e.fileDefaultList,(function(i,a){return e.manualUpload||null===i?e._e():t("p",{key:"defaultItem"+a,staticClass:"customFileListItem"},[t("Icon",{attrs:{type:e.getFileTypeIconByName(i.name)}}),t("span",{staticClass:"upNameT",attrs:{title:e.t("r.download")},on:{click:function(t){return e.downloadDefaultFile(i)}}},[e._v(e._s(i.name||e.t("r.file")+(a+1)))]),t("span",{staticClass:"btBoxJ"},[e.showPreview(i)?t("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"14",title:e.t("r.fView")},on:{click:function(t){return e.listExpand(i)}}}):e._e(),t("Icon",{staticClass:"listBtH",attrs:{type:"ios-close",size:"22",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)],1)})),0)],1)},ht=[];function ct(e){const t=(...e)=>F.apply(this,e),i=t("r.closePreview"),a=t("r.fullImg");let l=p().first(document.getElementsByTagName("body")),r=document.createElement("div");r.setAttribute("class","fullScreenImgByDom"),r.innerHTML=`<div class="previewInner"><img src="${e}" alt="${a}" ><i class="ivu-icon ivu-icon-md-close" title="${i}" ></i></div>`,r.querySelector(".ivu-icon-md-close").addEventListener("click",(function(){let e=p().first(document.getElementsByTagName("body"));e&&e.removeChild(r)})),l.appendChild(r)}var ut={name:"uploadGroup",mixins:[Qe],model:{prop:"fileIdListProp",event:"on-file-id-change"},props:{fileIdListProp:{type:[Array,Number,String,File],default(){return[]}},url:{type:String,default(){return window.g&&window.g.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""}},data:{type:Object,default(){return{appId:0,moduleId:0,typeId:0}}},manualUpload:{type:Boolean,default:!1},maxSize:{type:Number,default:0},length:{type:Number,default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{type:Array,default(){return[]}},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{getFileTypeIconByName:te,fullScreenImgByDom:ct,fileSrcList:[],fileDefaultList:[]}},computed:{previewType(){return!this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"img":this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"localImg":!this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?void 0:"list":"localList"},urlT(){return this.manualUpload?"//jsonplaceholder.typicode.com/posts/":this.url},fileList:{get(){if(this.manualUpload)return this.fileIdList;{let e=[];for(let t of this.fileIdList)e.push({response:{data:[{id:t}]}});return e}},set(e){if(this.manualUpload)this.fileIdList=e;else{let t=[];for(let i of e)i.response&&i.response.data&&i.response.data[0]&&(i.response.data[0].id||0===i.response.data[0].id)&&t.push(i.response.data[0].id);this.fileIdList=t}}},fileIdList:{get(){switch(H(this.fileIdListProp)){case"Number":return[this.fileIdListProp];case"String":return-1!==this.fileIdListProp.indexOf("--")?[]:/^\d*$/.test(this.fileIdListProp)?[Number(this.fileIdListProp)]:[this.fileIdListProp];case"Array":return this.fileIdListProp.filter((e=>"--"!==e));case"File":return[this.fileIdListProp];default:return[]}},set(e){if(1===this.length){let t=p().first(e);this.$emit("on-file-id-change",t||0===t?t:null)}else this.$emit("on-file-id-change",p().cloneDeep(e))}},fileListItemIsIMG(){let e;e=this.manualUpload?this.fileList:this.fileDefaultList;for(let t of e){let e;if(e=this.manualUpload?t&&t.type:t&&t.mimeType,!e||e&&!ee(e))return!1}return!0}},watch:{fileList:{async handler(e){if("localImg"===this.previewType)e&&e.length>0?this.fileSrcList=await this.getFileSrcList(e):this.fileSrcList=[];else if(e&&e.length>0&&"localList"!==this.previewType){let t=[];for(let i of e)void 0===i.name?i.response&&i.response.data&&i.response.data[0]&&i.response.data[0].id?Ge.get(this.url+"/"+i.response.data[0].id).then((a=>{let l=p().cloneDeep(i);l.name=a&&a.data&&a.data.returnValue&&a.data.returnValue[0]&&a.data.returnValue[0].name||this.t("r.file")+p().indexOf(e,i),l.mimeType=a&&a.data&&a.data.returnValue&&a.data.returnValue[0]&&a.data.returnValue[0].mimeType||"unknown",t.push(l)})).catch((()=>{t.push({name:this.t("r.file")+p().indexOf(e,i)})})):t.push({name:this.t("r.unknown")}):t.push(i);this.fileDefaultList=t}else this.fileDefaultList=[]},immediate:!0,deep:!0}},methods:{clear(){this.fileList=[]},getName(e){return e.name||e.split&&p().last(e.split("/"))||e},async getFileSrcList(e){let t=[];for(let i of e){let e=await Q(i);t.push(e)}return t},clearManualItem(e){if(!this.disabled){let t=this.fileList;t.splice(e,1),this.fileList=t}},downloadDefaultFile(e){e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id&&window.open(this.url+"/"+e.response.data[0].id+"/download")},showPreview(e){return this.manualUpload?e.type&&ee(e.type):e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id&&e.mimeType&&ee(e.mimeType)},listExpand(e){this.manualUpload?Q(e).then((e=>{ct(e)})):ct(this.url+"/"+e.response.data[0].id+"/download?preview=true")},downloadManualFile(e){"String"===H(e)&&e.indexOf("http")>-1?window.open(e):"File"===H(e)&&Q(e).then((t=>{ie(e.name,t)}))},handelManualUpload(e){if(this.manualUpload){if(e){let t=Z(e.name);if(this.format.length>0&&this.format.indexOf(t)<0)return z(this.t("r.wrongFileType"),this.t("r.supportType")+(this.format.length>0&&String(this.format)||this.t("r.none")),"warning"),!1;if(this.maxSize&&e.size>1024*this.maxSize)return z(this.t("r.fileIsBig"),this.t("r.supportSize")+this.maxSize+"kb","warning"),!1;let i=this.fileList;i.push(e),this.fileList=i}return!1}return!0},uploadError(e,t,i){console.warn(e),z(this.t("r.uploadError"),"","error")},uploadSuccess(e,t,i){if(e&&0===e.code){let e=this.fileList;e.push(t),this.fileList=e}else z(this.t("r.uploadFail"),e&&e.message||"","error")},overSize(e,t){z(this.t("r.fileIsBig"),this.t("r.supportSize")+this.maxSize+" kb","warning")},onFormatError(e,t){z(this.t("r.wrongFileType"),this.t("r.supportType")+(this.format.length>0&&String(this.format)||this.t("r.none")),"warning")},onPreview(e){let t=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id,i=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].mimeType;t&&("String"===H(i)&&i.indexOf("image")>-1?ct(this.url+"/"+t+"/download?preview=true"):window.open(this.url+"/"+t+"/download?preview=true"))},onRemove(e,t){let i=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id;this.deleteById(null,i)},deleteById(e,t){if(!this.disabled&&-1!==this.fileIdList.indexOf(t)){const e=this.fileIdList;let i=this.fileList;i.splice(e.indexOf(t),1),this.fileList=i}}}},pt=ut,ft=s(pt,dt,ht,!1,null,null,null),mt=ft.exports,yt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tabSetF"},[t("div",{staticClass:"tabSetBt",on:{click:e.labelClick}},[t("Icon",{attrs:{type:"md-settings",size:"17"}}),t("span",[e._v(e._s(e.t("r.tabSetting")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"tabSetCard",style:{top:e.top,right:e.right,width:e.width,backgroundColor:e.bg}},[t("div",{staticClass:"topCheck"},[t("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll.apply(null,arguments)}}},[e._v(e._s(e.t("r.all")))]),t("span",{staticStyle:{cursor:"pointer",float:"right"},on:{click:e.save}},[e._v(e._s(e.t("r.confirm")))])],1),t("CheckboxGroup",{model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.groupX,(function(i,a){return t("Checkbox",{key:"tabSet_"+e.sKey+a,staticClass:"setItem",attrs:{label:i&&i.label,disabled:i&&i.disabled}})})),1)],1)])},gt=[],bt={name:"tableSetting",mixins:[Qe],model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},sKey:{type:String,required:!0},top:{type:String,default:"30px"},right:{type:String,default:"0"},width:{type:String,default:"150px"},bg:{type:String,default:"#ccc"},defaultCheck:{type:Boolean,default:!1}},data(){return{indeterminate:!0,checkAll:!1,show:!1,groupT:[],locale:null}},computed:{groupX(){let e=this.t("r.unknown");return this.value.length>this.groupT.length&&(this.groupT=p().cloneDeep(this.value)),this.groupT.map((t=>{let i={label:t&&t.title||e};return t&&t.disableShowSetting&&(i.disabled=!0),i}))},disabledGroup(){return this.groupX.filter((e=>e.disabled))},checkAllGroup:{get(){let e=this.t("r.unknown");return this.value.map((t=>t&&t.title||e))},set(e){let t=this.groupT.filter((t=>{for(let i of e)if(i===t.title)return!0;return!1}));this.$emit("subVal",t)}}},created(){this.$root&&this.$root.$i18n&&this.$root.$i18n.locale?this.locale=this.$root.$i18n.locale:this.$root&&this.$root.$lang&&(this.locale=this.$root.$lang)},mounted(){let e,t=this.t("r.unknown");e=this.locale?localStorage.getItem(this.sKey+"_"+this.locale):localStorage.getItem(this.sKey),e?this.checkAllGroup=JSON.parse(decodeURI(e)):this.defaultCheck&&(this.checkAllGroup=this.value.filter((e=>e.showSettingCheck)).map((e=>e&&e.title||t)))},watch:{checkAllGroup:{handler(e){this.checkAllGroupChange(e)},immediate:!0}},methods:{labelClick(){this.show||(this.show=!0)},save(){this.locale?localStorage.setItem(this.sKey+"_"+this.locale,encodeURI(JSON.stringify(this.checkAllGroup))):localStorage.setItem(this.sKey,encodeURI(JSON.stringify(this.checkAllGroup))),this.show=!1},handleCheckAll(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=this.groupX.map((e=>e.label)):this.checkAllGroup=this.disabledGroup.map((e=>e.label))},checkAllGroupChange(e){e.length===this.groupX.length?(this.indeterminate=!1,this.checkAll=!0):e.length>this.disabledGroup.length?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)}}},vt=bt,wt=s(vt,yt,gt,!1,null,null,null),kt=wt.exports,xt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"containerIKJ",style:e.containerStyle},[t("Input",{ref:"mapInput",class:{mapInputIKJ:e.showMap},attrs:{placeholder:e.placeholder||e.t("r.search"),disabled:e.disabled,icon:"ios-search"},model:{value:e.valueT.name,callback:function(t){e.$set(e.valueT,"name",t)},expression:"valueT.name"}}),t("div",{ref:e.vidT,style:e.mapStyle,attrs:{id:e.vidT}})],1)},St=[],Ct=g(487),Tt={name:"inputMap",mixins:[Qe],model:{prop:"valProp",event:"update-value"},props:{valProp:{type:Object,default:null},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:null},placeholder:{type:String},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},data(){return{infoWindow:null}},computed:{valueT:{get(){let e;return e=this.valProp?this.valProp.name?p().cloneDeep(this.valProp):{...this.valProp,name:null}:{name:null},e},set(e){this.$emit("update-value",p().cloneDeep(e))}},vidT(){return"vidT"+Math.floor(1e9*Math.random())},widthT(){return p().isNumber(this.width)?this.width+"px":this.width},heightT(){return p().isNumber(this.height)?this.height+"px":this.height?this.height:p().isNumber(this.width)?.66*this.width+"px":"200px"},containerStyle(){return{width:this.widthT,position:"relative"}},mapStyle(){return{width:this.widthT,height:this.heightT,marginTop:"6px",opacity:this.showMap?1:0,position:this.showMap?"relative":"absolute",top:this.showMap?0:"-10000px"}}},mounted(){this.checkHeight()},beforeDestroy(){this.mapX&&(this.mapX.destroy(),this.mapX=null,this.geoCoder=null,this.autoCompleteX=null,this.infoWindow=null)},methods:{checkHeight(){this.$refs[this.vidT]&&this.$refs[this.vidT].clientHeight<10||!this.$refs[this.vidT]?Ee(this.checkHeight,100):Ee(this.initMap,1e3)},initMap(){Ct.lazyAMapApiLoaderInstance.load().then((()=>{this.mapX=new AMap.Map(this.vidT,{}).on("complete",(()=>{this.geoCoder=new AMap.Geocoder,this.valProp&&this.valProp.lng&&this.valProp.lat&&this.createMarker({lng:this.valProp.lng,lat:this.valProp.lat,name:this.valProp.name}),this.autoCompleteX=new AMap.Autocomplete({input:this.$refs.mapInput.$el.children[1]}).on("select",(e=>{e&&e.poi&&e.poi.name&&(e.poi.location&&e.poi.location.lng&&e.poi.location.lat?(this.createMarker({name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}),this.valueT={name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}):this.mapX.setCity(e.poi.name,(()=>{let t=this.mapX.getCenter();this.createMarker({name:e.poi.name,lng:t.lng,lat:t.lat}),this.valueT={name:e.poi.name,lng:t.lng,lat:t.lat}}))),this.$emit("on-change",this.valueT)}))}))}))},createMarker({lng:e,lat:t,name:i}){this.mapX.clearMap();let a=new AMap.LngLat(e,t),l=new AMap.Marker({map:this.mapX,position:a,draggable:!0});this.mapX.add(l),this.getAddress(e,t),l.on("dragend",(()=>{let a=l.getPosition();this.valueT={name:i||null,lng:a.lng,lat:a.lat},this.getAddress(e,t)})),l.on("click",(e=>{this.infoWindow&&this.infoWindow.open(this.mapX,e.target.getPosition())})),this.mapX.setFitView()},getAddress(e,t){this.geoCoder.getAddress([e,t],((e,t)=>{"complete"===e&&"OK"===t.info&&t.regeocode&&t.regeocode.formattedAddress?this.infoWindow=new AMap.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+t.regeocode.formattedAddress+"</div>",offset:new AMap.Pixel(16,-45),closeWhenClickMap:!0}):(this.infoWindow=null,console.warn("地图获取位置信息失败",t))}))}}},Kt=Tt,Bt=s(Kt,xt,St,!1,null,null,null),Lt=Bt.exports,It=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tableBtnsG",class:{disabled:e.disabled},attrs:{title:e.title||e.t("r.button")},on:{click:e.onClick}},[t("Icon",{attrs:{type:e.icon,size:e.size}})],1)},$t=[],_t={name:"tableIconBtn",mixins:[Qe],props:{icon:{type:String,default(){return"md-radio-button-on"}},title:{type:String},has:{type:String},disabled:{type:Boolean,default(){return!1}},size:{type:Number,default(){return 24}}},methods:{onClick(e){this.disabled||this.$emit("click",e)}}},At=_t,Ot=s(At,It,$t,!1,null,null,null),Dt=Ot.exports,Vt=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tabTopBtnsT",class:{disabled:e.disabled},style:{"font-size":e.txtSize},on:{click:e.click}},[t("Icon",{attrs:{type:e.icon,size:e.size}}),e._v(" "+e._s(e.name||e.t("r.button"))+" ")],1)},Rt=[],Mt={name:"iconTxtBtn",mixins:[Qe],props:{name:{type:String},icon:{type:String,default:"md-download"},size:{type:Number,default:17},disabled:{type:Boolean,default:!1},has:{type:String}},computed:{txtSize(){return Math.floor(this.size/17*12)+"px"}},methods:{click(e){this.disabled||this.$emit("click",e)}}},Nt=Mt,Gt=s(Nt,Vt,Rt,!1,null,null,null),Ft=Gt.exports,Pt=function(){var e=this,t=e._self._c;return t("div",{style:e.getBg},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"contentX"},[e._t("default")],2),t("div",{staticClass:"arrowA"},[t("div",{staticClass:"btA",on:{click:function(t){e.show=!e.show}}},[t("Icon",{attrs:{type:e.show?"ios-arrow-up":"ios-arrow-down",size:"20"}})],1)])])},Xt=[],Et={name:"showHidePanel",props:["bg"],data(){return{show:!0}},computed:{getBg(){return this.show?"background:"+this.bg||0:""}}},zt=Et,Ht=s(zt,Pt,Xt,!1,null,null,null),jt=Ht.exports,Wt=function(){var e=this,t=e._self._c;return t("div",[t("Select",{style:e.labelSelectStyle,attrs:{disabled:Boolean(e.disabled),transfer:""},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}},e._l(e.selectOption,(function(i,a){return t("Option",{key:"selectInputOp"+i.value+a,style:{textAlign:e.labelTextAlign},attrs:{value:i.val}},[e._v(e._s(i.label))])})),1),t("Input",{style:e.inputStyle,attrs:{placeholder:e.placeholder||e.t("r.pInput"),clearable:e.clearable,disabled:Boolean(e.disabled)},on:{"on-change":e.inputChange},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)},Ut=[],qt={name:"selectInput",mixins:[Qe],model:{prop:"value",event:"subVal"},props:{value:{type:Object,default(){return{key:null,val:null}}},labelWidth:{type:Number,default:160},labelTextAlign:{type:String,default:"right"},itemWidth:{type:Number,default:200},selectOption:{type:Array,default(){return[]}},placeholder:{type:String},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{selectVal:{get(){return this.value&&this.value.key||null},set(e){let t={key:e,val:null};this.selectVal&&this.selectVal!==e&&(t.beforeKey=this.selectVal),this.$emit("subVal",t),this.$emit("on-change",t)}},inputVal:{get(){return this.value&&this.value.val||null},set(e){let t={key:this.selectVal,val:e};this.$emit("subVal",t)}},labelSelectStyle(){return{width:this.labelWidth+"px",textAlign:this.labelTextAlign}},inputStyle(){return{width:this.itemWidth+"px"}}},methods:{inputChange(e){e&&e.target&&void 0!==e.target.value&&this.handleChange({key:this.selectVal,val:e.target.value},this)},handleChange:p().debounce(((e,t)=>{t.$emit("on-change",e)}),500)}},Jt=qt,Yt=s(Jt,Wt,Ut,!1,null,null,null),Qt=Yt.exports,Zt=function(){var e=this,t=e._self._c;return t("Cascader",{ref:"cascaderRT",attrs:{data:e.data,"change-on-select":"",transfer:"",disabled:e.disabled,"render-format":e.format,placeholder:e.placeholder||e.t("r.pSelect"),filterable:e.filterable},on:{"on-change":e.onChange},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})},ei=[],ti={name:"asyncCascader",mixins:[Qe],model:{prop:"valProp",event:"subVal"},props:{url:{type:String,default(){return window.g&&window.g.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""}},valProp:{type:[Array,Number,String]},optionVal:{type:String,default:"id"},optionLabel:{type:String,default:"name"},optionFilter:{type:Function},separator:{type:String,default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default:!1},placeholder:{type:String},disabled:{type:Boolean,default:!1}},data(){return{data:[]}},computed:{val:{get(){let e=this.valProp;return p().isArray(e)?[].concat(e):p().isNumber(e)?oe({group:this.data,condition:t=>t.value===e,pathKey:"value"}):p().isString(e)?e.split(this.separator):null===e?[]:void 0},set(e){if(this.onlyLastVal)p().isEmpty(e)?(this.$emit("subVal",null),this.$emit("on-label-change",null)):this.$emit("subVal",p().last(e));else{if(p().isEqual(this.valProp,e))return;this.$emit("subVal",[].concat(e))}}}},created(){this.getData()},methods:{getData(){this.url?this.$fetch.get(this.url).then((e=>{let t=null;e&&e.data&&e.data.records?t=e.data.records:e&&e.data?t=e.data:e&&(t=e),t?("Function"===H(this.optionFilter)&&(t=this.optionFilter(t)),this.data=this.dataFilter(t)):console.warn("级联数据错误，不能使用")})).catch((()=>{console.warn("拉取级联数据出错")})):console.error("没有用于拉取级联数据的有效接口地址")},dataFilter(e){let t=[];for(let i of e){let e={value:i[this.optionVal],label:i[this.optionLabel]};i.children&&!p().isEmpty(i.children)&&(e.children=this.dataFilter(i.children)),t.push(e)}return t},format(e,t){return this.onlyLastLabel?p().last(e):e.join(this.separator)},onChange(e,t){let i=null;p().isEmpty(t)||(i=t.map((e=>e.label)).join(this.separator)),this.$emit("on-label-change",i)}}},ii=ti,ai=s(ii,Zt,ei,!1,null,null,null),li=ai.exports,ri=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:e.editorId}})},oi=[],si=g(598),ni=g.n(si),di=g(942),hi=g.n(di);const{$:ci,BtnMenu:ui}=ni();var pi={name:"Editor",mixins:[Qe],model:{prop:"value",event:"input"},props:{value:{type:String,default:""},valueType:{type:String,validator:e=>ne(e,["html","text"]),default:"html"},focus:{type:Boolean,default:!0},changeInterval:{type:Number,default:800},colors:{type:Array,default(){return["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"]}},fontNames:{type:Array,default(){return["黑体","仿宋","楷体","标楷体","华文仿宋","华文楷体","宋体","微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}},uploadImgMaxSize:{type:Number,default:104857.6},uploadImgMaxLength:{type:Number,default:10},uploadImgShowBase64:{type:Boolean,default:!0},uploadImgServe:{type:Object},showLinkImg:{type:Boolean,default:!0},placeholder:{type:String,default:"请输入正文"},previewClass:{type:String,default:"r-editor-view"},disabled:{type:Boolean,default:!1}},data(){return{editor:null,valueT:""}},computed:{editorId(){return`editor${this._uid}`}},created(){let e=p().cloneDeep(hi().whiteList);for(let t in e)e.hasOwnProperty(t)&&"Array"===H(e[t])&&e[t].unshift("style");this.xssP=new(hi().FilterXSS)({whiteList:e})},mounted(){this.editor=new(ni())(`#${this.editorId}`);const e=this.t("r.preview"),t=this.previewHandler;class i extends ui{constructor(t){const i=ci(`<div class="w-e-menu" title="${e}"><i class="ivu-icon ivu-icon-ios-eye" style="font-size: 22px;"></i></div>`);super(i,t)}clickHandler(){t()}tryChangeActive(){}}if(this.editor.menus.extend("viewMenuKey",i),this.editor.config.placeholder=this.placeholder,this.editor.config.zIndex=100,this.editor.config.menus=["head","bold","fontSize","fontName","italic","underline","indent","lineHeight","foreColor","backColor","link","list","justify","quote","emoticon","image","table","splitLine","undo","redo","viewMenuKey"],this.editor.config.focus=this.focus,this.editor.config.colors=this.colors,this.editor.config.fontNames=this.fontNames,this.editor.config.uploadImgMaxSize=this.uploadImgMaxSize,this.editor.config.uploadImgMaxLength=this.uploadImgMaxLength,this.editor.config.showLinkImg=this.showLinkImg,this.editor.config.menuTooltipPosition="down","Object"===H(this.uploadImgServe)||!1===this.uploadImgShowBase64){let e;this.editor.config.uploadImgShowBase64=!1,e="Object"===H(this.uploadImgServe)?p().cloneDeep(this.uploadImgServe):{},"Function"===H(e.customUploadImg)?this.editor.config.customUploadImg=e.customUploadImg:this.editor.config.customUploadImg=(t,i)=>{e=Object.assign({params:{},url:window&&window.g&&window.g.mgrURL+"/web/v1/fsc/file"||""},e);let a=Object.assign({appId:0,moduleId:0,typeId:0},e.params),l=new FormData;for(let e in a)a.hasOwnProperty(e)&&null!==a[e]&&l.append(e,a[e]);for(let e of t)l.append("files",e);Ge.post(e.url,l,null,[],{spain:!0,headers:{"Content-Type":"multipart/form-data"}}).then((t=>{if(t&&t.data&&"Array"===H(t.data))for(let a of t.data)pe(a.id)&&i(`${e.url}/${a.id}/download`);else this.$swal(this.t("r.uploadFail"),t&&t.message||"","error")})).catch((()=>{this.$swal(this.t("r.uploadError"),"","error")}))},this.editor.config.withCredentials=!0}else this.editor.config.uploadImgShowBase64=this.uploadImgShowBase64;this.editor.config.customAlert=e=>{z.apply(this,[this.t("r.uploadFail"),e||"","warning"])},this.editor.config.onchange=e=>{let t=this.editor.txt.text(),i=this.xssP.process(e);this.valueT="html"===this.valueType?i:t,this.value!==this.valueT&&(this.$emit("input","html"===this.valueType?i:t),this.$emit("on-change","html"===this.valueType?i:t))},this.editor.config.onchangeTimeout=this.changeInterval,this.editor.create(),this.value&&this.editor.txt.html(this.xssP.process(this.value)),Ee((()=>{this.$watch((()=>this.disabled),(e=>{e?this.editor.$textElem.attr("contenteditable",!1):this.editor.$textElem.attr("contenteditable",!0)}),{immediate:!0}),this.$watch((()=>this.value),(e=>{e!==this.valueT&&this.setHtml(e)}))}),10)},beforeDestroy(){let e=document.getElementById(this.editorId+"preview");e&&document.getElementsByTagName("body")[0].removeChild(e),this.editor&&(this.editor.destroy(),this.editor=null,this.xssP=null)},methods:{setHtml(e){this.editor.txt.html(this.xssP.process(e))},previewHandler(){const e=this.editorId+"preview";let t=document.getElementById(e),i=localStorage.getItem("editorPreviewW")||300,a=localStorage.getItem("editorPreviewH")||500;if(t){let e=t.children[0].children[1].children[0],l=t.children[0].children[1];e.innerHTML=this.value,e.style.width=i+"px",l.style.height=a+"px",t.style.display="block"}else{const l=document.getElementsByTagName("body");t=document.createElement("div"),t.setAttribute("id",e),t.setAttribute("class","editor-preview-mask"),t.innerHTML=`<div class="editor-preview-body"><div class="editor-preview-head"><div><span>宽</span><input type="number" value="${i}" min="200"><span>高</span><input type="number" value="${a}" min="300"></div><i class="ivu-icon ivu-icon-md-close"></i></div><div class="editor-preview-out-wall"><div class="editor-preview-wall ${this.previewClass}"></div></div></div>`;let r=t.children[0].children[1],o=t.children[0].children[1].children[0],s=t.children[0].children[0].children[0].children[1];const n=40,d=70,h=e=>{if(e&&"keyup"===e.type){let t=!1;if(e.key&&(t="Enter"!==e.key),t)return}let t=e.target.value;if(t=Number(t),o.style&&o.style.width===t+"px")return;const i=l[0].clientWidth;t<250?(t=250,e.target.value=250):t>i-n&&(t=i-n,e.target.value=i-n),o.style.width=t+"px",localStorage.setItem("editorPreviewW",t)};s.addEventListener("blur",h),s.addEventListener("keyup",h);let c=t.children[0].children[0].children[0].children[3];const u=e=>{if(e&&"keyup"===e.type){let t=!1;if(e.key&&(t="Enter"!==e.key),t)return}let t=e.target.value;if(t=Number(t),r.style&&r.style.height===t+"px")return;const i=l[0].clientHeight;t<300?(t=300,e.target.value=300):t>i-d&&(t=i-d,e.target.value=i-d),r.style.height=t+"px",localStorage.setItem("editorPreviewH",t)};c.addEventListener("blur",u),c.addEventListener("keyup",u);let p=t.children[0].children[0].children[1];p.addEventListener("click",(e=>{t.style.display="none"})),o.innerHTML=this.value,o.style.width=i+"px",r.style.height=a+"px",l[0].append(t)}}}},fi=pi,mi=s(fi,ri,oi,!1,null,null,null),yi=mi.exports,gi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"editor-pro-root"},[t("Toolbar",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"editor-pro-toolbar",attrs:{editor:e.editor,defaultConfig:e.toolbarConfigT,mode:e.mode}}),t("Editor",{staticClass:"editor-pro-editor",style:e.editorTextareaStyle,attrs:{defaultConfig:e.editorConfigT,mode:e.mode},on:{onCreated:e.onCreated},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}})],1)},bi=[],vi=g(90),wi={name:"editorPro",mixins:[Qe],model:{prop:"value",event:"input"},props:{value:{type:String,default:""},toolbarConfig:{type:Object,default(){return{}}},editorConfig:{type:Object,default(){return{}}},mode:{type:String,validator:e=>ne(e,["default","simple"]),default:"default"},height:{type:String|Number,default:300},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},components:{Editor:vi.Editor,Toolbar:vi.Toolbar},data(){return{editor:null}},computed:{valueT:{get(){return this.value},set(e){this.$emit("input",e)}},toolbarConfigT(){return Object.assign({placeholder:this.placeholder||this.t("r.pInput"),insertKeys:{index:31,keys:["previewX"]}},this.toolbarConfig)},editorConfigT(){return Object.assign({readOnly:this.disabled},this.editorConfig)},editorTextareaStyle(){return{height:"string"===typeof this.height?this.height:this.height+"px"}}},beforeDestroy(){this.editor&&(this.editor.destroy(),this.editor=null)},watch:{disabled:{handler(e){e?this.editor.disable():this.editor.enable()}}},methods:{onCreated(e){this.editor=Object.seal(e)}}},ki=wi,xi=s(ki,gi,bi,!1,null,null,null),Si=xi.exports,Ci=function(){var e=this,t=e._self._c;return t("ar-cascader",e._g(e._b({ref:"alCascaderRefLK",staticClass:"alCascaderMC",attrs:{level:e.level,disabled:e.disabled,placeholder:e.placeholder||e.t("r.pSelect"),transfer:e.transfer,searchable:e.filterable},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},"ar-cascader",e.$attrs,!1),e.$listeners))},Ti=[],Ki={name:"alCascaderMC",mixins:[Qe],model:{prop:"value",event:"subVal"},props:{value:{type:[String,Number,Array],default(){return null}},level:{type:[Number,String],validator:e=>ne(String(e),["0","1","2"]),default(){return 2}},disabled:{type:Boolean,default(){return!1}},transfer:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default(){return!0}},separator:{type:String,default(){return"/"}},placeholder:{type:String}},computed:{valueT:{get(){if(this.value&&(p().isNumber(this.value)||p().isString(this.value))){let e=String(this.value).trim(),t=/^\d*$/;if(t.test(e)){let t=/000000$/,i=/^5002/,a=e.substr(0,2)+"0000",l=e.substr(0,4)+"00",r=e.substr(0,6);return i.test(e)&&(l="500100"),t.test(e)?[a,l,r]:[a,l,r,e]}return-1!==e.indexOf(this.separator)?e.split(this.separator):[e]}if(p().isArray(this.value))return p().cloneDeep(this.value);{let e=this.$refs.alCascaderRefLK;return e&&(e.select=[]),[]}},set(e){if(p().isEmpty(e))this.$emit("subVal",null),this.$emit("on-name-change",null);else{let t=p().last(e),i=null,a=null;if(t&&(i=t.code),i&&i.length<12&&(i+="000000"),p().isArray(e)&&(a=e.map((e=>e.name)).join(this.separator)),i){if(i===this.value)return;this.$emit("subVal",i)}a&&this.$emit("on-name-change",a)}}}}},Bi=Ki,Li=s(Bi,Ci,Ti,!1,null,null,null),Ii=Li.exports,$i=function(){var e=this,t=e._self._c;return e.initTree?t("Tree",{staticClass:"checkboxTreeGA",attrs:{id:e.id,data:e.dataT,render:e.renderContent,"show-checkbox":""},on:{"on-check-change":e.updateVal,"on-toggle-expand":e.changeStyle}}):e._e()},_i=[],Ai={name:"checkboxTree",model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},expandAll:{type:Boolean,default:!1},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},inlineLeaf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{initTree:!0,dataT:[],id:"CKT"+Math.floor(1e7*Math.random()+1e7),valueE:[]}},computed:{collectValT(){return"Array"===H(this.collectVal)?this.collectVal:"String"===H(this.collectVal)?[this.collectVal]:[]},valueT(){return"Array"===H(this.value)?this.value:[]}},watch:{data:{handler(e){this.initTree=!1;let t=[];this.initData(e,t),this.dataT=t,this.$nextTick((function(){this.initTree=!0,this.inlineLeaf&&this.$nextTick(this.changeStyle)}))},immediate:!0,deep:!0},valueT(e){let t,i="s";"Array"===H(this.collectVal)&&this.collectVal[0]?(t=this.collectVal[0],i="a"):t=this.collectVal,t&&JSON.stringify(e)!==JSON.stringify(this.valueE)?(ve({group:this.dataT,condition:e=>!0===e.checked,key:"checked",val:!1}),ve("a"===i?{group:this.dataT,condition:i=>-1!==p().findIndex(e,[t,i[t]]),key:"checked",val:!0}:{group:this.dataT,condition:i=>-1!==e.indexOf(i[t]),key:"checked",val:!0})):this.valueE=[]},disabled:{handler(e){ve({group:this.dataT,condition:t=>t.disableCheckbox!==e,key:"disableCheckbox",val:e}),this.inlineLeaf&&this.$nextTick(this.changeStyle)},immediate:!0}},methods:{initData(e,t=[]){for(let i of e){let e=!1;e=this.collectValT.length>1?void 0!==p().find(this.valueT,(e=>e[p().head(this.collectValT)]===i[p().head(this.collectValT)])):-1!==this.valueT.indexOf(i[p().head(this.collectValT)]);let a={name:i[this.label],expand:Boolean(this.expandAll||i.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)a[t]=i[t];t.push(a),i.children&&i.children.length>0&&(a.children=[],this.initDataB(i.children,a.children))}},initDataB(e,t=[]){for(let i of e){let e=!1;e=this.collectValT.length>1?void 0!==p().find(this.valueT,(e=>e[p().head(this.collectValT)]===i[p().head(this.collectValT)])):-1!==this.valueT.indexOf(i[p().head(this.collectValT)]);let a={name:i[this.label],expand:Boolean(this.expandAll||i.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)a[t]=i[t];t.push(a),i.children&&i.children.length>0&&(a.children=[],this.initData(i.children,a.children))}},renderContent(e,{root:t,node:i,data:a}){let l="",r=!0;if(a.children&&a.children.length>0){for(let e of a.children)if(void 0!==e.children){r=!1;break}r&&this.inlineLeaf&&(l="inlineChildXA")}return e("div",{style:{display:"inline-block",width:"100%"},class:l},[e("span",{style:{fontWeight:a.children?"bold":"normal"}},a.name)])},changeStyle(e){if(e)return void(e.expand&&this.$nextTick(this.changeStyle));let t=document.querySelectorAll("#"+this.id+" .inlineChildXA");if(t.length>0)for(let i of t){let e=i.parentNode,t=e.nextElementSibling;if(!t)return;if("BR"!==t.tagName){let i=e.parentNode,a=document.createElement("br");i.insertBefore(a,t),t=a.nextElementSibling,-1===t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}while(t.nextElementSibling)t=t.nextElementSibling,-1===t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}},updateVal(e){let t=[];if(this.leaf){for(let i of e)if(!i.children)if("Array"===H(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=i[t];t.push(e)}else t.push(i[this.collectVal])}else for(let i of e)if("Array"===H(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=i[t];t.push(e)}else t.push(i[this.collectVal]);this.valueE=t,this.$emit("subVal",t),this.$emit("on-change",p().cloneDeep(t))}}},Oi=Ai,Di=s(Oi,$i,_i,!1,null,null,null),Vi=Di.exports,Ri=function(){var e=this,t=e._self._c;return t("div",{staticClass:"boxLPA"},[t("div",{staticClass:"headerJ"},[t("div",{staticClass:"firstT borderBoxAS"},[e._v(e._s(e.firstTitle||e.t("r.level.1")))]),t("div",{staticClass:"secondT borderBoxAS"},[e._v(e._s(e.secondTitle||e.t("r.level.2")))])]),e._l(e.dataT,(function(i,a){return t("div",{key:"checkboxJ"+a,staticClass:"bodyJ"},[t("div",{staticClass:"firstCol borderBoxAS"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkAll(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"item.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"secondCol borderBoxAS"},e._l(i.children,(function(i,a){return t("div",{key:"secItem"+a,staticClass:"secItem"},[t("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"secItem.checked"}},[e._v(e._s(i[e.label]))])],1)})),0)])}))],2)},Mi=[],Ni={name:"checkboxGroupTwoClass",mixins:[Qe],model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String},secondTitle:{type:String},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=p().cloneDeep(this.data),t=p().cloneDeep(this.leafChecked);for(let i of e){let e=0;if(i.children&&!p().isEmpty(i.children))for(let a of i.children){for(let i=0,l=t.length;i<l;i++)if("Object"===H(t[i])){let l=!0;for(let e of this.collectVal)if(t[i][e]!==a[e]){l=!1;break}if(l){a.checked=!0,e++,t.splice(i,1);break}}else if(t[i]===a[this.collectVal]){a.checked=!0,e++,t.splice(i,1);break}!a.checked&&(a.checked=!1)}0===e?(i.checked=!1,i.indeterminate=!1):i.children&&e===i.children.length?(i.checked=!0,i.indeterminate=!1):(i.checked=!1,i.indeterminate=!0)}return e}},watch:{value:{handler(e,t){p().isEqual(this.leafChecked,e)||p().isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkAll(e,t){if(e.children)for(let i of e.children)i.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let i=[];for(let a of e){if(!t&&!this.leaf&&a.checked&&!1===a.indeterminate)if("Array"===H(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];i.push(e)}else"String"===H(this.collectVal)&&i.push(a[this.collectVal]);if(a.children)for(let e of a.children)if(e.checked)if("Array"===H(this.collectVal)){let t={};for(let i of this.collectVal)t[i]=e[i];i.push(t)}else"String"===H(this.collectVal)&&i.push(e[this.collectVal])}t?(this.leafChecked=i,this.leaf?(this.$emit("subVal",i),this.$emit("on-change",p().cloneDeep(i))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",i),this.$emit("on-change",p().cloneDeep(i)))}}},Gi=Ni,Fi=s(Gi,Ri,Mi,!1,null,null,null),Pi=Fi.exports,Xi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"boxLPB"},[t("div",{staticClass:"headerF"},[t("div",{staticClass:"firstT borderBoxKa"},[e._v(e._s(e.firstTitle||e.t("r.level.1")))]),t("div",{staticClass:"secondT borderBoxKa"},[e._v(e._s(e.secondTitle||e.t("r.level.2")))]),t("div",{staticClass:"thirdT borderBoxKa"},[e._v(e._s(e.thirdTitle||e.t("r.level.3")))])]),e._l(e.dataT,(function(i,a){return t("div",{key:"checkboxJ"+a,staticClass:"bodyF"},[t("div",{staticClass:"firstCol borderBoxKa"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkChangeFirst(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"item.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"rightBoxAL"},e._l(i.children,(function(i,a){return t("div",{key:"secItem"+a,staticClass:"rightBoxInner"},[t("div",{staticClass:"secondCol borderBoxKa"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkChangeSecond(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"secItem.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"thirdCol borderBoxKa"},e._l(i.children,(function(i,a){return t("div",{key:"thirdItem"+a,staticClass:"thirdItem"},[t("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"thirdItem.checked"}},[e._v(e._s(i[e.label]))])],1)})),0)])})),0)])}))],2)},Ei=[],zi={name:"checkboxGroupThreeClass",mixins:[Qe],model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String},secondTitle:{type:String},thirdTitle:{type:String},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=p().cloneDeep(this.data),t=p().cloneDeep(this.leafChecked);for(let i of e){let e=0,a=0;if(i.children&&!p().isEmpty(i.children))for(let l of i.children){let i=0;if(l.children&&!p().isEmpty(l.children))for(let e of l.children){for(let a=0,l=t.length;a<l;a++)if("Object"===H(t[a])){let l=!0;for(let i of this.collectVal)if(t[a][i]!==e[i]){l=!1;break}if(l){e.checked=!0,i++,t.splice(a,1);break}}else if(t[a]===e[this.collectVal]){e.checked=!0,i++,t.splice(a,1);break}!e.checked&&(e.checked=!1)}0===i?(l.checked=!1,l.indeterminate=!1):l.children&&i===l.children.length?(l.checked=!0,l.indeterminate=!1,e++):(l.checked=!1,l.indeterminate=!0,a++)}0===e&&0===a?(i.checked=!1,i.indeterminate=!1):i.children&&e===i.children.length?(i.checked=!0,i.indeterminate=!1):(i.checked=!1,i.indeterminate=!0)}return e}},watch:{value:{handler(e,t){p().isEqual(this.leafChecked,e)||p().isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkChangeFirst(e,t){if(e.children)for(let i of e.children)if(i.checked=t,i.children)for(let e of i.children)e.checked=t;this.updateDataT()},checkChangeSecond(e,t){if(e.children)for(let i of e.children)i.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let i=[];for(let a of e){if(!t&&!this.leaf&&a.checked&&!1===a.indeterminate)if("Array"===H(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];i.push(e)}else"String"===H(this.collectVal)&&i.push(a[this.collectVal]);if(a.children)for(let e of a.children){if(!t&&!this.leaf&&e.checked&&!1===e.indeterminate)if("Array"===H(this.collectVal)){let t={};for(let i of this.collectVal)t[i]=e[i];i.push(t)}else"String"===H(this.collectVal)&&i.push(e[this.collectVal]);if(e.children)for(let t of e.children)if(t.checked)if("Array"===H(this.collectVal)){let e={};for(let i of this.collectVal)e[i]=t[i];i.push(e)}else"String"===H(this.collectVal)&&i.push(t[this.collectVal])}}t?(this.leafChecked=i,this.leaf?(this.$emit("subVal",i),this.$emit("on-change",p().cloneDeep(i))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",i),this.$emit("on-change",p().cloneDeep(i)))}}},Hi=zi,ji=s(Hi,Xi,Ei,!1,null,null,null),Wi=ji.exports,Ui=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],staticClass:"fullScreenPopBoxAM"},[t("div",{staticClass:"headerAM",style:{color:e.headerColor,backgroundColor:e.headerBg,fontSize:e.hFontSize}},[t("span",{staticClass:"headerTxtAM"},[e._v(e._s(e.title||e.t("r.title")))]),t("header-bt",{attrs:{icon:"md-return-left"},on:{click:e.close}},[e._v(e._s(e.t("r.back")))])],1),t("div",{staticClass:"contentAM"},[e._t("default")],2)])},qi=[],Ji=function(){var e=this,t=e._self._c;return t("div",{class:{headerBtCTM:!0,withIconCTM:e.icon||e.withIcon,disabled:e.disabled},style:{color:e.color,borderLeftColor:e.borderColor},on:{click:e.click}},[e.icon?t("Icon",{attrs:{size:e.iconSize,type:e.icon}}):e._e(),e._t("default")],2)},Yi=[],Qi={name:"headerBt",props:{icon:{type:String},withIcon:{type:Boolean,default:!1},iconSize:{type:[Number,String],default:18},color:{type:String,default:"inherit"},borderColor:{type:String,default:"#fff"},disabled:{type:Boolean,default:!1}},methods:{click(e){this.disabled||this.$emit("click",e)}}},Zi=Qi,ea=s(Zi,Ji,Yi,!1,null,null,null),ta=ea.exports,ia={name:"fullScreenPop",mixins:[Qe],components:{headerBt:ta},props:{title:{type:String},headerColor:{type:String},headerBg:{type:String},headerFontSize:{type:[String,Number],default:12}},data(){return{showPop:!1}},computed:{hFontSize(){return"Number"===H(this.headerFontSize)?this.headerFontSize+"px":this.headerFontSize}},methods:{open(){this.showPop=!0,this.$emit("on-open")},close(e){this.showPop=!1,this.$emit("on-close",!0===e)}}},aa=ia,la=s(aa,Ui,qi,!1,null,null,null),ra=la.exports,oa=function(){var e=this,t=e._self._c;return t("Form",{key:e.formReRenderKey,ref:"formGroupXRef",staticClass:"formXN",attrs:{model:e.valGroup,rules:e.formRulesT,"label-width":e.labelWidth,inline:e.inline,"show-message":e.showMessage}},[t("FormItem",{staticStyle:{display:"none"}},[t("input",{attrs:{type:"text"}})]),e._l(e.formDataT,(function(i,a){return e.getFormItemIfVal(i)?t("FormItem",{key:"formItem"+a,staticClass:"relativeBox",class:{withInfo:Boolean(i.info),withTitle:Boolean(i.title),inlineFormItemXN:e.inline,noLabel:"selectInput"===i.type,[i.class]:i.class},style:e.formStyle,attrs:{label:"radio"!==i.type&&"checkbox"!==i.type?i.label:" ",prop:i.key||""}},["txt"===i.type?t("span",{class:{likeInputX:i.likeInput}},[e._v(e._s(i.valKey?e.valGroup[i.valKey]||"无":i.val))]):"inputNumber"===i.type?t("InputNumber",{style:e.itemStyle,attrs:{max:i.max||0===i.max?i.max:1/0,min:i.min||0===i.min?i.min:-1/0,precision:i.precision,step:i.step||1,placeholder:i.placeholder||e.t("r.pInput"),disabled:Boolean(i.disabled)||e.disabled,readonly:Boolean(i.readonly),editable:!1!==i.editable,"active-change":Boolean(i.activeChange),clearable:!1!==i.clearable},on:{"on-blur":function(t){return e.itemChange(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"input"===i.type?t("Input",{style:e.itemStyle,attrs:{maxlength:i.maxLength||null,placeholder:i.placeholder||e.t("r.pInput"),disabled:Boolean(i.disabled)||e.disabled,clearable:!1!==i.clearable},on:{"on-blur":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"select"===i.type?t("Select",{style:e.itemStyle,attrs:{filterable:(!0===i.filterable||!1===i.filterable)&&i.filterable,disabled:Boolean(i.disabled)||e.disabled,multiple:Boolean(i.multiple),placeholder:i.placeholder||e.t("r.pSelect"),transfer:"",clearable:!1!==i.clearable},on:{"on-clear":function(t){return e.clearTempKeyItem(t,i.tempKey)},"on-change":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}},e._l(i.options,(function(e,a){return t("Option",{key:"option-"+i.key+a,attrs:{value:e.val,label:e.label||e.val,disabled:!!e.disabled}})})),1):"selectInput"===i.type?t("select-input",{attrs:{"label-width":e.labelWidth,"item-width":e.itemWidth,"select-option":i.options||[],placeholder:i.placeholder||e.t("r.pInput"),clearable:!1!==i.clearable,disabled:Boolean(i.disabled)||e.disabled},on:{"on-change":e.onSelectInputChange},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"alCascader"===i.type?t("al-cascader-m-c",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{level:i.level||0===i.level?i.level:2,disabled:Boolean(i.disabled)||e.disabled,filterable:!1!==i.filterable,placeholder:i.placeholder||e.t("r.pSelect"),"change-on-select":Boolean(i.changeOnSelect)},on:{"on-name-change":function(t){return e.alNameChange(t,i)}},model:{value:e.valGroup[i.key],callback:function(t){e.$set(e.valGroup,i.key,t)},expression:"valGroup[item.key]"}}):"asyncCascader"===i.type?t("async-cascader",{style:e.itemStyle,attrs:{url:i.url||e.mgrUrl+"/web/v1/umc/orgs","option-val":i.optionVal||"id","option-label":i.optionLabel||"name","option-filter":i.optionFilter||null,"only-last-val":!1!==i.onlyLastVal,"only-last-label":!1!==i.onlyLastLabel,separator:i.separator||"/",placeholder:i.placeholder||e.t("r.pSelect"),filterable:Boolean(i.filterable),disabled:Boolean(i.disabled)||e.disabled},on:{"on-label-change":function(t){return e.asyncLabelChange(t,i)}},model:{value:e.valGroup[i.key],callback:function(t){e.$set(e.valGroup,i.key,t)},expression:"valGroup[item.key]"}}):"radio"===i.type?t("Radio",{attrs:{disabled:Boolean(i.disabled)||e.disabled},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.valGroup[i.key],callback:function(t){e.$set(e.valGroup,i.key,t)},expression:"valGroup[item.key]"}},[e._v(e._s(i.label))]):"radioGroup"===i.type?t("RadioGroup",{style:e.itemStyle,attrs:{type:i.buttonType?"button":null},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}},e._l(i.options,(function(a){return t("Radio",{key:"radioItem"+a.val,attrs:{label:a.val,border:Boolean(i.itemBorder),disabled:Boolean(i.disabled)||e.disabled||a.disabled}},[a.icon&&!i.buttonType?t("Icon",{attrs:{type:a.icon}}):e._e(),t("span",[e._v(e._s(a.label||a.val))])],1)})),1):"checkbox"===i.type?t("Checkbox",{attrs:{disabled:!!i.disabled},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.valGroup[i.key],callback:function(t){e.$set(e.valGroup,i.key,t)},expression:"valGroup[item.key]"}},[e._v(e._s(i.label))]):"checkboxGroup"===i.type?t("CheckboxGroup",{style:e.itemStyle,on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}},e._l(i.options,(function(a){return t("Checkbox",{key:"checkItem"+a.val,attrs:{label:a.val,disabled:Boolean(i.disabled)||e.disabled||a.disabled}},[a.icon?t("Icon",{attrs:{type:a.icon}}):e._e(),t("span",[e._v(e._s(a.label||a.val))])],1)})),1):"textarea"===i.type?t("Input",{style:e.itemStyle,attrs:{type:"textarea",autosize:{minRows:2},maxlength:i.maxLength||null,placeholder:i.placeholder||e.t("r.pInput"),disabled:Boolean(i.disabled)||e.disabled,clearable:!1!==i.clearable},on:{"on-blur":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"upload"===i.type?t("upload-group",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{url:i.url||e.uploadUrl,"manual-upload":Boolean(i.manualUpload),format:i.format||[],data:i.data,"max-size":i.maxSize||0,"show-img":Boolean(i.showImg),length:i.length||0,disabled:Boolean(i.disabled)||e.disabled,withCredentials:!1!==i.withCredentials},on:{"on-file-id-change":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.valGroup[i.key],callback:function(t){e.$set(e.valGroup,i.key,t)},expression:"valGroup[item.key]"}}):"date"===i.type?t("DatePicker",{style:e.itemStyle,attrs:{type:i.dateType,disabled:Boolean(i.disabled)||e.disabled,placement:"bottom-end",placeholder:i.placeholder||e.t("r.selectDate"),options:i.dateOptions||null,clearable:!1!==i.clearable,editable:!1,transfer:""},on:{"on-change":function(t){return e.itemChange(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"time"===i.type?t("TimePicker",{style:e.itemStyle,attrs:{type:i.dateType,disabled:Boolean(i.disabled)||e.disabled,placement:"bottom-end",placeholder:i.placeholder||e.t("r.selectTime"),steps:i.steps||[],clearable:!1!==i.clearable,editable:!1,format:i.format||"HH:mm:ss",transfer:""},on:{"on-change":function(t){return e.itemChange(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"editor"===i.type?t("editor",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{placeholder:i.placeholder||e.t("r.pInput"),disabled:Boolean(i.disabled)||e.disabled,uploadImgMaxSize:i.uploadImgMaxSize||102400,uploadImgMaxLength:i.uploadImgMaxLength||10,uploadImgShowBase64:!1!==i.uploadImgShowBase64,showLinkImg:!1!==i.showLinkImg,uploadImgServe:i.uploadImgServe,previewClass:i.previewClass||"r-editor-view"},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.valGroup[i.key],callback:function(t){e.$set(e.valGroup,i.key,t)},expression:"valGroup[item.key]"}}):"editorPro"===i.type?t("editor-pro",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{placeholder:i.placeholder||e.t("r.pInput"),disabled:Boolean(i.disabled)||e.disabled,toolbarConfig:i.toolbarConfig||{},editorConfig:i.editorConfig||{},mode:i.mode||"simple",height:i.height||300},on:{input:function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.valGroup[i.key],callback:function(t){e.$set(e.valGroup,i.key,t)},expression:"valGroup[item.key]"}}):"inputMap"===i.type?t("input-map",{style:e.itemStyle,attrs:{placeholder:i.placeholder||e.t("r.search"),disabled:Boolean(i.disabled)||e.disabled,"show-map":!1!==i.showMap,height:i.mapHeight||"250px"},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,i)}},model:{value:e.tempKeys[i.tempKey],callback:function(t){e.$set(e.tempKeys,i.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"custom"===i.type?t("div",{staticClass:"inlineBlock",style:e.itemStyle},[e._t(i.slotName,null,{valGroup:e.valGroup})],2):e._e(),Boolean(i.info)?t("div",{staticClass:"formInfoTxtXN"},[e._v(e._s(i.info))]):e._e(),Boolean(i.title)?t("div",{staticClass:"formTitleTxtXN"},[e._v(e._s(i.title))]):e._e()],1):e._e()})),e.showLongOkBt?t("FormItem",[t("Button",{style:e.itemStyle,attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.longOkBtTxt||e.t("r.confirm")))])],1):e._e(),t("div",{staticClass:"inlineBlock"},[e.showInlineOkBt?t("Button",{class:{inlineFormBtXN:e.inline,okBtnXN:!0},attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.inlineOkBtTxt||e.t("r.confirm")))]):e._e(),e.showInlineClearBt?t("Button",{class:{inlineFormBtXN:e.inline},attrs:{type:"dashed"},on:{click:e.resetForm}},[e._v(e._s(e.inlineClearBtTxt||e.t("r.clear")))]):e._e()],1)],2)},sa=[],na=g(649),da=g.n(na),ha={name:"formR",mixins:[Qe],components:{selectInput:Qt,alCascaderMC:Ii,asyncCascader:li,uploadGroup:mt,editor:yi,editorPro:Si,inputMap:Lt},props:{formData:{type:Array,default(){return[]}},formRules:{type:Object,default(){return{}}},showMessage:{type:Boolean,default:!0},labelWidth:{type:Number,default:160},contentWidth:{type:String,default:"70%"},itemWidth:{type:Number,default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{type:String},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{type:String},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{type:String},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0}},data(){return{valGroup:{},formDataT:[],tempKeys:{},unwatchGroup:[],mgrUrl:window.g&&window.g.mgrURL||null,selectInputKeys:[],hiddenKeys:[],showLoading:!1,formReRenderKey:Math.floor(1e8*Math.random()+1e3),uploadUrl:window.g&&window.g.mgrURL&&window.g.mgrURL+"/web/v1/fsc/file"||"/file",debounceCount:!1}},computed:{formStyle(){return this.inline?{width:this.itemWidth+this.labelWidth+"px"}:{}},itemStyle(){return this.inline?{width:"100%"}:{width:this.contentWidth}},formRulesT(){let e=p().cloneDeep(this.formRules);for(let t in e)if(e.hasOwnProperty(t))if("Array"===H(e[t]))for(let i of e[t])i.message||i.validator||(i.message=this.t("r.required"));else"Object"===H(e[t])&&(e[t].message&&!e[t].validator||(e[t].message=this.t("r.required")));return e},showingKeys(){let e=[];for(let t of this.formDataT)if(!0===t.showing&&t.key&&"selectInput"!==t.type&&(e.push(t.key),t.key2&&e.push(t.key2),t.collectLabel))if(p().isPlainObject(t.collectLabel)&&t.collectLabel.key)e.push(t.collectLabel.key);else if(p().isArray(t.collectLabel))for(let i of t.collectLabel)i.key&&e.push(i.key);return e.push(...this.selectInputKeys,...this.hiddenKeys),e}},created(){this.initValGroup(),this.initFormDataT()},methods:{resetForm(){return new Promise((e=>{this.clearForm(),this.refreshFormDom().then((()=>{this.$emit("on-reset"),e()}))}))},reRenderForm(){return new Promise((e=>{for(let t of this.unwatchGroup)t();this.tempKeys={},this.initValGroup(),this.initFormDataT(),this.refreshFormDom().then((()=>{this.$emit("on-re-render"),e()}))}))},refreshFormDom(){return new Promise((e=>{this.formReRenderKey=Math.floor(1e8*Math.random()+1e3),this.$nextTick((function(){e()}))}))},clearForm(){let e=this.getDefaultValues();for(let t in this.valGroup)if(this.valGroup.hasOwnProperty(t))if(pe(e[t]))this.$set(this.valGroup,t,e[t]);else if("Array"===H(this.valGroup[t]))this.$set(this.valGroup,t,[]);else if("Boolean"===H(this.valGroup[t]))this.$set(this.valGroup,t,!1);else{const e=p().find(this.formData,["key",t]);!e||"editor"!==e.type&&"editorPro"!==e.type?this.$set(this.valGroup,t,null):this.$set(this.valGroup,t,"")}this.clearTempKeys(e)},clearTempKeys(e){for(let t in this.tempKeys)this.tempKeys.hasOwnProperty(t)&&(pe(e[t])?this.$set(this.tempKeys,t,e[t]):"Array"===H(this.tempKeys[t])?this.$set(this.tempKeys,t,[]):"Object"===H(this.tempKeys[t])&&this.tempKeys[t].hasOwnProperty("key")&&this.tempKeys[t].hasOwnProperty("val")?this.$set(this.tempKeys[t],"val",null):this.$set(this.tempKeys,t,null))},clearTempKeyItem(e){let t=this.getDefaultValues();pe(t[e])?this.$set(this.tempKeys,e,t[e]):"Array"===H(this.tempKeys)?this.tempKeys[e]=[]:this.tempKeys[e]=null},getDefaultValues(){let e={};for(let t of this.formDataT)t.tempKey&&pe(t.defaultVal)&&(t.booleanVal?e[t.tempKey]=t.defaultVal?1:0:e[t.tempKey]=t.defaultVal),t.key&&pe(t.defaultVal)&&(e[t.key]=t.defaultVal),t.key2&&pe(t.defaultVal2)&&(e[t.key2]=t.defaultVal2);return e},getFormItemIfVal(e){if(e.show){if("Object"===H(e.show))return this.returnIfVal(e,this.dealIfItem(e.show));if("Array"===H(e.show)){if(e.showOr){for(let t of e.show)if(!0===this.dealIfItem(t))return this.returnIfVal(e,!0);return this.returnIfVal(e,!1)}for(let t of e.show)if(!1===this.dealIfItem(t))return this.returnIfVal(e,!1);return this.returnIfVal(e,!0)}if("Function"===H(e.show))return this.returnIfVal(e,e.show(this.valGroup))}else e.showing||this.$set(e,"showing",!0);return!0},dealIfItem(e){if(e.reg&&"function"===typeof e.reg.test)return e.reg.test(this.valGroup[e.key]);if("Array"===H(e.val)){for(let t of e.val){if((this.valGroup[e.key]||0===this.valGroup[e.key]||!1===this.valGroup[e.key])&&"."===t)return!0;if(this.valGroup[e.key]===t)return!0}return!1}return!1},returnIfVal(e,t){return!e.showing&&t&&e.key?(this.$set(e,"showing",t),void 0!==e.defaultVal&&(e.tempKey?(null===this.tempKeys[e.tempKey]||(p().isPlainObject(this.tempKeys[e.tempKey])||p().isArray(this.tempKeys[e.tempKey]))&&p().isEmpty(this.tempKeys[e.tempKey]))&&("input"===e.type||"inputNumber"===e.type||"textarea"===e.type||"select"===e.type||"checkboxGroup"===e.type?this.tempKeys[e.tempKey]=e.defaultVal:"inputMap"===e.type?this.tempKeys[e.tempKey]={lng:e.defaultVal,lat:e.defaultVal2}:"date"!==e.type&&"time"!==e.type||("date"===e.dateType||"datetime"===e.dateType||"time"===e.dateType||"year"===e.dateType||"month"===e.dateType?this.tempKeys[e.tempKey]=e.defaultVal:"daterange"!==e.dateType&&"datetimerange"!==e.dateType&&"timerange"!==e.dateType||(this.tempKeys[e.tempKey]=item.defaultVal&&item.defaultVal2&&[e.defaultVal,e.defaultVal2]||[]))):null===this.valGroup[e.key]&&this.$set(this.valGroup,e.key,e.defaultVal),e.key2&&void 0!==e.deafultVal2&&null===this.valGroup[e.key2]&&"inputMap"!==e.type&&(this.valGroup[e.key2]=e.defaultVal2)),e.tempKey&&this.tempKeysWatchHandle(this.tempKeys[e.tempKey],e)):this.$set(e,"showing",t),t},initFormDataT(){let e=p().cloneDeep(this.formData);for(let t of e)switch(t.type){case"selectInput":const i="selectInput"+Math.floor(1e8*Math.random());t.tempKey=i,this.$set(this.tempKeys,i,{key:t.key||null,val:t.defaultVal||null}),this.unwatchGroup.push(this.$watch((()=>this.tempKeys[i]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0}));break;case"inputMap":const a="inputMap"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=a,this.$set(this.tempKeys,a,void 0!==t.defaultVal&&void 0!==t.defaultVal2?{lng:t.defaultVal,lat:t.defaultVal2}:{lng:null,lat:null}),this.unwatchGroup.push(this.$watch((()=>this.tempKeys[a]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const l="inputT"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=l,this.$set(this.tempKeys,l,void 0!==t.defaultVal?t.defaultVal:null),this.unwatchGroup.push(this.$watch((()=>this.tempKeys[l]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(t.options||(t.options=[]),t.asyncOption)if(t.changeOption)if(p().isPlainObject(t.changeOption))t.changeOption.valKey&&t.changeOption.key&&this.unwatchGroup.push(this.$watch((()=>this.valGroup[t.changeOption.valKey]),(e=>{let i=p().cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,(e||0===e||!1===e)&&t.optionUrl){let a=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((a+"&"+t.changeOption.key+"="+e).replace(/\?&/,"?"),t,i)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),pe(i)&&this.recoverVal(i,t)}),{immediate:!0}));else if(p().isArray(t.changeOption)){let e=!0;for(let i of t.changeOption)if(!i.valKey||!i.key){e=!1;break}e?this.unwatchGroup.push(this.$watch((()=>{let e="";for(let i of t.changeOption){let t=this.valGroup[i.valKey];if(t||0===t||!1===t)e+="&"+i.key+"="+t;else if(!i.notRequired)return!1}return e}),(e=>{let i=p().cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,e&&t.optionUrl){let a=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((a+e).replace(/\?&/,"?"),t,i)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),pe(i)&&this.recoverVal(i,t)}),{immediate:!0})):(t.options=[],t.localOption&&(t.options=[...t.localOption]))}else p().isBoolean(t.changeOption)&&this.unwatchGroup.push(this.$watch((()=>this.formData[p().indexOf(e,t)].optionUrl),(e=>{let i=p().cloneDeep(this.tempKeys[t.tempKey]);this.tempKeys[t.tempKey]=null,e?this.initOption(e,t,i):(t.options=[],t.localOption&&(t.options=[...t.localOption]),pe(i)&&this.recoverVal(i,t))}),{immediate:!0}));else this.initOption(t.optionUrl,t);else"String"===H(t.borrowOption)&&(t.options=p().find(e,{key:t.borrowOption}).options);const r="opEle"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=r,"select"===t.type&&t.multiple||"checkboxGroup"===t.type?this.$set(this.tempKeys,r,void 0!==t.defaultVal?t.defaultVal:[]):t.booleanVal?this.$set(this.tempKeys,r,void 0!==t.defaultVal?Boolean(t.defaultVal)?1:0:null):this.$set(this.tempKeys,r,void 0!==t.defaultVal?t.defaultVal:null),this.unwatchGroup.push(this.$watch((()=>this.tempKeys[r]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"date":case"time":const o="date"+Math.floor(1e8*Math.random());t.tempKey=o,"date"===t.dateType||"datetime"===t.dateType||"time"===t.dateType||"year"===t.dateType||"month"===t.dateType?this.$set(this.tempKeys,o,t.defaultVal||null):"daterange"!==t.dateType&&"datetimerange"!==t.dateType&&"timerange"!==t.dateType||this.$set(this.tempKeys,o,t.defaultVal&&t.defaultVal2&&[t.defaultVal,t.defaultVal2]||[]),this.unwatchGroup.push(this.$watch((()=>this.tempKeys[o]),(e=>{this.tempKeysWatchHandle(e,t)})));break}this.formDataT=e},initOption(e,t,i){Ge.get(e).then((e=>{let a=e&&e.data&&e.data.records||e&&e.data||e||[];if("Array"===H(a))if("Function"===H(t.optionFilter)&&(a=t.optionFilter(a)),t.optionLabel&&t.optionVal){let e=H(t.optionLabel);t.options.length=0,t.options.push(...a.map((i=>{let a={};if("Array"===e){let e="";t.optionLabel.forEach(((t,a)=>{let l=String(i[t]);e+=1===a?"（"+l:a>1?"、"+l:l})),a={label:e+"）",val:i[t.optionVal]}}else a={label:i[t.optionLabel],val:i[t.optionVal]};if(t.collectLabel)if(p().isPlainObject(t.collectLabel))t.collectLabel.valKey&&"label"!==t.collectLabel.valKey&&(a[t.collectLabel.valKey]=i[t.collectLabel.valKey]);else if(p().isArray(t.collectLabel))for(let e of t.collectLabel)e.valKey&&"label"!==e.valKey&&(a[e.valKey]=i[e.valKey]);if(null!==a.val&&void 0!==a.val)return a})))}else t.options.length=0,t.options.push(...a);else t.options.length=0;t.localOption&&t.options.unshift(...t.localOption),pe(i)&&this.recoverVal(i,t),t.disableOptionByOthers&&(p().isString(t.disableOptionByOthers)?this.unwatchGroup.push(this.$watch((()=>this.valGroup[t.disableOptionByOthers]),(e=>{this.clearTempKeyItem(t.tempKey);for(let i of t.options)i.disabled&&this.$set(i,"disabled",!1);if(e||0===e||!1===e)for(let i of t.options)i.val===e&&this.$set(i,"disabled",!0)}),{immediate:!0})):p().isArray(t.disableOptionByOthers)&&this.unwatchGroup.push(this.$watch((()=>{let e=[];for(let i of t.disableOptionByOthers)i&&e.push(this.valGroup[i]);return e}),(e=>{this.clearTempKeyItem(t.tempKey);for(let i of t.options)i.disabled&&this.$set(i,"disabled",!1);if(e)for(let i of t.options)for(let t=0;t<e.length;t++)if(i.val===e[t]){this.$set(i,"disabled",!0),e.splice(t,1);break}}),{immediate:!0})))}))},recoverVal(e,t){p().isArray(t.options)&&-1!==p().findIndex(t.options,{val:e})&&(this.tempKeys[t.tempKey]=e)},initValGroup(){this.valGroup={};for(let e of this.formData)e.key&&("checkboxGroup"===e.type||"select"===e.type&&e.multiple?this.$set(this.valGroup,e.key,void 0!==e.defaultVal&&void 0===e.show?e.defaultVal:[]):"editor"===e.type||"editorPro"===e.type?this.$set(this.valGroup,e.key,void 0!==e.defaultVal&&void 0===e.show?e.defaultVal:""):(this.$set(this.valGroup,e.key,void 0!==e.defaultVal&&void 0===e.show?e.defaultVal:null),e.key2&&this.$set(this.valGroup,e.key2,void 0!==e.defaultVal2&&void 0===e.show?e.defaultVal2:null)))},tempKeysWatchHandle(e,t){if(t.showing)switch(t.type){case"selectInput":e&&(e.beforeKey&&delete this.valGroup[e.beforeKey],this.valGroup[e.key]=e.val);break;case"inputMap":e?(this.valGroup[t.key]=e.lng,this.valGroup[t.key2]=e.lat):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null);break;case"input":case"inputNumber":case"textarea":if(e||0===e){let i=/^-?\d+(.\d+)?$/;t.numberVal&&i.test(e)?this.valGroup[t.key]=Number(e):this.valGroup[t.key]=e}else this.valGroup[t.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(t.booleanVal&&!t.multiple?this.valGroup[t.key]=void 0===e||""===e||null===e?null:Boolean(e):t.multiple||"checkboxGroup"===t.type?this.valGroup[t.key]=Object.assign([],e):this.valGroup[t.key]=e,t.collectLabel){const i=this.findOptions(t,e);if(p().isPlainObject(t.collectLabel)){if(t.collectLabel.key&&t.collectLabel.valKey){p().isArray(i)?this.$set(this.valGroup,t.collectLabel.key,i.map((e=>e[t.collectLabel.valKey]))):this.$set(this.valGroup,t.collectLabel.key,i&&(pe(i[t.collectLabel.valKey])?i[t.collectLabel.valKey]:null));let e=p().find(this.formDataT,{key:t.collectLabel.key});e&&e.tempKey&&(this.tempKeys[e.tempKey]=this.valGroup[t.collectLabel.key])}}else if(p().isArray(t.collectLabel))for(let e of t.collectLabel)if(e.key&&e.valKey){p().isArray(i)?this.$set(this.valGroup,e.key,i.map((t=>t[e.valKey]))):this.$set(this.valGroup,e.key,i&&(pe(i[e.valKey])?i[e.valKey]:null));let t=p().find(this.formDataT,{key:e.key});t&&t.tempKey&&(this.tempKeys[t.tempKey]=this.valGroup[e.key])}}break;case"date":case"time":let i=t.dateType;const a={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"MM"};"date"===i||"datetime"===i||"time"===i||"year"===i||"month"===i?e?(this.valGroup[t.key]="time"===i?e:da()(e).format(t.format||a[i]),"date"===i&&t.addTime&&(this.valGroup[t.key]+=" 00:00:00")):this.valGroup[t.key]=null:"daterange"!==i&&"datetimerange"!==i&&"timerange"!==i||(e&&e[0]&&e[1]?("timerange"===i?(this.valGroup[t.key]=e[0],this.valGroup[t.key2]=e[1]):(this.valGroup[t.key]=da()(e[0]).format(t.format||a[i]),this.valGroup[t.key2]=da()(e[1]).format(t.format||a[i])),"daterange"===i&&t.addTime&&(this.valGroup[t.key]+=" 00:00:00",this.valGroup[t.key2]+=" 23:59:59")):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null));break}},findOptions(e,t){if(e.multiple||"checkboxGroup"===e.type){let i=[];for(let a of e.options)-1!==t.indexOf(a.val)&&i.push(a);return i}if(t||0===t||!1===t)for(let i of e.options)if(i.val===t)return i;return!1},setItemToValGroup(e,t){let i={};for(let a in this.valGroup)this.valGroup.hasOwnProperty(a)&&void 0!==e[a]&&(i[a]=e[a],delete e[a]);this.updateValGroup(i,t);for(let a in e)e.hasOwnProperty(a)&&(this.hiddenKeys.indexOf(a)<0&&this.hiddenKeys.push(a),this.$set(this.valGroup,a,e[a]))},updateValGroup(e,t){this.updateTempKeys(e,t);for(let i in this.valGroup)if(this.valGroup.hasOwnProperty(i)&&void 0!==e[i]&&"--"!==e[i]){if("Array"===H(e[i]))e[i]=e[i].filter((e=>"--"!==e));else if("Object"===H(e[i]))for(let t in e[i])e[i].hasOwnProperty(t)&&"--"===e[i][t]&&(e[i][t]=null);this.valGroup[i]=e[i]}else t||(this.valGroup[i]="Array"===H(this.valGroup[i])?[]:null)},updateTempKeys(e,t){for(let i of this.formDataT)if((t&&(void 0!==e[i.key]||void 0!==e[i.key2])||!t)&&i.tempKey)switch(i.type){case"inputMap":p().isNumber(e[i.key])&&p().isNumber(e[i.key2])?this.tempKeys[i.tempKey]={lng:e[i.key],lat:e[i.key2]}:this.tempKeys[i.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":e[i.key]&&"--"!==e[i.key]||0===e[i.key]?this.tempKeys[i.tempKey]=e[i.key]:this.tempKeys[i.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":e[i.key]&&"--"!==e[i.key]||0===e[i.key]||!1===e[i.key]?i.multiple||"checkboxGroup"===i.type?this.$set(this.tempKeys,i.tempKey,[...e[i.key]]):i.booleanVal?this.$set(this.tempKeys,i.tempKey,Boolean(e[i.key])?1:0):this.$set(this.tempKeys,i.tempKey,e[i.key]):i.multiple||"checkboxGroup"===i.type?this.$set(this.tempKeys,i.tempKey,[]):this.$set(this.tempKeys,i.tempKey,null);break;case"date":case"time":"date"===i.dateType||"datetime"===i.dateType||"year"===i.dateType||"month"===i.dateType||"time"===i.dateType?this.tempKeys[i.tempKey]=e[i.key]&&"--"!==e[i.key]?e[i.key]:null:"daterange"!==i.dateType&&"datetimerange"!==i.dateType&&"timerange"!==i.dateType||(this.tempKeys[i.tempKey]=e[i.key]&&"--"!==e[i.key]&&e[i.key2]&&"--"!==e[i.key2]&&[e[i.key],e[i.key2]]||[]);break}},updateFormDataT(e){if("Array"===H(e))for(let t of e)this.changeDataHandle(t);else"Object"===H(e)&&this.changeDataHandle(e)},changeDataHandle(e){let{index:t,key:i,val:a}=e;if(t||0===t)if(i&&(a||void 0!==a))this.$set(this.formDataT[t],i,a);else for(let l of Object.keys(e))"index"!==l&&this.$set(this.formDataT[t],l,e[l])},reValidate(e){Ee((()=>{this.$refs.formGroupXRef.validateField(e,(()=>{}))}),1)},asyncLabelChange(e,t){t.key2&&this.$set(this.valGroup,t.key2,e),this.itemChange(e,t)},onSelectInputChange(e){e.beforeKey&&p().remove(this.selectInputKeys,(t=>t===e.beforeKey)),e.key&&(-1===this.selectInputKeys.indexOf(e.key)&&this.selectInputKeys.push(e.key),this.itemChange(null,e))},alNameChange(e,t){t.key2&&(this.valGroup[t.key2]=e),this.itemChange(e,t)},reValidateAndChangeHandle(e,t){this.itemChange(e,t),this.$nextTick((function(){this.$refs.formGroupXRef.validateField(t.key)}))},itemChange(e,t){Ee((()=>{let i={event:e};if(t.key&&(i[t.key]=this.valGroup[t.key]),t.key2&&(i[t.key2]=this.valGroup[t.key2]),t.collectLabel&&t.collectLabel.key)i[t.collectLabel.key]=this.valGroup[t.collectLabel.key];else if(p().isArray(t.collectLabel))for(let e of t.collectLabel)i[e.key]=this.valGroup[e.key];this.$emit("on-item-change",i)}),500)},getValGroup(){let e={};for(let t of this.showingKeys)e[t]=this.valGroup[t];return this.trim&&(e=U(e)),e},validate(){this.$refs.formGroupXRef.validate()},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e))},submit(){this.disabled||this.$refs.formGroupXRef.validate((e=>{this.debounceCount||(this.debounceCount=!0,e&&(this.showLoading=!0,this.$emit("on-submit",this.getValGroup())),Ee((()=>{this.debounceCount=!1}),2e3))}))}}},ca=ha,ua=s(ca,oa,sa,!1,null,null,null),pa=ua.exports,fa=function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"formModal",class:{hideFooter:e.hideFooter},attrs:{title:e.title||e.t("r.title"),"mask-closable":!1,"footer-hide":e.hideFooter,width:e.width},on:{"on-visible-change":e.handleVisibleChange},model:{value:e.openModal,callback:function(t){e.openModal=t},expression:"openModal"}},[t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,btnLoading:e.btnLoading},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function({valGroup:i}){return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners)),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{staticClass:"modal-save-btn",attrs:{loading:e.btnLoading&&e.showLoading},on:{click:e.submit}},[e._v(e._s(e.okBtTxt||e.t("r.confirm")))]),e.hideCancelBt?e._e():t("Button",{staticClass:"modal-cancel-btn",on:{click:e.close}},[e._v(e._s(e.cancelBtTxt||e.t("r.cancel")))])],1)],1)},ma=[],ya={name:"formModal",mixins:[Qe],components:{formR:pa},props:{title:{type:String},formData:{type:Array,default(){return[]}},width:{type:[Number,String],default:520},labelWidth:{type:Number,default:140},okBtTxt:{type:String},cancelBtTxt:{type:String},hideCancelBt:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1}},data(){return{openModal:!1,showLoading:!1}},computed:{formDataC(){return this.formData.filter((e=>"custom"===e.type))}},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clearForm(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e),this.$refs.formRRef.changeLoading(this.showLoading))},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(){this.showLoading=!0},submit(){this.hideCancelBt?this.close():this.$refs.formRRef.submit()},open(){this.openModal=!0},close(){this.openModal=!1,Ee((()=>{this.showLoading=!1,this.$refs.formRRef.changeLoading(!1)}),1e3)},handleVisibleChange(e){e?this.$emit("on-open"):this.$emit("on-close")}}},ga=ya,ba=s(ga,fa,ma,!1,null,null,null),va=ba.exports,wa=function(){var e=this,t=e._self._c;return t("Modal",e._g(e._b({staticClass:"formModal",attrs:{title:e.title,width:e.width,"mask-closable":!1},on:{"on-visible-change":e.showHide},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},"Modal",e.$attrs,!1),e.$listeners),[e._t("default"),t("template",{slot:"footer"},[e._t("footer",(function(){return[t("Button",{staticClass:"modal-save-btn",attrs:{loading:e.btnLoading&&e.loading},on:{click:e.handleSub}},[e.btnLoading&&e.loading?t("span",[e._v("Loading...")]):t("span",[e._v(e._s(e.t("r.confirm")))])]),e.hideCancelBt?e._e():t("Button",{staticClass:"modal-cancel-btn",on:{click:e.close}},[e._v(e._s(e.t("r.cancel")))])]}))],2)],2)},ka=[],xa={name:"customModal",mixins:[Qe],props:{title:{type:String,default:"标题"},hideCancelBt:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},width:{type:[Number,String],default:520}},data(){return{isOpen:!1,loading:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1},changeLoading(e){this.loading=Boolean(e)},showHide(e){e||this.$emit("on-close")},handleSub(){this.hideCancelBt?this.close():(this.loading=!0,this.$emit("on-submit"))}}},Sa=xa,Ca=s(Sa,wa,ka,!1,null,null,null),Ta=Ca.exports,Ka=function(){var e=this,t=e._self._c;return t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,"item-width":e.itemWidth,inline:!0,"show-long-ok-bt":!1,"show-inline-ok-bt":e.showInlineOkBt,"inline-ok-bt-txt":e.t("r.check"),"show-inline-clear-bt":e.showInlineClearBt,"show-message":!1},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function({valGroup:i}){return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners))},Ba=[],La={name:"searchForm",mixins:[Qe],components:{formR:pa},props:{formData:{type:Array,default(){return[]}},labelWidth:{type:Number,default:84},itemWidth:{type:Number,default:202},showInlineOkBt:{type:Boolean,default:!0},showInlineClearBt:{type:Boolean,default:!0}},computed:{formDataC(){return this.formData.filter((e=>"custom"===e.type))}},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clear(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){this.$refs.formRRef.changeLoading(void 0!==e&&e)},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(e){this.$emit("on-search",e)},submit(){this.$refs.formRRef.submit()}}},Ia=La,$a=s(Ia,Ka,Ba,!1,null,null,null),_a=$a.exports,Aa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"formGroupBoxVM",style:e.formGroupStyle},[t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,"content-width":e.contentWidth,"item-width":e.itemWidth,btnLoading:e.btnLoading},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function({valGroup:i}){return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners)),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showOkBt||e.showCancelBt,expression:"showOkBt||showCancelBt"}],staticClass:"formFooterVM",style:{marginLeft:e.labelWidth+"px"}},[t("div",{staticClass:"btnBoxKAL",style:{width:e.contentWidth}},[e.showOkBt?t("Button",{staticClass:"form-save-btn",attrs:{loading:e.btnLoading&&e.showLoading},on:{click:e.submit}},[e._v(e._s(e.okBtTxt||e.t("r.confirm")))]):e._e(),e.showCancelBt?t("Button",{staticClass:"form-cancel-btn",on:{click:e.close}},[e._v(e._s(e.cancelBtTxt||e.t("r.cancel")))]):e._e()],1)])],1)},Oa=[],Da={name:"formGroup",mixins:[Qe],components:{formR:pa},props:{formData:{type:Array,default(){return[]}},width:{type:String,default:"100%"},labelWidth:{type:Number,default:160},contentWidth:{type:String,default:"70%"},itemWidth:{type:Number,default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{type:String},cancelBtTxt:{type:String},btnLoading:{type:Boolean,default:!1}},data(){return{formGroupStyle:{width:this.width},showLoading:!1}},computed:{formDataC(){return this.formData.filter((e=>"custom"===e.type))}},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clearForm(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e),this.$refs.formRRef.changeLoading(this.showLoading))},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(){this.showLoading=!0},submit(){this.$refs.formRRef.submit()},close(){this.$emit("on-cancel"),Ee((()=>{this.showLoading=!1,this.$refs.formRRef.changeLoading(!1)}),1e3)}}},Va=Da,Ra=s(Va,Aa,Oa,!1,null,null,null),Ma=Ra.exports,Na=function(){var e=this,t=e._self._c;return t("div",{staticClass:"echart-cont",style:{width:e.widthT,height:e.heightT},attrs:{id:e.name}})},Ga=[],Fa=g(921),Pa=JSON.parse('{"color":["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],"backgroundColor":"rgba(0,0,0,0)","textStyle":{},"title":{"textStyle":{"color":"#333333"},"subtextStyle":{"color":"#666666"}},"line":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"radar":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"bar":{"itemStyle":{"normal":{"barBorderWidth":0,"barBorderColor":"#ccc"},"emphasis":{"barBorderWidth":0,"barBorderColor":"#ccc"}}},"pie":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"scatter":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"boxplot":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"parallel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"sankey":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"funnel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"gauge":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"candlestick":{"itemStyle":{"normal":{"color":"#edafda","color0":"transparent","borderColor":"#d680bc","borderColor0":"#8fd3e8","borderWidth":"2"}}},"graph":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"}},"lineStyle":{"normal":{"width":1,"color":"#aaa"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true,"color":["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],"label":{"normal":{"textStyle":{"color":"#eeeeee"}}}},"map":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"geo":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"categoryAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"valueAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"logAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"timeAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"toolbox":{"iconStyle":{"normal":{"borderColor":"#999"},"emphasis":{"borderColor":"#666"}}},"legend":{"textStyle":{"color":"#333333"}},"tooltip":{"axisPointer":{"lineStyle":{"color":"#cccccc","width":1},"crossStyle":{"color":"#cccccc","width":1}}},"timeline":{"lineStyle":{"color":"#8fd3e8","width":1},"itemStyle":{"normal":{"color":"#8fd3e8","borderWidth":1},"emphasis":{"color":"#8fd3e8"}},"controlStyle":{"normal":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5},"emphasis":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5}},"checkpointStyle":{"color":"#8fd3e8","borderColor":"rgba(138,124,168,0.37)"},"label":{"normal":{"textStyle":{"color":"#8fd3e8"}},"emphasis":{"textStyle":{"color":"#8fd3e8"}}}},"visualMap":{"color":["#516b91","#59c4e6","#a5e7f0"]},"dataZoom":{"backgroundColor":"rgba(0,0,0,0)","dataBackgroundColor":"rgba(255,255,255,0.3)","fillerColor":"rgba(167,183,204,0.4)","handleColor":"#a7b7cc","handleSize":"100%","textStyle":{"color":"#333"}},"markPoint":{"label":{"normal":{"textStyle":{"color":"#eeeeee"}},"emphasis":{"textStyle":{"color":"#eeeeee"}}}}}');Fa.registerTheme("westeros",Pa);var Xa={name:"echart",mixins:[Qe],props:{config:Object,theme:{type:String,default:"westeros"},params:Object,url:String,data:Object,initData:{type:Boolean,default:!1},yAxis:{type:Object,default(){return{type:"value"}}},xAxis:{type:Object,default(){return{type:"category"}}},tooltip:{type:Object,default(){return{}}},series:{type:Array,default(){return[]}},name:{type:String,default:""},title:{type:String},titleColor:String,titleFontSize:Number,titleFontWeight:[String,Number],titleX:String,titleY:String,subTitle:{type:String,default:""},subTitleColor:String,subTitleFontSize:Number,legendShow:{type:Boolean,default:!0},legendType:String,legendColor:String,legendFontSize:Number,legendX:String,legendY:String,legendOrient:String,widthT:{type:String,default:"870px"},heightT:{type:String,default:"384px"}},data(){return{myChart:null,dataT:this.data,yAxisT:this.yAxis,xAxisT:this.xAxis,seriesT:this.series}},created(){this.initData&&this.getData().then((e=>{this.init(e)})).catch((e=>{console.warn("代码报错啦~"),console.warn(e)}))},watch:{config:{handler(e){e&&this.init()},deep:!0},data:{handler(e){e&&(this.dataT=e,this.init())},deep:!0},series:{handler(e){e&&(this.seriesT=e,this.init())},deep:!0},params:{handler(e){e&&this.getData().then((e=>{this.init(e)})).catch((e=>{console.warn("代码报错啦~"),console.warn(e)}))},deep:!0}},methods:{getData(){return new Promise(((e,t)=>{this.url?Ge.get(this.url,this.params).then((t=>{t.data||null===t.data?(t.data.charts||null===t.data.charts?this.dataT=t.data.charts||[]:this.dataT=t.data||[],e(t)):console.warn("请求返回数据有误，无法使用")})).catch((e=>{console.warn(e)})):this.dataT&&this.dataT.series||this.seriesT&&this.seriesT.length>0?e():console.warn("没有有效的请求地址，无法获取图表数据")}))},init(){let e=this;e.myChart=Fa.init(document.getElementById(this.name),this.theme),e.myChart.on("timelinechanged",(function(t){e.$emit("time-line-change",t.currentIndex)})),e.myChart.on("click","series.bar",(function(t){e.$emit("series-bar-click",t)}));let i={};if(i=this.config?this.config:{title:{text:this.dataT.title?this.dataT.title:this.title||t("r.unknown"),textStyle:{color:this.dataT.titleColor||this.titleColor,fontSize:this.dataT.titleFontSize||this.titleFontSize,fontWeight:this.dataT.titleFontWeight||this.titleFontWeight},x:this.dataT.titleX||this.titleX,y:this.dataT.titleY||this.titleY,subtext:this.dataT.subTitle?this.dataT.subTitle:this.subTitle,subtextStyle:{color:this.dataT.subTitleColor||this.subTitleColor,fontSize:this.dataT.subTitleFontSize||this.subTitleFontSize}},legend:{show:this.dataT.legendShow?this.dataT.legendShow:this.legendShow,type:this.dataT.legendType||this.legendType,textStyle:{color:this.dataT.legendColor||this.legendColor,fontSize:this.dataT.legendFontSize||this.legendFontSize},x:this.dataT.legendX||this.legendX,y:this.dataT.legendY||this.legendY,orient:this.dataT.legendOrient||this.legendOrient},tooltip:this.dataT.tooltip?this.dataT.tooltip:this.tooltip,xAxis:this.dataT.xAxis?this.dataT.xAxis:this.xAxisT,yAxis:this.dataT.yAxis?this.dataT.yAxis:this.yAxisT,series:this.dataT.series?this.dataT.series:this.seriesT},e.myChart.setOption(i),void 0===window.echartResizeMJ&&(window.echartResizeMJ={}),!window.echartResizeMJ[e.name]){let t=window.onresize;window.onresize=t?()=>{e.myChart&&(t(),e.myChart.resize(),window.echartResizeMJ[e.name]=!0)}:()=>{e.myChart&&(e.myChart.resize(),window.echartResizeMJ[e.name]=!0)}}}},beforeDestroy(){this.myChart&&(this.myChart.clear(),this.myChart.dispose(),this.myChart=null,window.echartResizeMJ={})}},Ea=Xa,za=s(Ea,Na,Ga,!1,null,null,null),Ha=za.exports,ja=function(){var e=this,t=e._self._c;return t("div",{style:e.getBg},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showX,expression:"showX"}],staticClass:"contentZ"},[e._t("default")],2)])},Wa=[],Ua={name:"showHidePanelB",model:{prop:"show",event:"subVal"},props:{bg:{default:"transparent"},show:{type:Boolean,default:!1}},computed:{showX:{get(){return this.show},set(e){this.$emit("subVal",e)}},getBg(){return this.showX?"background:"+this.bg:""}}},qa=Ua,Ja=s(qa,ja,Wa,!1,null,null,null),Ya=Ja.exports,Qa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tableSearchV",style:{position:e.fixed?"fixed":"absolute",right:e.right,top:e.top}},[e._t("default",(function(){return[t("Input",{staticClass:"searchInputC",style:{width:e.width},attrs:{search:"",placeholder:e.placeholder||e.t("r.pInput")},on:{"on-search":e.onSearch},model:{value:e.valueX,callback:function(t){e.valueX=t},expression:"valueX"}})]})),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],staticClass:"sbt",style:{color:e.btnColor},on:{click:function(t){e.openX=!e.openX}}},[t("icon",{attrs:{type:e.iconL,color:e.btnColor}}),e._v(e._s(e.t("r.adSearch")))],1)],2)},Za=[],el={name:"tableSearch",mixins:[Qe],model:{prop:"value",event:"subVal"},props:{value:{default:null},open:{type:Boolean,default:!1},placeholder:{type:String},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{type:String,default:"inherit"}},data(){return{debounceCount:!1}},computed:{valueX:{get(){return this.value},set(e){this.$emit("subVal",e)}},iconL(){return this.openX?"ios-arrow-up":"ios-arrow-down"},openX:{get(){return this.open},set(e){this.$emit("on-toggle",e)}}},methods:{onSearch(){this.debounceCount||(this.debounceCount=!0,this.$emit("on-search",this.valueX),Ee((()=>{this.debounceCount=!1}),2e3))}}},tl=el,il=s(tl,Qa,Za,!1,null,null,null),al=il.exports,ll=function(){var e=this,t=e._self._c;return t("Select",e._b({directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],ref:"selectScrollSourceRef",attrs:{transfer:"",filterable:"",placeholder:e.placeholderT,disabled:e.disabled},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},"Select",e.$attrs,!1),e._l(e.options,(function(i,a){return t("Option",{key:"op"+a,attrs:{value:i.value,disabled:i.disabled}},[e._v(e._s(i.label))])})),1)},rl=[],ol={name:"selectScrollMore",mixins:[Qe],model:{prop:"value",event:"sub-val"},props:{value:{type:[String,Number,Array],default:null},url:{type:String,required:!0},searchData:{type:Object,default(){return{size:10}}},getOptions:{type:Boolean,default:!0},optionFilter:{type:Function},optionsLabelKey:{type:[String,Array],default:"name"},optionsValKey:{type:String,default:"id"},searchKey:{type:String,default:"name"},searchWordsRequired:{type:Boolean,default:!1},collectLabel:{type:Boolean,default:!1},placeholder:{type:String},disabled:{type:Boolean,default:!1}},data(){return{current:1,pages:1,searchStr:null,options:[],historyData:{},isFresh:!0,urlChanged:!1}},computed:{placeholderT(){return this.searchStr?this.t("r.searchFor")+this.searchStr:this.placeholder||this.t("r.pInput")},valueT:{get(){return this.value},set(e){if(this.$emit("sub-val",e),this.collectLabel){let t={};for(let i of this.options)if(i[this.optionsValKey]===e){t=JSON.parse(JSON.stringify(i));break}this.$emit("on-change",t)}}},searchDataT(){return this.searchKey?{...this.searchData,current:this.current,[this.searchKey]:this.searchStr}:{...this.searchData,current:this.current}}},mounted(){this.addInputEventListener()},watch:{getOptions:{handler(e){e?this.isFresh&&this.getData():this.reset()},immediate:!0},url(e){e&&(this.urlChanged=!0)}},methods:{addInputEventListener(){const e=this.$refs.selectScrollSourceRef.$children[0].$refs.input;e.addEventListener("keyup",this.getOption)},setQuery(e){this.$refs.selectScrollSourceRef.$children[0].query=e},reset(){this.isFresh||(this.valueT=null,this.isFresh=!0,this.searchStr=null,this.options=[],this.current=1,this.pages=1,this.historyData={},this.urlChanged=!1)},isSelect(e){for(let t of this.options)if(t.label===e)return!0;return!1},getOption:p().debounce((function(e){const t=e.target.value;this.isSelect(t)||(pe(t)?(this.urlChanged?this.reset():(p().isEmpty(this.historyData)&&(this.historyData.current=this.current,this.historyData.pages=this.pages,this.historyData.options=p().cloneDeep(this.options)),pe(this.valueT)&&(this.valueT=null)),this.searchStr=t,this.options=[],this.current=1,this.isFresh=!0,this.getData().then((()=>{this.$nextTick((function(){this.setQuery(t)}))})).catch((()=>{this.$nextTick((function(){this.setQuery(t)}))}))):this.urlChanged?(this.reset(),this.getData()):(this.valueT=null,this.searchStr=null,this.historyData.current?(this.current=this.historyData.current,this.pages=this.historyData.pages,this.options=p().cloneDeep(this.historyData.options),this.historyData={}):this.getData()))}),600),loadMore(){this.urlChanged&&this.reset(),this.current<this.pages?(++this.current,this.$nextTick((function(){this.getData()}))):this.$Message.warning({background:!0,content:this.t("r.noMore")})},getData(){return new Promise(((e,t)=>{if(this.getOptions){if(this.searchWordsRequired&&!pe(this.searchStr))return void e();Ge.get(this.url,this.searchDataT).then((t=>{this.isFresh=!1;let i=[];t&&t.data&&t.data.records?(i=t.data.records,this.pages=t.data.pages):t&&t.data&&"Array"===H(t.data)?(i=t.data,this.pages=t.pages):t&&t.data&&"Object"===H(t.data)&&(i=[t.data],this.pages=1),"Function"===H(this.optionFilter)&&(i=this.optionFilter(i)),p().isEmpty(i)||(i=i.map(((e,t)=>{let i=this.t("r.optionLabel")+t;if(p().isArray(this.optionsLabelKey)){let t=[];for(let i=1,a=this.optionsLabelKey.length;i<a;i++)t.push(e[this.optionsLabelKey[i]]);i=`${e[this.optionsLabelKey[0]]}(${String(t)})`}else p().isString(this.optionsLabelKey)&&(i=e[this.optionsLabelKey]);if(this.collectLabel){let t=p().cloneDeep(e);return delete t.value,delete t.label,{value:e[this.optionsValKey],label:i,...t}}return{value:e[this.optionsValKey],label:i}}))),this.options.push(...i);let a={};this.options=this.options.filter((e=>{if(!a[e.value])return a[e.value]=!0,e})),this.$nextTick((function(){this.$emit("update-option-finish")})),e(!0)})).catch((()=>{this.$Message.error(this.t("r.getDataError")),t(this.t("r.getDataError"))}))}else e()}))}}},sl=ol,nl=s(sl,ll,rl,!1,null,null,null),dl=nl.exports,hl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"transferBoxRL"},[t("div",{staticClass:"leftBoxLLL"},[t("div",{staticClass:"fullHeight flexColumnBox"},[t("div",{staticClass:"notGrow"},[t("div",{staticClass:"titleLLL"},[e._v(e._s(e.titleLeft||e.t("r.added")))]),t("show-hide-panel",[t("search-form",{ref:"leftFormRef",attrs:{"form-data":e.formDataLeft,"form-rules":e.formRulesLeft},on:{"on-search":e.searchLeft}})],1)],1),t("div",{staticClass:"growFlexItem"},[t("bt-table-page",{ref:"lTabRef",attrs:{columns:e.leftTableColumns,url:e.leftTableUrl,"search-data":e.leftTableSearchData,"init-data":Boolean(e.isEmpty(e.constSearchDataLeft)&&e.leftTableUrl),"get-data-loading":"",selection:""},on:{"on-selection-change":e.lSelectionChange}})],1)])]),t("div",{staticClass:"middleBoxLLL"},[t("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"default"},on:{click:e.removeAll}},[e._v(e._s(e.t("r.removeAll"))+" "),t("Icon",{attrs:{type:"ios-arrow-forward"}})],1),t("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"default",disabled:e.deleteDis},on:{click:e.remove}},[e._v(e._s(e.t("r.remove"))+" "),t("Icon",{attrs:{type:"ios-arrow-forward"}})],1),t("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"primary",disabled:e.addDis},on:{click:e.add}},[t("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "+e._s(e.t("r.add")))],1),t("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"primary"},on:{click:e.addAll}},[t("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "+e._s(e.t("r.addAll")))],1)],1),t("div",{staticClass:"rightBoxLLL"},[t("div",{staticClass:"fullHeight flexColumnBox"},[t("div",{staticClass:"notGrow"},[t("div",{staticClass:"titleLLL"},[e._v(e._s(e.titleRight||e.t("r.notAdded")))]),t("show-hide-panel",[t("search-form",{ref:"rightFormRef",attrs:{"form-data":e.formDataRight,"form-rules":e.formRulesRight},on:{"on-search":e.searchRight}})],1)],1),t("div",{staticClass:"growFlexItem"},[t("bt-table-page",{ref:"rTabRef",attrs:{columns:e.rightTableColumns,url:e.rightTableUrl,"search-data":e.rightTableSearchData,"init-data":Boolean(e.isEmpty(e.constSearchDataRight)&&e.rightTableUrl),"get-data-loading":"",selection:""},on:{"on-selection-change":e.rSelectionChange}})],1)])])])},cl=[],ul={name:"transferBox",mixins:[Qe],props:{titleLeft:{type:String},titleRight:{type:String},formDataLeft:{type:Array,default(){return[]}},formDataRight:{type:Array,default(){return[]}},formRulesLeft:{type:Object,default(){return{}}},formRulesRight:{type:Object,default(){return{}}},constSearchDataLeft:{type:Object,default(){return{}}},constSearchDataRight:{type:Object,default(){return{}}},leftTableColumns:{type:Array,default(){return[]}},rightTableColumns:{type:Array,default(){return[]}},leftTableUrl:{type:String,default:null},rightTableUrl:{type:String,default:null},addUrl:{type:String,default:null},deleteUrl:{type:String,default:null},addAllUrl:{type:String,default:null},deleteAllUrl:{type:String,default:null},addParamsHandle:{type:Function,default:e=>e.map((e=>e.id))},deleteParamsHandle:{type:Function,default:e=>e.map((e=>e.id))},addAllParamsHandle:{type:Function,default:e=>e},deleteAllParamsHandle:{type:Function,default:e=>e},addMethod:{type:String,default:"post"},addAllMethod:{type:String,default:"post"},deleteMethod:{type:String,default:"delete"},deleteAllMethod:{type:String,default:"delete"}},data(){return{searchDataLeft:{},searchDataRight:{},lSelection:[],rSelection:[]}},computed:{leftTableSearchData(){return{...this.constSearchDataLeft,...this.searchDataLeft}},rightTableSearchData(){return{...this.constSearchDataRight,...this.searchDataRight}},deleteDis(){return this.lSelection.length<1},addDis(){return this.rSelection.length<1}},methods:{isEmpty:p().isEmpty,reset(){this.$refs.leftFormRef.resetForm(),this.$refs.rightFormRef.resetForm(),p().isEmpty(this.searchDataLeft)||(this.searchDataLeft={}),p().isEmpty(this.searchDataRight)||(this.searchDataRight={}),this.$refs.lTabRef.clearSelect(),this.$refs.rTabRef.clearSelect()},search(){this.$refs.lTabRef.search(),this.$refs.rTabRef.search()},lSelectionChange(e){this.lSelection=e},rSelectionChange(e){this.rSelection=e},searchLeft(e){this.searchDataLeft=e},searchRight(e){this.searchDataRight=e},add(){this.addUrl&&this.fetchX("add")},remove(){this.deleteUrl&&this.fetchX("delete")},addAll(){this.addAllUrl&&this.addUrl&&this.fetchX("addAll")},removeAll(){this.deleteAllUrl&&this.fetchX("deleteAll")},fetchX(e){let t=this[e+"Method"],i=this[e+"Url"],a={},l="";switch(e){case"add":a=this.addParamsHandle(this.rSelection),l=this.t("r.add");break;case"delete":a=this.deleteParamsHandle(this.lSelection),l=this.t("r.remove");break;case"addAll":a=this.addAllParamsHandle(this.rightTableSearchData),l=this.t("r.addAll");break;case"deleteAll":a=this.deleteAllParamsHandle(this.leftTableSearchData),l=this.t("r.removeAll");break}i&&this.$fetch[t](i,a,null,[],{spin:!0},!1).then((e=>{e&&0===e.code?(this.$swal(l+this.t("r.success"),e&&e.message||"","success"),this.$refs.lTabRef&&this.$refs.lTabRef.getTableData(),this.$refs.rTabRef&&this.$refs.rTabRef.getTableData(),this.$emit("transferred")):this.$swal(l+this.t("r.failed"),e&&e.message||"","error")})).catch((()=>{this.$swal(l+this.t("r.error"),"","error")}))}}},pl=ul,fl=s(pl,hl,cl,!1,null,null,null),ml=fl.exports,yl=function(){var e=this,t=e._self._c;return t("Modal",e._g(e._b({staticClass:"fixedFullModalR",attrs:{"mask-closable":!1,styles:{top:e.top},fullscreen:"","footer-hide":"",closable:!1},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},"Modal",e.$attrs,!1),e.$listeners),[t("div",{staticClass:"headerR",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(e.title))]),t("Icon",{staticClass:"closeIcoR",attrs:{type:"ios-close",size:"40",title:"close"},on:{click:e.close}})],1),e._t("default")],2)},gl=[],bl={name:"fixedFullModal",props:{title:{type:String,default:"标题"},top:{type:String,default:"55px"}},data(){return{isOpen:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1,this.$emit("on-cancel")}}},vl=bl,wl=s(vl,yl,gl,!1,null,null,null),kl=wl.exports,xl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"c404K"},[t("div",{staticClass:"t404"},[e._v("404")]),t("div",{staticClass:"ct404"},[e._v("UH OH! "+e._s(e.t("r.pageNotFound")))]),t("div",{staticClass:"p404"},[e._v(e._s(e.t("r.notFoundMsg")))]),t("Button",{staticClass:"bt404",on:{click:e.back}},[e._v(e._s(e.t("r.back")))])],1)},Sl=[],Cl={name:"page404",mixins:[Qe],methods:{back(){this.$router.go(-1)}}},Tl=Cl,Kl=s(Tl,xl,Sl,!1,null,null,null),Bl=Kl.exports,Ll=function(){var e=this,t=e._self._c;return t("div",{ref:"menuRefRJ",staticClass:"menuBoxRP"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.menuDisplay,expression:"menuDisplay"}],staticClass:"menuListR"},[t("side-menu-group",{attrs:{data:e.data,pathName:e.pathName}})],1),t("Icon",{staticClass:"menuShowHideIco",class:{showIco:!e.menuDisplay},attrs:{type:e.typeIco,size:25,title:e.titleC,color:e.menuDisplay?"#fff":"#333"},on:{click:e.showHideMenu}})],1)},Il=[],$l=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"groupBoxRP"},e._l(e.data,(function(i,a){return t("li",{key:i.path+a,class:{dropItemRP:i.children}},[t("div",{staticClass:"menuTxtR",class:e.getClass(i),style:{paddingLeft:20*i.level+"px"},on:{click:function(t){return e.handleClick(t,i)}}},[e._v(" "+e._s(i.name||"-- no name --")+" ")]),i.children?t("sideMenuGroup",{attrs:{data:i.children,"path-name":e.pathName}}):e._e()],1)})),0)},_l=[],Al={name:"sideMenuGroup",props:{data:{type:Array,default(){return[]}},pathName:{type:String,default:""}},methods:{getClass(e){return e.path===this.pathName?"active":""},handleClick(e,t){e.preventDefault();let i=e.target;if(!t.children&&!i.classList.contains("active"))return void this.$router.push(t.path);let a=i.parentNode,l=this.siblingElems(a);for(let r of l){r.classList.remove("open");const e=r.querySelectorAll(".open");for(let t of e)t.classList.remove("open")}a.classList.toggle("open")}}},Ol=Al,Dl=s(Ol,$l,_l,!1,null,null,null),Vl=Dl.exports,Rl={name:"sideMenu",mixins:[Qe],components:{SideMenuGroup:Vl},props:{data:{type:Array,default(){return[]}}},computed:{titleC(){return this.menuDisplay?this.t("r.hideMenu"):this.t("r.showMenu")},typeIco(){return this.menuDisplay?"ios-arrow-back":"ios-arrow-forward"}},data(){return{menuDisplay:!0,pathName:null}},created(){let e=localStorage.getItem("menuDisplayR");void 0!==e&&null!==e&&""!==e?e=JSON.parse(e):(e=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0))),this.menuDisplay=e},watch:{$route:{handler(e){this.pathName=e.path,this.$nextTick((function(){this.addOpen()}))},immediate:!0}},methods:{showHideMenu(){this.menuDisplay=!this.menuDisplay,localStorage.setItem("menuDisplayR",JSON.stringify(this.menuDisplay))},addOpen(){let e=this.$refs.menuRefRJ.querySelectorAll(".dropItemRP");for(let t of e)t.querySelector(".active")&&!t.classList.contains("open")&&t.classList.add("open")}}},Ml=Rl,Nl=s(Ml,Ll,Il,!1,null,null,null),Gl=Nl.exports;function Fl(e){const t=(...e)=>F.apply(this,e),i=t("r.closePreview"),a=t("r.fullImg");let l="previewImg"+Math.floor(1e7*Math.random());$e.Modal.info({closable:!1,"transition-names":["linear","fade"],render:t=>t("div",{class:"previewModal",attrs:{id:l}},[t("div",{class:"previewModalInner"},[t("img",{attrs:{src:e,alt:a}}),t("Icon",{props:{type:"md-close",size:20},domProps:{title:i},class:"previewModalDelete",on:{click(){$e.Modal.remove()}}})])])});let r=setTimeout((()=>{const e=document.getElementById(l).parentNode.parentNode.parentNode.parentNode,t=document.getElementById(l).parentNode.nextSibling;e.style.height="0",e.style.padding="0",t.style.display="none",clearTimeout(r),r=null}),10)}function Pl(e,t,i,a){const l=(...e)=>F.apply(this,e);z.call(this,{title:e||l("r.info.title"),text:t||l("r.info.text"),icon:i||"warning",onOk:a,buttons:[l("r.cancel")]})}var Xl=g(365),El=g.n(Xl),zl=g(765),Hl=g.n(zl),jl=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loader-div",attrs:{"data-loader":e.dataLoader}})},Wl=[],Ul={name:"loaders",props:{dataLoader:{type:String,default:"circle"},show:{type:Boolean,default:!0}}},ql=Ul,Jl=s(ql,jl,Wl,!1,null,null,null),Yl=Jl.exports,Ql=function(){var e=this,t=e._self._c;return t("div",{staticClass:"echart-main",style:{width:e.widthT,height:e.heightT}},[t("Button",{directives:[{name:"show",rawName:"v-show",value:e.back,expression:"back"}],staticClass:"hidden",style:e.btnStyle,attrs:{id:"back",type:"primary"},on:{click:e.oback}},[e._v("返回全国")]),t("div",{staticClass:"echart-map",attrs:{id:e.name}})],1)},Zl=[];let er=["shanghai","hebei","shanxi","neimenggu","liaoning","jilin","heilongjiang","jiangsu","zhejiang","anhui","fujian","jiangxi","shandong","henan","hubei","hunan","guangdong","guangxi","hainan","sichuan","guizhou","yunnan","xizang","shanxi1","gansu","qinghai","ningxia","xinjiang","beijing","tianjin","chongqing","xianggang","aomen"],tr=["上海","河北","山西","内蒙古","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","北京","天津","重庆","香港","澳门"];var ir={name:"echartMap",props:{name:{type:String,default:""},btnStyle:Object,scatterTooltip:{type:Function,default:e=>e.data.value[2]},tooltip:{type:Function,default:()=>"随便定义任何内容也是可以的，通过回调函数取"},scatterGeoItemStyle:{type:Function,default:()=>({normal:{color:"#F62157"}})},scatterGeoLabelTextStyle:{type:Function,default:()=>({color:"#fff",fontSize:9})},scatterGeoLabel:{type:Function,default:()=>({normal:{show:!1,formatter:"{b}",position:"right"},emphasis:{show:!0}})},geoItemStyle:{type:Function,default:()=>({normal:{areaColor:"#3c8dbc",borderColor:"#097bba"},emphasis:{areaColor:"#fbd456"}})},scatterGeoShow:{type:Boolean,default:!0},title:{type:Function,default:()=>({show:!1})},mapLabel:{type:Function,default:()=>({normal:{show:!0,textStyle:{color:"#895139"}},emphasis:{show:!0,textStyle:{color:"#323232"}}})},mapItemStyle:{type:Function,default:()=>({normal:{borderWidth:.5,borderColor:"#0550c3",areaColor:"#0b7e9e"},emphasis:{borderWidth:.5,borderColor:"#4b0082",areaColor:"#ece39e"}})},scatterSymbol:{type:String,default:"pin"},maxSize4Pin:{type:Number,default:40},minSize4Pin:{type:Number,default:30},seriesData:{type:Array,default:()=>[]},seriesDataPro:{type:Array,default:()=>[]},inRangeColor:{type:Array,default:()=>[]},visualMapTextStyle:{type:Function,default:()=>({})},visualMapShow:{type:Boolean,default:!1},visualMapOrient:{type:String,default:"horizontal"},visualMapSeriesIndex:{type:Number,default:1},visualMapHeight:{type:Number,default:null},visualMapWidth:{type:Number,default:null},visualMapInverse:{type:Boolean,default:!1},visualMapLeft:{type:String,default:"5%"},visualMapTop:{type:String,default:"95%"},scatterGeoZlevel:{type:Number,default:6},widthT:{type:String,default:"870px"},heightT:{type:String,default:"384px"}},data(){return{mapName:"china",myChart:null,back:!1}},mounted(){this.myChart=Fa.init(document.getElementById(this.name));let e=this;if(e.myChart.on("click",(t=>{if(t.data&&t.data.provinceKey&&e.seriesDataPro.length){e.back=!0;for(let i=0;i<tr.length;i++)if(t.name===tr[i]){e.mapName=er[i],e.$emit("on-click-map",er[i],tr[i]),e.initEcharts(er[i],tr[i]);break}}})),void 0===window.echartResizeMJ&&(window.echartResizeMJ={}),!window.echartResizeMJ[e.name]){let t=window.onresize;window.onresize=t?()=>{e.myChart&&(t(),e.myChart.resize(),window.echartResizeMJ[e.name]=!0)}:()=>{e.myChart&&(e.myChart.resize(),window.echartResizeMJ[e.name]=!0)}}},methods:{initEcharts(e,t){this.loadMap(e,t)},loadMap(e,t){let i="china"===e?this.seriesData:this.seriesDataPro,a=this,l=0,r=0;(a.seriesData||a.seriesDataPro)&&(l=Math.max.apply(Math,i.map((function(e){return e.value}))));let o={title:a.title(),tooltip:{trigger:"item",formatter:e=>a.tooltip(e)},visualMap:{show:a.visualMapShow,min:r,max:l,left:a.visualMapLeft,top:a.visualMapTop,inverse:a.visualMapInverse,itemHeight:a.visualMapHeight,itemWidth:a.visualMapWidth,text:["高","低"],textStyle:a.visualMapTextStyle(),calculable:!1,seriesIndex:a.visualMapSeriesIndex,orient:a.visualMapOrient,inRange:{color:a.inRangeColor}},geo:{show:!0,map:e,roam:!1,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:a.geoItemStyle()},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:i,symbolSize:"1",label:a.scatterGeoLabel()},{name:t||e,type:"map",mapType:e,roam:!1,data:i,selectedMode:"single",label:a.mapLabel(),itemStyle:a.mapItemStyle()},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:a.scatterSymbol,symbolSize:e=>{let t=(a.maxSize4Pin-a.minSize4Pin)/(l-r),i=a.maxSize4Pin-t*l;return t*e[2]+i},label:{normal:{show:a.scatterGeoShow,formatter:function(e){return a.scatterTooltip(e)},textStyle:a.scatterGeoLabelTextStyle()}},itemStyle:a.scatterGeoItemStyle(),zlevel:a.scatterGeoZlevel,data:this.convertData(i)}]};a.myChart.setOption(o)},oback(){this.back=!1,this.mapName="china",this.$emit("on-click-map",this.mapName,"中国")},getGeoCoordMap(e){e=e||"china";let t={};this.myChart.showLoading();let i=Fa.getMap(e).geoJson.features;return this.myChart.hideLoading(),i.forEach((function(e){let i=e.properties.name;t[i]=e.properties.cp})),t},convertData(e){let t=this.getGeoCoordMap(this.mapName),i=[];for(let a=0;a<e.length;a++){let l=t[e[a].name];l&&i.push({name:e[a].name,value:l.concat(e[a].value)})}return i}},beforeDestroy(){this.myChart&&(this.myChart.clear(),this.myChart.dispose(),this.myChart=null,window.echartResizeMJ={})}},ar=ir,lr=s(ar,Ql,Zl,!1,null,"cb7e4678",null),rr=lr.exports,or=g(327);(()=>{if(window.wangeditorMenuInit)return;class e{constructor(){this.title=F("r.preview"),this.iconSvg='<svg t="1656644788547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12356" width="256" height="256"><path d="M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z" p-id="12357"></path><path d="M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z" p-id="12358"></path><path d="M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z" p-id="12359"></path></svg>',this.tag="button",this.alwaysEnable=!0}getValue(){return""}isActive(e){return!1}isDisabled(){return!1}exec(e){const t=document.getElementById("editor-preview");let i=localStorage.getItem("editorPreviewW")||300,a=localStorage.getItem("editorPreviewH")||500;const l=e.getHtml();if(t){let e=t.children[0].children[1].children[0],r=t.children[0].children[1];e.innerHTML=l,e.style.width=i+"px",r.style.height=a+"px",t.style.display="block"}else{const e=document.body,t=document.createElement("div");t.setAttribute("id","editor-preview"),t.setAttribute("class","editor-preview-mask"),t.innerHTML=`<div class="editor-preview-body"><div class="editor-preview-head"><div><span>宽</span><input type="number" value="${i}" min="200"><span>高</span><input type="number" value="${a}" min="300"></div><i class="ivu-icon ivu-icon-md-close"></i></div><div class="editor-preview-out-wall"><div class="editor-preview-wall r-editor-view"></div></div></div>`;let r=t.children[0].children[1],o=t.children[0].children[1].children[0],s=t.children[0].children[0].children[0].children[1];const n=40,d=70,h=t=>{if(t&&"keyup"===t.type){let e=!1;if(t.key&&(e="Enter"!==t.key),e)return}let i=t.target.value;if(i=Number(i),o.style&&o.style.width===i+"px")return;const a=e.clientWidth;i<250?(i=250,t.target.value=250):i>a-n&&(i=a-n,t.target.value=a-n),o.style.width=i+"px",localStorage.setItem("editorPreviewW",i)};s.addEventListener("blur",h),s.addEventListener("keyup",h);let c=t.children[0].children[0].children[0].children[3];const u=t=>{if(t&&"keyup"===t.type){let e=!1;if(t.key&&(e="Enter"!==t.key),e)return}let i=t.target.value;if(i=Number(i),r.style&&r.style.height===i+"px")return;const a=e.clientHeight;i<300?(i=300,t.target.value=300):i>a-d&&(i=a-d,t.target.value=a-d),r.style.height=i+"px",localStorage.setItem("editorPreviewH",i)};c.addEventListener("blur",u),c.addEventListener("keyup",u);let p=t.children[0].children[0].children[1];p.addEventListener("click",(e=>{t.style.display="none"})),o.innerHTML=l,o.style.width=i+"px",r.style.height=a+"px",e.append(t)}}}const t={key:"previewX",factory(){return new e}};or.Boot.registerMenu(t),window.wangeditorMenuInit=!0})();const sr={HelloR:d,btTablePage:qe,wellCard:it,tableTree:nt,uploadGroup:mt,tableSetting:kt,inputMap:Lt,tableIconBtn:Dt,iconTxtBtn:Ft,showHidePanel:jt,selectInput:Qt,asyncCascader:li,editor:yi,editorPro:Si,alCascaderMC:Ii,checkboxTree:Vi,checkboxGroupTwoClass:Pi,checkboxGroupThreeClass:Wi,fullScreenPop:ra,headerBt:ta,formR:pa,formModal:va,customModal:Ta,searchForm:_a,formGroup:Ma,echart:Ha,echartMap:rr,loaders:Yl,showHidePanelB:Ya,tableSearch:al,selectScrollMore:dl,transferBox:ml,fixedFullModal:kl,page404:Bl,sideMenu:Gl},nr={fullScreenImgPreview:Fl,toHump:j,htmlEncode:J,htmlDecode:Y,getFileSrc:Q,getFileTypeByName:Z,isImgByFile:ee,getFileTypeIconByName:te,downloadFileReaderFile:ie,fakeALinkClick:ae,findPath:oe,getStringWidth:ye,emptyInput:ke,stopBubbling:Ce},dr={$swal:z,messageBox:_e,myTypeof:H,$fetch:Ge,trimObj:U,clearObj:q,formDataHeadConfig:le,toFormData:re,oneOf:ne,fullScreenImgByDom:ct,isValidValue:pe,isNumberValue:fe,isEmptyValue:ge,tooltipManual:me,stringLength:be,decimalDigitsLimit:de,downloadFileByFormSubmit:he,$swalConfirm:Pl,setValByOption:ve,hasPermission:we,isNaN:xe,dataFilterOrToUrl:Se,setTimeout:Ee,setInterval:ze,toLine:W,fileExport:ce,getColumnsKeys:ue,removeEmptyValue:Te,findCollection:se,htmlPrint:Ke,siblingElems:Be},hr=function(e,t={}){hr.installed||(E.i18n(t.i18n),Ge.init(t.store),He.init(t.router),e?(e.use(El()),e.use(Hl()),Object.keys(sr).forEach((t=>{e.component(t,sr[t])})),Object.keys(dr).forEach((t=>{e.prototype.hasOwnProperty(t)||Object.defineProperty(e.prototype,t,{get(){return dr[t]}})})),void 0===e.directive("has")&&e.directive("has",{bind(t,i){i.value&&!e.prototype.hasPermission(i.value)&&(t.style.display="none")}}),void 0===e.directive("loadmore")&&e.directive("loadmore",{bind(e,t){let i;i=t.arg?e.querySelector("."+t.arg):e.querySelector(".ivu-select-dropdown")||e,i.addEventListener("scroll",(function(){this.scrollTop>0&&this.scrollHeight-this.scrollTop<=this.clientHeight&&t.value()}))}})):console.error("库安装失败，未获取到Vue对象"))};"undefined"!==typeof window&&window.Vue&&hr(window.Vue);var cr={version:{NODE_ENV:"production",BASE_URL:""}.VERSION,install:hr,...sr,...dr,...nr},ur=cr}(),b=b["default"],b}()}));
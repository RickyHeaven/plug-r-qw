(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("@wangeditor/editor"),require("@wangeditor/editor-for-vue"),require("@zhangqingcq/view-design-r"),require("ar-cascader"),require("axios"),require("deepmerge"),require("echarts"),require("lodash"),require("moment"),require("popper.js"),require("sweetalert"),require("vue"),require("vue-amap"),require("vue-json-viewer"),require("wangeditor"),require("xss")):"function"===typeof define&&define.amd?define(["@wangeditor/editor","@wangeditor/editor-for-vue","@zhangqingcq/view-design-r","ar-cascader","axios","deepmerge","echarts","lodash","moment","popper.js","sweetalert","vue","vue-amap","vue-json-viewer","wangeditor","xss"],t):"object"===typeof exports?exports["plugRQw"]=t(require("@wangeditor/editor"),require("@wangeditor/editor-for-vue"),require("@zhangqingcq/view-design-r"),require("ar-cascader"),require("axios"),require("deepmerge"),require("echarts"),require("lodash"),require("moment"),require("popper.js"),require("sweetalert"),require("vue"),require("vue-amap"),require("vue-json-viewer"),require("wangeditor"),require("xss")):e["plugRQw"]=t(e["@wangeditor/editor"],e["@wangeditor/editor-for-vue"],e["@zhangqingcq/view-design-r"],e["ar-cascader"],e["axios"],e["deepmerge"],e["echarts"],e["lodash"],e["moment"],e["popper.js"],e["sweetalert"],e["vue"],e["vue-amap"],e["vue-json-viewer"],e["wangeditor"],e["xss"])})("undefined"!==typeof self?self:this,(function(e,i,a,l,s,o,r,n,d,c,h,u,p,m,f,y){return function(){"use strict";var g={934:function(t){t.exports=e},365:function(e){e.exports=i},513:function(e){e.exports=a},354:function(e){e.exports=l},742:function(e){e.exports=s},714:function(e){e.exports=o},190:function(e){e.exports=r},773:function(e){e.exports=n},416:function(e){e.exports=d},871:function(e){e.exports=c},286:function(e){e.exports=h},380:function(e){e.exports=u},612:function(e){e.exports=p},230:function(e){e.exports=m},90:function(e){e.exports=f},210:function(e){e.exports=y}},v={};function b(e){var t=v[e];if(void 0!==t)return t.exports;var i=v[e]={exports:{}};return g[e](i,i.exports,b),i.exports}!function(){b.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return b.d(t,{a:t}),t}}(),function(){b.d=function(e,t){for(var i in t)b.o(t,i)&&!b.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){b.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){b.p=""}();var w={};if(b.d(w,{default:function(){return Eo}}),"undefined"!==typeof window){var k=window.document.currentScript,S=k&&k.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);S&&(b.p=S[1])}var x=function(){var e=this,t=e._self._c;return t("span",[e._v("Greetings from Ricky.")])},C=[],T={name:"Hello"},L=T;function _(e,t,i,a,l,s,o,r){var n,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),a&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),o?(n=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),l&&l.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=n):l&&(n=r?function(){l.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:l),n)if(d.functional){d._injectStyles=n;var c=d.render;d.render=function(e,t){return n.call(t),c(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,n):[n]}return{exports:e,options:d}}var I=_(L,x,C,!1,null,null,null),B=I.exports,K=function(){var e=this,t=e._self._c;return t("div",{ref:"tableBox",staticClass:"btTablePage fullHeight flexColumnBox"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showTopRow,expression:"showTopRow"}],staticClass:"topBtn"},[e._t("tableSetting"),e._t("topMsg"),e._t("topBtnGroup")],2),t("div",{staticClass:"tableContainer growFlexItem"},[t("div",{staticClass:"fullHeight relativeBox"},[t("div",{ref:"tableContainerLOI",staticClass:"fullFlowContent"},[t("Table",e._g(e._b({ref:"TableXXX",class:{noBorderTable:e.noBorderTable,fullHeightTable:!e.fixedTable,lightHeadO:e.lightHead},attrs:{height:e.fixedTable&&e.tableContainerHeight||null,columns:e.columnsT,data:e.dataS,"highlight-row":e.radio||e.highlightRow},on:{"on-select":e.onSelect,"on-selection-change":e.selectionHandle,"on-sort-change":e.onSortChange,"on-row-click":e.onRowClick}},"Table",e.$attrs,!1),e.$listeners))],1)])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.noPage,expression:"!noPage"}],staticClass:"pageContainer"},[e.usePagePro?t("page-pro",{attrs:{modelValue:e.current,total:e.total,showTotal:e.showTotal,pageSize:e.pageSizeT,showSizer:e.showSizer,pageSizeOpts:e.pageSizes,size:e.pageComponentSize},on:{"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}}):t("Page",{attrs:{current:e.current,total:e.total,pageSize:e.pageSizeT,pageSizeOpts:e.pageSizes,showSizer:e.showSizer,showTotal:e.showTotal,showElevator:!e.noElevator,size:e.pageComponentSize},on:{"update:current":function(t){e.current=t},"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1)])},D=[],$=b(773),A=b.n($),R=b(286),O=b.n(R),N={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",save:"保存",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",selectTime:"选择时间",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"该文件不支持图片形式预览",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"收起菜单",showMenu:"展开菜单",print:"打印",close:"关闭",help:"帮助",printGuide:{1:"鼠标停留在表头列右边框，出现拖动图标，按下鼠标拖动可设置列宽。",2:"点击“列表显示设置”，可选择需要打印的列，选择完需点击“确定”按钮。",3:"页面有A4灰色参考线，将打印内容右边缘调至参考线区间，打印机默认设置时可将表格内容铺满A4纸，表格越宽字体将越小。",4:"将此页面地址复制到浏览器地址栏，打开的页面将不可用。",5:"未到此线内容将无法铺满纸张",6:"超过此线打印内容将不完整",7:"A4 纵向参考线",8:"A4 横向参考线",9:"复制的页面无法使用该打印功能。",10:"鼠标停留在打印内容顶部矩形条右边框，出现拖动图标，按下鼠标拖动可设置打印内容宽度。"},page:"条/页",total:"共",items:"条",notSave:"您未保存，是否保存？",last:"上一张",next:"下一张"}},M=b(380),P=b.n(M),V=b(714),G=b.n(V);const F=/(%|)\{([0-9a-zA-Z_]+)\}/g;function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e,...t){return 1===t.length&&"object"===typeof t[0]&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(F,((i,a,l,s)=>{let o;return"{"===e[s-1]&&"}"===e[s+i.length]?l:(o=z(t,l)?t[l]:null,null===o||void 0===o?"":o)}))}let X=N,H=!1,j=function(){const e=Object.getPrototypeOf(this||P()).$t;if("function"===typeof e&&P().locale)return H||(H=!0,P().locale(P().config.lang,G()(X,P().locale(P().config.lang)||{},{clone:!0}))),e.apply(this,arguments)};const W=function(e,t){let i=j.apply(this,arguments);if(null!==i&&void 0!==i)return i;const a=e.split(".");let l=X;for(let s=0,o=a.length;s<o;s++){const e=a[s];if(i=l[e],s===o-1)return E(i,t);if(!i)return"";l=i}return""},U=function(e){X=e||X},q=function(e){j=e||j};var J={use:U,t:W,i18n:q};function Y(e,t,i,a=!0){const l=(...e)=>W.apply(this,e);return new Promise(((s,o)=>{switch(Q(e)){case"Object":let r=l("r.confirm"),n=l("r.cancel"),d=!1,c="swalConfirmBt",h="swalCancelBt";const u=/^HTML.*Element$/;e.type&&(e.icon=e.type)&&delete e.type,e.className=e.className||"swalBoxX",e.text&&u.test(Q(e.text))&&(e.content=e.text,delete e.text),e.content&&"String"===Q(e.content)&&(e.text=e.content,delete e.content),!1!==e.button&&(e.buttons&&"Object"===Q(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(n=e.buttons.cancel.text)&&(d=!0),e.buttons.cancel.className&&(h=e.buttons.cancel.className),e.buttons.confirm.text&&(r=e.buttons.confirm.text),e.buttons.confirm.className&&(c=e.buttons.confirm.className)):e.buttons&&"Array"===Q(e.buttons)&&(e.buttons[0]&&(!0!==e.buttons[0]&&(n=e.buttons[0]),d=!0),e.buttons[1]&&!0!==e.buttons[1]&&(r=e.buttons[1])),e.buttons={confirm:{text:r,value:!0,visible:!0,className:c},cancel:{text:n,value:null,visible:d,className:h}}),e.closeOnClickOutside=e.closeOnClickOutside??!0,O()(e).then((t=>{t&&"Function"===Q(e.onOk)&&e.onOk(),s(t)})).catch((e=>{o(e)}));break;case"String":let p={title:e,buttons:{confirm:{text:l("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}},className:"swalBoxX",closeOnClickOutside:a};if(t)switch(Q(t)){case"String":p.text=t;break;case"HTMLElement":p.content=t;break}i&&(p.icon=i),O()(p).then((e=>{s(e)})).catch((e=>{o(e)}));break;case"Boolean":!1===e&&O().close();break;default:throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")}}))}function Q(e){let t=Object.prototype.toString.call(e);return t.replace(/\[object |]/g,"")}function Z(e){return e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))}function ee(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function te(e){let t=Q(e);if("Object"===t){for(let i in e)if(e.hasOwnProperty(i)){let t=Q(e[i]);"String"===t?e[i]=e[i].trim():"Object"!==t&&"Array"!==t||te(e[i])}}else if("Array"===t)for(let i=0,a=e.length;i<a;i++){let t=Q(e[i]);"String"===t?e[i]=e[i].trim():"Array"!==t&&"Object"!==t||te(e[i])}return e}function ie(e,t=[]){if("Array"===Q(e))return e.forEach(((t,i)=>{switch(Q(t)){case"Array":case"Object":ie(t);break;default:e[i]=null}})),e;if("Object"===Q(e)){for(let i in e)if(e.hasOwnProperty(i)){let a=!0;for(let e of t)if(e===i){a=!1;break}if(a)switch(Q(e[i])){case"Array":case"Object":ie(e[i]);break;default:e[i]=null}}return e}return e}function ae(e){let t=document.createElement("div");void 0!==t.textContent?t.textContent=e:t.innerText=e;let i=t.innerHTML;return t=null,i}function le(e){let t=document.createElement("div");t.innerHTML=e;let i=t.innerText||t.textContent;return t=null,i}function se(e){return new Promise((t=>{let i=new FileReader;i.readAsDataURL(e),i.onloadend=()=>{t(i.result)}}))}function oe(e){return e?.split(".").pop().toLocaleLowerCase()||""}function re(e){return"String"===Q(e)&&e.indexOf("image")>-1}function ne(e){const t=oe(e);let i="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1?i="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1?i="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1?i="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1?i="md-document":["numbers","csv","xls","xlsx"].indexOf(t)>-1?i="ios-stats":["keynote","ppt","pptx"].indexOf(t)>-1&&(i="ios-videocam"),i}function de(e,t){let i=document.createElement("a");i.href=t,i.download=e,ce(i)}function ce(e){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}const he={headers:{"Content-Type":"multipart/form-data"}};function ue(e){let t=new FormData;for(let i in e)e.hasOwnProperty(i)&&null!==e[i]&&t.append(i,e[i]);return t}function pe({group:e,condition:t,pathKey:i,childKey:a="children",path:l=[]}){if(e&&A().isObject(e))if(A().isFunction(t)){if(A().isPlainObject(e)){let s=e,o=A().cloneDeep(l);if(t(s))return i&&s[i]&&o.push(s[i]),o;if(s[a]&&!A().isEmpty(s[a])){i&&s[i]&&o.push(s[i]);let e=pe({group:s[a],condition:t,pathKey:i,childKey:a,path:o});if(!A().isEmpty(e))return e}}else if(Array.isArray(e))for(let s of e){let o=A().cloneDeep(l);if(t(s))return i&&s[i]?o.push(s[i]):o.push(e.indexOf(s)),o;if(s[a]&&s[a].length>0){i&&s[i]?o.push(s[i]):o.push(e.indexOf(s));let l=pe({group:s[a],condition:t,pathKey:i,childKey:a,path:o});if(!A().isEmpty(l))return l}}}else if(Array.isArray(e))for(let s of e){let i=A().cloneDeep(l);if(s===t)return i.push(e.indexOf(s)),i}return[]}function me(e,t,i=!1){if(!e||!t)return!1;const a="Function"===Q(t);let l,s="notFoundC",o=function(e,t){if("Array"===Q(e)){if(a&&t(e))return s=e,[];for(let i of e){if("notFoundC"!==s)break;if(a&&t(i)||i===t)return s=i,[e.indexOf(i)];if("Array"===Q(i)||"Object"===Q(i)){let a=o(i,t);if(void 0!==a)return[e.indexOf(i),...a]}}}else if("Object"===Q(e)){if(a&&t(e))return s=e,[];for(let i in e){if("notFoundC"!==s)break;if(e.hasOwnProperty(i)){if(a&&t(i)||e[i]===t)return s=e[i],[i];if("Object"===Q(e[i])||"Array"===Q(e[i])){let a=o(e[i],t);if(void 0!==a)return[i,...a]}}}}};return l=o(e,t),i?l||!1:"notFoundC"!==s&&s}function fe(e,t){for(let i=0,a=t.length;i<a;i++)if(e===t[i])return!0;return!1}function ye(e,t=2){let i=new RegExp(`(^-?\\d+\\.\\d{${t}})(\\d+$)`),a=e&&String(e)||"";return i.test(a)?Number(a.replace(i,"$1")):e}function ge(e,t={},i="get"){let a=document.createElement("form"),l=document.getElementsByTagName("body")[0];l.appendChild(a),a.setAttribute("style","display:none"),a.setAttribute("target",""),a.setAttribute("method",i);let s=e;if(window?.g){let t=Object.keys(window.g).filter((e=>e?.indexOf("URL")>-1)).map((e=>e?.replace("URL","")));for(let i of t){let t=new RegExp("^/"+i+"(?=/.*$)","i");if(t.test(e)&&window.g[i+"URL"]){s=window.g[i+"URL"]+e.replace(t,"");break}}}if(a.setAttribute("action",s),A().isPlainObject(t)){for(let i in t)if(t.hasOwnProperty(i)&&(t[i]||0===t[i]||!1===t[i]||""===t[i])){let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",i),e.setAttribute("value",t[i]),a.appendChild(e)}a.submit();let e=setTimeout((()=>{l.removeChild(a),clearTimeout(e),e=null}),8e3)}else console.error("请求数据格式有误，无法下载文件")}function ve(e,t={},i="get"){!t.hasOwnProperty("columns")||""!==t["columns"]&&null!==t["columns"]&&void 0!==t["columns"]?ge(e,t,i):Y.call(this,{title:"需要导出的列不能为空",type:"warning"})}function be(e,t,i=!1){let a;if(e&&"Array"===Q(t)){let i=localStorage.getItem(e);i?(i=JSON.parse(decodeURI(i)),a=t.filter((e=>e?.key&&-1!==i.indexOf(e?.title))).map((e=>e?.key))):a=t.map((e=>e?.key))}else a=[];return i||(a=String(a)),a}function we(e){return void 0!==e&&null!==e&&""!==e}function ke(e){const t=/^-?\d+(.\d+)?$/;return t.test(e)}function Se(e,t=!1,i=""){return function(a,l){let s;if("Array"===Q(e)){let t=[];for(let i of e)we(l.row[i])&&t.push(l.row[i]);s=t.join(i)}else s="Function"===Q(e)?e(l):l.row[e];return a("tableTooltip",{props:{content:t?""===s?"--":s??"--":s}})}}function xe(e,t=12){if("String"===Q(e)&&e.length>0){let i=document.createElement("span");i.style.fontSize=t+"px",i.style.fontFamily="inherit",i.innerHTML=e,i.style.opacity="0",i.style.position="fixed",i.style.top="3000px",document.body.append(i);const a=i.clientWidth;return document.body.removeChild(i),a}return 0}function Ce(e){if(A().isPlainObject(e)){for(let t in e)if(e.hasOwnProperty(t)&&we(e[t]))return!1;return!0}if(Array.isArray(e)){for(let t of e)if(we(t))return!1;return!0}return!we(e)}function Te(e){return"String"===Q(e)?e.replace(/[^\x00-\xff]/g,"01").length:"Number"===Q(e)?(e+="",e.replace(/[^\x00-\xff]/g,"01").length):0}function Le({group:e,condition:t,key:i,val:a,childKey:l="children"}){if("Array"!==Q(e)||"Function"!==Q(t)||"String"!==Q(i)||"String"!==Q(l))return!1;e.forEach((e=>{t(e)&&("Function"===Q(a)?e[i]=a(e[i]):e[i]=a),"Array"===Q(e[l])&&e[l].length>0&&Le({group:e[l],condition:t,key:i,val:a,childKey:l})}))}function _e(e){let t=sessionStorage.getItem("btnPermissions");return!!t&&t.split(",").indexOf(e)>-1}function Ie(e){return""===e?null:e}function Be(e){return"Number"===Q(e)&&"NaN"===String(e)}function Ke(e,t,i){if("Object"!==Q(e))return e;let a=Object.assign(e,{}),l="";for(let s in a)if(a.hasOwnProperty(s)){let e=a[s];void 0===e||""===e||"String"===Q(e)&&""===e.trim()||null===e||Be(e)?i?t?l+=s+"=&":a[s]="":delete a[s]:t&&(l+=s+"="+e+"&")}return t?l.length>0?l.substr(0,l.length-1):"":a}function De(e){e=e||window.Event,e?.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function $e(e){let t;if(Array.isArray(e)){t=[];for(let i of e)Array.isArray(i)||A().isPlainObject(i)?t.push($e(i)):we(i)&&t.push(i)}else if(A().isPlainObject(e)){t={};for(let i in e)e.hasOwnProperty(i)&&(Array.isArray(e[i]||A().isPlainObject(e[i]))?t[i]=$e(e[i]):we(e[i])&&(t[i]=e[i]))}return t}function Ae(e){const t=window.open();t.document.write(e);const i=setTimeout((()=>{t.print(),window.clearTimeout(i)}),10)}function Re(e){let t=[],i=e;while(e=e.previousSibling)1===e.nodeType&&t.push(e);while(i=i.nextSibling)1===i.nodeType&&t.push(i);return t}var Oe=b(742),Ne=b.n(Oe),Me=b(513);let Pe=!1;function Ve({height:e,width:t=416,title:i,content:a,onOk:l,onCancel:s,onClose:o,okText:r,cancelText:n,noWarnIcon:d,footerAlign:c,cancelBt:h}){const u=(...e)=>W.apply(this,e),p=e&&Number(e)-90>100?Number(e)-90+"px":0,m=p||"100px";a=a||u("r.info.text");const f="String"===Q(a),y="Function"===Q(a);Me.Modal.warning({width:t,render:e=>e("div",{class:"customMessageBox",style:{height:m}},[e("div",{class:"containerN"},[e("div",{class:"titleN"},[e("span",i||u("r.info.title")),e("Button",{class:"fr closeN ivu-btn ivu-btn-text",props:{type:"text"},on:{click(){Me.Modal.remove(),o&&"Function"===Q(o)&&o()}}},[e("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}})])]),e("div",{class:"contentN",style:{textAlign:f?"center":"left"}},[e("i",{class:f&&!0!==d?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e("div",{class:"msgBoxConO"},y?[a(e)]:a)]),e("div",{class:"footerN",style:{textAlign:c||"center"}},[e("Button",{class:"okBtN ivu-btn ivu-btn-default",on:{click(e){if(l&&"function"===typeof l){const t=l();if(t&&"Promise"===Q(t)){Pe=!0;const i=e?.currentTarget||e?.target;if(i){i.classList.add("ivu-btn-loading"),i.nextSibling.setAttribute("disabled","disabled");const e=i.parentElement?.parentElement.querySelector(".titleN .closeN");e.classList.add("disabled")}Promise.resolve(t).then((()=>{Pe=!1,Me.Modal.remove()})).catch((()=>{Pe=!1,Me.Modal.remove()}))}else Me.Modal.remove()}}}},[e("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e("span",r||u("r.confirm"))]),e("Button",{class:["cancelBtN ivu-btn ivu-btn-default",!1===h&&"hide"],on:{click(){Me.Modal.remove(),"Function"===Q(s)&&s()}}},n||u("r.cancel"))])])])})}let Ge=0,Fe=document.createElement("div");function ze(e){e?Fe.classList.add("show"):Fe.classList.remove("show")}function Ee(e){let t=Ge;e?Ge++:Ge>0&&Ge--,t!==Ge&&(0===Ge?ze(!1):0===t&&ze(!0))}Fe.setAttribute("class","spinModal"),Fe.innerHTML='<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="5" stroke-miterlimit="10" /></svg></div>',window.onload=function(){document.getElementsByTagName("body")[0].append(Fe)};const Xe=window.location.origin;let He=Ne().create({baseURL:Xe,withCredentials:!0});function je(){console.info("store为空，请在安装插件时传入store实例，vuex：Vue.use(plugRQw,{store})，Pinia：Vue.use(plugRQw,{useStore})")}function We(){if(He.store)if("function"===typeof He.store){const e=He.store();e.logout&&e.logout()}else He.store.dispatch("logout");else je()}function Ue(e,t,i,a){a?.spin&&Ee(!1);let l=!0,s=e?.data;if(s){i=i||[];for(let e of i)s=s[e],l=l&&s;return l?s:(t&&console.warn(t),!1)}return t&&console.warn(t),!1}function qe(e,t,i,a,l,s,o){return new Promise(((r,n)=>{switch(e){case"get":He.get(t,{params:i}).then((e=>{let t=Ue(e,a,l,s);t?r(t):n(e)})).catch((e=>{Ue({},a,l,s),n(e)}));break;case"delete":let e=o?"params":"data";He.delete(t,{[e]:i}).then((e=>{let t=Ue(e,a,l,s);t?r(t):n(e)})).catch((e=>{Ue({},a,l,s),n(e)}));break;case"post":He.post(t,i,s).then((e=>{let t=Ue(e,a,l,s);t?r(t):n(e)})).catch((e=>{Ue({},a,l,s),n(e)}));break;case"put":He.put(t,i,s).then((e=>{let t=Ue(e,a,l,s);t?r(t):n(e)})).catch((e=>{Ue({},a,l,s),n(e)}));break;default:}}))}function Je(e,t,i,a,l,s={},o){return new Promise(((r,n)=>{if(t){s?.spin&&Ee(!0);let d,c=t;if(window?.g){let e=Object.keys(window.g).filter((e=>e?.indexOf?.("URL")>-1)).map((e=>e?.replace?.("URL","")));for(let i of e){let e=new RegExp("^/"+i+"(?=/.*$)","i");if(e.test(t)&&window.g[i+"URL"]){c=window.g[i+"URL"]+t.replace(e,"");break}}}if("multipart/form-data"===s?.headers?.["Content-Type"])d=i;else if(d=Array.isArray(i)?[]:{},i&&!A().isEmpty(i))if(Array.isArray(i))for(let e of i)(e||0===e||!1===e||""===e&&!s.noEmptyStr)&&d.push(e);else for(let e in i)i.hasOwnProperty(e)&&(i[e]||0===i[e]||!1===i[e]||""===i[e]&&!s.noEmptyStr)&&(d[e]=i[e]);let h=e.toLowerCase();qe(h,c,d,a,l,s,o).then((e=>{r(e)})).catch((e=>{n(e)}))}else console.error("没有请求地址:url"),n("没有请求地址:url")}))}He.interceptors.request.use((e=>e),(e=>Promise.reject(e))),He.interceptors.response.use((e=>(403!==e?.data?.code&&409!==e?.data?.code||Ve({content:W("r.http."+e.data.code),onOk:We}),e)),(e=>(403!==e?.response?.status&&409!==e?.response?.status||Ve({content:W("r.http."+e.response.status),onOk:We}),console.warn("请求出错：",e),Promise.reject(e))));var Ye={init(e){He.store=e},post(e,t={},i,a,l){return new Promise(((s,o)=>{Je("post",e,t,i,a,l).then((e=>{s(e)})).catch((e=>{o(e)}))}))},put(e,t={},i,a,l){return new Promise(((s,o)=>{Je("put",e,t,i,a,l).then((e=>{s(e)})).catch((e=>{o(e)}))}))},get(e,t={},i,a,l){return new Promise(((s,o)=>{Je("get",e,t,i,a,l).then((e=>{s(e)})).catch((e=>{o(e)}))}))},delete(e,t={},i,a,l,s=!0){return new Promise(((o,r)=>{Je("delete",e,t,i,a,l,s).then((e=>{o(e)})).catch((e=>{r(e)}))}))},all:Ne().all,spread:Ne().spread,config:He};let Qe=[],Ze=[];const et=function(e){e?.beforeEach?e.beforeEach(((e,t,i)=>{Qe.map((e=>{window.clearTimeout(e)})),Ze.map((e=>{window.clearInterval(e)})),Qe.length=0,Ze.length=0,i()})):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},tt=function(e,t){let i=window.setTimeout(e,t);return Qe.push(i),i},it=function(e,t){let i=window.setInterval(e,t);return Ze.push(i),i};var at={init:et,setTimeout:tt,setInterval:it},lt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagePro",class:{pageProDefault:"default"===e.size}},[e.showTotal?t("span",{staticClass:"pageTotal"},[e._v(e._s(e.t("r.total")+" ")+e._s(e.total)+e._s(" "+e.t("r.items")))]):e._e(),t("Page",{ref:"pageRef",attrs:{current:e.current,"page-size":e.pageSizeT,total:e.total,size:e.size,"page-size-opts":e.pageSizeOpts,disabled:e.disabled,simple:""},on:{"update:current":function(t){e.current=t}}}),e.showSizer?t("div",{staticClass:"pageProSize"},[t("Select",{attrs:{size:e.size,transfer:e.transfer,disabled:e.disabled},model:{value:e.pageSizeT,callback:function(t){e.pageSizeT=t},expression:"pageSizeT"}},e._l(e.pageSizeOpts,(function(i){return t("Option",{key:i,staticStyle:{"text-align":"center"},attrs:{value:i}},[e._v(e._s(i)+" "+e._s(e.t("r.page")))])})),1)],1):e._e()],1)},st=[],ot={methods:{t(...e){return W.apply(this,e)}}},rt={name:"pagePro",model:{prop:"modelValue",event:"on-change"},mixins:[ot],props:{modelValue:{type:Number,default:""},total:{type:Number,default:0},pageSize:{type:Number,default:10},size:{type:String,validator:e=>fe(String(e),["small","default"]),default:"default"},pageSizeOpts:{type:Array,default(){return this.pageSizes||[10,20,30,40]}},showTotal:{type:Boolean,default(){return this.pageShowTotal}},showSizer:{type:Boolean,default(){return this.pageShowSizer}},transfer:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{currentPadding:16}},computed:{current:{get(){return this.modelValue},set(e){this.$emit("on-change",e)}},pageSizeT:{get(){return this.pageSize},set(e){this.$emit("on-page-size-change",e),1!==this.current&&this.$nextTick((function(){this.current=1}))}},currentSize(){const e=xe(String(this.total||0),this.fontSizeBase||14)+this.currentPadding+2;return e<32?32:e}},watch:{currentSize:{handler(e){this.$nextTick((function(){this.changeCurrentSize(e)}))},immediate:!0}},mounted(){this.currentPadding=this.getPadding()},methods:{getPadding(){const e=this.$refs.pageRef?.$el?.querySelector?.("input");if(!e)return 16;const t=window.getComputedStyle(e),i=t?.paddingLeft,a=t?.paddingRight;return i&&a?Number(i.replace("px",""))+Number(a.replace("px","")):16},changeCurrentSize(e){const t=this.$refs.pageRef?.$el?.querySelector?.("input");t?.style&&(t.style.width=`${e}px`)}}},nt=rt,dt=_(nt,lt,st,!1,null,null,null),ct=dt.exports,ht={name:"btTablePage",components:{pagePro:ct},props:{url:{type:String,default:""},method:{type:String,default:"get"},searchData:{type:Object,default(){return{}}},columns:{type:Array,default(){return[]}},dataHandler:{type:Function},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{validator:e=>fe(e,["left","right",!1]),default:!1},rowClickSelect:{type:Boolean,default:!0},data:{type:Array,default(){return[]}},pageSize:{type:Number,default:10},sortable:{validator:e=>fe(e,["custom",""]),default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{type:Number,default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},orderDefault:{type:String,default:"desc"},orderKey:{type:String,default:"id"},orderKeyFormat:{validator:e=>fe(e,["underline","camelcase"]),default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1},pageComponentSize:{type:String,default:"default"},noElevator:{type:Boolean,default:!1},usePagePro:{type:Boolean,default(){return this.btTablePageUsePagePro}},showTotal:{type:Boolean,default(){return this.pageShowTotal}},showSizer:{type:Boolean,default(){return this.pageShowSizer}}},data(){return{pageSizes:this.pageSizes||[10,20,30,40],dataT:this.data,pageSizeT:localStorage.getItem("btPageSize")&&Number(localStorage.getItem("btPageSize"))||this.pageSize,current:1,total:0,selected:[],currentKey:null,currentIndex:null,key:this.orderKey,order:this.orderDefault,tableContainerHeight:300}},computed:{columnsFixed(){for(let e of this.columns)if(e?.fixed)return!0;return!1},fixedTable(){return this.selectionFixed||this.columnsFixed},queryData(){let e={...this.searchData,current:this.current,size:this.pageSizeT};return"custom"===this.sortable&&("underline"===this.orderKeyFormat?e[this.order]=ee(this.key):"camelcase"===this.orderKeyFormat&&(e[this.order]=Z(this.key))),e},columnsT(){let e=this.columns.filter((e=>"selection"!==e.type));if(this.selection||this.radio){let t;t=this.radio?{title:" ",width:65,render:(e,t)=>e("Radio",{props:{value:t.row.btChecked}})}:{type:"selection",width:60},this.selectionFixed&&(t.fixed=this.selectionFixed),e.unshift(t)}return e.forEach((e=>{"custom"===this.sortable?e?.key&&!0!==e.sortable&&!1!==e.sortable&&(e.sortable="custom"):e.sortable=!1,e?.align||(e.align=this.btTablePageAlign||"center")})),e.forEach((e=>{e?.key&&void 0===e.render&&(e.tooltip?e.render=Se(e.key,this.tableEmptyTdHandle,""):e.render=(t,i)=>{let a=i.row[e.key];return this.tableEmptyTdHandle?t("span",""===a?"--":a??"--"):t("span",a)})})),e},dataS:{get(){return this.dataT.map(((e,t)=>({btKey:"bt-"+t,btChecked:!1,...e})))},set(e){this.dataT=e}},selectedIds(){return this.selected.map((e=>e?.id))},selectedKeys(){return this.selected.map((e=>e?.btKey))}},created(){this.initTable()},watch:{searchData:{handler(){this.search()},deep:!0},orderKey(e){this.key=e},orderDefault(e){this.order=e}},methods:{initTable(){this.initData&&this.getDataAndClickRow()},addRow(e){this.dataT.unshift(A().cloneDeep(e)),tt((()=>{this.$refs.TableXXX.clickCurrentRow(0)}),100)},setRowData(e,t,i){let a=null;if(A().isBoolean(t)&&t?a=this.currentIndex:A().isNumber(t)&&(a=t),null!==a){let t=this.dataT[a];for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);i&&tt((()=>{this.$refs.TableXXX.clickCurrentRow(a)}),10)}},deleteRow(e){this.dataT.splice(e,1),tt((()=>{this.$refs.TableXXX.clickCurrentRow(0)}),100)},selectRow(e){const t=e;if(A().isNumber(t))this.clearSelect(),this.currentIndex=t,this.currentKey=this.dataS[t].btKey,this.$refs.TableXXX.clickCurrentRow(t);else if(A().isArray(t)){if(this.radio||!this.selection)return;this.clearSelect();for(let e of t)this.$refs.TableXXX.clickCurrentRow(e)}else if(A().isFunction(t))for(let i=0;i<this.dataS.length;i++){const e=this.dataS[i];t(e)&&this.$refs.TableXXX.clickCurrentRow(i)}},clearSelect(){if(this.radio){if(this.selectedKeys.length>0&&this.dataS.length>0){let e=this.selectedKeys[0].split("-")[1];this.$set(this.dataS[e],"btChecked",!1)}}else this.$refs.TableXXX.selectAll(!1);this.selected.length>0&&(this.selected=[],this.$emit("on-selection-change",[])),this.currentKey=null,this.currentIndex=null},clearTableData(){this.$set(this,"dataT",[]),this.clearSelect(),this.current=1,this.total=0},search(){this.current=1,this.getDataAndClickRow()},getDataAndClickRow(e,t,i){this.radio&&(e||-1!==this.rowClickNum)?this.getTableData(t,i,e).then((()=>{this.dataT.length>0&&tt((()=>{e?this.$refs.TableXXX.clickCurrentRow(this.currentIndex||0):this.$refs.TableXXX.clickCurrentRow(this.rowClickNum)}),10)})):this.getTableData()},onRowClick(e,t){e.btChecked&&this.radio||(this.selection||this.radio)&&this.rowClickSelect&&this.$refs.TableXXX.toggleSelect(t)},onSelect(e,t){this.currentKey=t.btKey,this.currentIndex=Number(t.btKey.split("-")[1]),this.radio&&this.$set(this.dataT[this.currentIndex],"btChecked",!0)},selectionHandle(e){if(this.radio)for(let t of this.dataS)t?.btKey&&t.btKey!==this.currentKey&&this.$set(this.dataT[Number(t.btKey.split("-")[1])],"btChecked",!1);this.selected=e},getSelected(){return A().cloneDeep(this.selected)},changePage(e){this.current=e,this.getDataAndClickRow()},pageSizeChange(e){this.pageSizeT=e,localStorage.setItem("btPageSize",e),1===this.current&&this.getDataAndClickRow()},onSortChange({key:e,order:t}){"normal"===t?(this.key=this.orderKey,this.order=this.orderDefault):(this.key=e,this.order=t),this.current=1,this.getTableData()},getTableData(e,t,i){return new Promise((a=>{e&&(this.order=e),t&&(this.key=t),this.url&&""!==this.url?Ye[this.method](this.url,this.queryData,null,[],{spin:this.getDataLoading}).then((l=>{let s;i||this.clearSelect(),s="Function"===Q(this.dataHandler)?this.dataHandler(l):l,s?.data?(s.data?.records||null===s.data?.records?this.dataT=s.data.records||[]:s.data?.page?(s.data.page?.records||null===s.data.page?.records)&&(this.dataT=s.data.page.records||[]):s.data?.data?(s.data.data?.records||null===s.data.data?.records)&&(this.dataT=s.data.data.records||[]):this.dataT=s.data,this.total=s.data?.page?.total||s.data?.data?.total||s.data?.total||s.total||0,0===this.total&&this.current>1&&0===this.dataT?.length?this.current=1:this.current>1&&this.total<=(this.current-1)*this.pageSizeT&&(this.current--,this.$nextTick((function(){this.getTableData(e,t)}))),this.$emit("on-data-change",s),a(s)):(console.warn("请求返回数据有误，无法使用"),this.clearTableData(),this.$emit("on-data-change",s))})).catch((e=>{console.warn(e),this.clearSelect(),this.clearTableData(),this.$emit("on-data-change",e)})):console.warn("没有有效的请求地址，无法获取表格数据")}))}}},ut=ht,pt=_(ut,K,D,!1,null,null,null),mt=pt.exports,ft=function(){var e=this,t=e._self._c;return t("div",{style:e.wellStyle},[t("div",{class:["wellCardR",{flexColumnBox:!e.fitToContent}]},[t("div",{class:["panelHeader",{notGrow:!e.fitToContent}]},[t("div",{staticClass:"fl",staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(e.title||e.t("r.title"))+" ")]),t("div",{staticClass:"btsF"},[e._t("bts")],2)]),e.fitToContent?t("div",[e._t("default")],2):t("div",{staticClass:"growFlexItem relativeBox"},[t("div",{staticClass:"fullFlowContent"},[e._t("default")],2)])])])},yt=[],gt={name:"wellCard",mixins:[ot],props:{title:{type:String},fitToContent:{type:Boolean,default:!1},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},inline:{type:Boolean,default:!1}},computed:{wellStyle(){let e={};this.inline&&(e.display="inline-block");let t=["width","height"];for(let i of t)"String"===Q(this[i])?e[i]=this.fitToContent?"fit-content":this[i]:"Number"===Q(this[i])&&this[i]>0&&(e[i]=this.fitToContent?"fit-content":this[i]+"px");return e}}},vt=gt,bt=_(vt,ft,yt,!1,null,null,null),wt=bt.exports,kt=function(){var e=this,t=e._self._c;return t("Table",{key:e.updateDomKey,ref:"tabXY",class:{tableTreeKM:!0,lightHeadO:e.lightHead},attrs:{columns:e.columnsX,data:e.dataX,"highlight-row":e.highlightRow}})},St=[],xt={name:"tableTree",props:{columns:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},highlightRow:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1}},data(){return{dataX:[],noKey:1,updateDomKey:Math.floor(1e8*Math.random()+1e4)}},computed:{columnsX(){let e=this.columns.filter((e=>"selection"!==e?.type));if(e[0]){let t=e[0].key;e[0].renderHeader=(e,t)=>e("div",{style:{paddingLeft:"20px"}},t.column.title),e[0].render=(e,i)=>e("div",{class:"tableTxtBt",style:{paddingLeft:20*(i.row.parentNoKey.length+1)+"px",textAlign:"left"}},[e("Checkbox",{props:{value:i.row.checkBox},directives:[{name:"show",value:this.radio}],on:{"on-change":e=>{!0===e?(this.setCollectionVal(this.dataX,{checkBox:!1}),this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[i.index].ownKey}),this.$emit("on-select",i.row)):this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[i.index].ownKey})},click:e=>{e?.preventDefault?.()}}}),e("Icon",{props:{type:i.row._hideChild?"ios-arrow-forward":!1===i.row._hideChild?"ios-arrow-down":""},style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(i.index)}}}),e("span",{style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(i.index)}}}," "+i.row[t])])}return e}},mounted(){this.updateTab()},watch:{data(){this.updateTab()}},methods:{setCollectionVal(e,t){if(t&&we(t.checkBox)&&"Array"===Q(e))if(t.ownKey)for(let i of e)i?.ownKey===t.ownKey&&(i.checkBox=t.checkBox),"Array"===Q(i?.childrenXK)&&i?.childrenXK.length>0&&this.setCollectionValB(i?.childrenXK,t);else for(let i of e)i.checkBox=t.checkBox,"Array"===Q(i?.childrenXK)&&i?.childrenXK.length>0&&this.setCollectionValB(i?.childrenXK,t)},setCollectionValB(e,t){if(t&&we(t.checkBox)&&"Array"===Q(e))if(t.ownKey)for(let i of e)i?.ownKey===t.ownKey&&(i.checkBox=t.checkBox),"Array"===Q(i?.childrenXK)&&i?.childrenXK.length>0&&this.setCollectionVal(i?.childrenXK,t);else for(let i of e)i.checkBox=t.checkBox,"Array"===Q(i?.childrenXK)&&i?.childrenXK.length>0&&this.setCollectionVal(i?.childrenXK,t)},handleResize(){this.$refs.tabXY.handleResize()},updateTab(){let e=A().cloneDeep(this.data);this.addHideChildAttr(e),this.dataX=A().cloneDeep(e),this.showDefault()},showDefault(){for(let e=0,t=this.dataX.length;e<t;e++){let t=this.dataX[e];if(!1===t?.hideChild&&!0===t?._hideChild){this.showHideClick(e);break}}},showHideClick(e){if(this.dataX[e]._hideChild){this.dataX[e]._hideChild=!1;let t=A().cloneDeep(this.dataX[e].childrenXK);this.dataX.splice(e+1,0,...t),this.showDefault()}else!1===this.dataX[e]._hideChild&&this.hideChildNode(e)},addHideChildAttr(e,t){for(let i of e)i.ownKey=this.noKey,this.noKey++,i.parentNoKey=i.parentNoKey||[],void 0!==t&&i.parentNoKey.push(...t),i?.children&&(i.childrenXK=i.children,delete i.children),"Array"===this.myTypeof(i?.childrenXK)&&i?.childrenXK.length>0&&(!1!==i._hideChild&&(i._hideChild=!0),this.addHideChildAttrB(i.childrenXK,[i.ownKey,...i.parentNoKey]))},addHideChildAttrB(e,t){for(let i of e)i.ownKey=this.noKey,this.noKey++,i.parentNoKey=i.parentNoKey||[],void 0!==t&&i.parentNoKey.push(...t),i?.children&&(i.childrenXK=i.children,delete i.children),"Array"===this.myTypeof(i?.childrenXK)&&i?.childrenXK?.length>0&&(!1!==i._hideChild&&(i._hideChild=!0),this.addHideChildAttr(i.childrenXK,[i.ownKey,...i.parentNoKey]))},hideChildNode(e){let t=this.getChildCount(this.dataX[e].ownKey);t&&this.dataX.splice(e+1,t),Le({group:[this.dataX[e]],condition:e=>!1===e?._hideChild,key:"_hideChild",val:!0,childKey:"childrenXK"})},addLocalNode(e,t){return new Promise(((i,a)=>{!A().isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!"),A().isPlainObject(t)&&!A().isEmpty(t)||a("节点数据异常，无法添加节点！");let l=this.dataX[e];!1!==l._hideChild&&(l._hideChild=!1);let s=[l.ownKey,...l.parentNoKey],o={...t,ownKey:++this.noKey,parentNoKey:s};for(let e of this.dataX){let t=s.indexOf(e?.ownKey);if(t>-1){void 0===e?.childrenXK&&(e.childrenXK=[]);let i=e?.childrenXK,a=e;for(let l=0;l<t+1;l++){if(l===t){i.push(A().cloneDeep(o)),void 0===e?._hideChild&&(e._hideChild=!0);break}a=A().find(a.childrenXK,(e=>-1!==s.indexOf(e?.ownKey))),void 0===a._hideChild&&(a._hideChild=!0),void 0===a.childrenXK&&(a.childrenXK=[]),i=a.childrenXK}}}this.dataX.splice(e+1+this.getChildCount(l.ownKey),0,A().cloneDeep(o)),this.updateDomKey=Math.floor(1e8*Math.random()+1e4),i(A().cloneDeep(o))}))},editLocalNode(e,t){return new Promise(((i,a)=>{!A().isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!"),A().isPlainObject(t)&&!A().isEmpty(t)||a("节点数据异常，无法添加节点！");let l=this.dataX[e],s=Object.assign(l,t);this.dataX[e]=s;for(let e of this.dataX){let t=s.parentNoKey.indexOf(e?.ownKey);if(t>-1){let i=e?.childrenXK;for(let e=0;e<t+1;e++){if(e===t){let e=A().findIndex(i,(e=>e?.ownKey===s?.ownKey));e>-1&&(i[e]=A().cloneDeep(s));break}{let e=A().find(i,(e=>-1!==s.parentNoKey.indexOf(e?.ownKey)));i=e.childrenXK}}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),i(A().cloneDeep(s))}))},deleteLocalNode(e){return new Promise(((t,i)=>{!A().isInteger(e)||e<0?i("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&i("无效的索引序号index!");let a=this.dataX[e];this.dataX.splice(e,1),this.deleteLocalChildNode(a.ownKey,e);for(let e of this.dataX){let t=a.parentNoKey.indexOf(e?.ownKey);if(t>-1){let i=e?.childrenXK,l=e;for(let e=0;e<t+1;e++){if(e===t){let e=A().findIndex(i,(e=>e?.ownKey===a?.ownKey));e>-1&&(i.splice(e,1),0===i.length&&(l._hideChild=null));break}l=A().find(i,(e=>-1!==a.parentNoKey.indexOf(e?.ownKey))),i=l.childrenXK}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),t(A().cloneDeep(this.dataX))}))},deleteLocalChildNode(e,t){let i=this.getChildCount(e);i&&this.dataX.splice(t,i)},getChildCount(e){let t=0;for(let i of this.dataX)-1!==i?.parentNoKey?.indexOf?.(e)&&t++;return t}}},Ct=xt,Tt=_(Ct,kt,St,!1,null,null,null),Lt=Tt.exports,_t=function(){var e=this,t=e._self._c;return t("div",[t("Upload",{attrs:{name:"files",action:e.urlT,"before-upload":e.handelManualUpload,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-exceeded-size":e.overSize,"on-preview":e.onPreview,"on-remove":e.onRemove,"on-format-error":e.onFormatError,data:e.data,"max-size":e.maxSize,"show-upload-list":!1,"with-credentials":e.withCredentials,format:e.format,multiple:e.multiple||!1,disabled:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)}},[t("Button",{class:{disabledR:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)},attrs:{icon:"md-cloud-upload"}},[e._v(e._s(e.t("r.selectFile")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"img"===e.previewType&&e.fileDefaultList.length>0,expression:"previewType === 'img' && fileDefaultList.length > 0"}],staticClass:"previewBoxM"},e._l(e.fileDefaultList,(function(i,a){return e.manualUpload||null===i?.id?e._e():t("div",{key:i?.id,staticClass:"previewImg",class:{previewLoading:"loading"===i?.mimeType}},[t("div",{directives:[{name:"show",rawName:"v-show",value:"loading"===i?.mimeType,expression:"item?.mimeType === 'loading'"}],staticClass:"imgLoading"},[t("div",{staticClass:"loader-div",attrs:{"data-loader":"circle-side"}})]),t("img",{directives:[{name:"show",rawName:"v-show",value:"loading"!==i?.mimeType,expression:"item?.mimeType !== 'loading'"}],attrs:{src:e.url+"/"+i?.id+"/download?preview=true",alt:i?.name}}),t("div",{directives:[{name:"show",rawName:"v-show",value:"loading"!==i?.mimeType,expression:"item?.mimeType !== 'loading'"}],staticClass:"deleteModal"},[t("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:e.t("r.fView")},on:{click:function(t){return e.fullScreenImgByDom(e.fileImgSrcList,a)}}}),t("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:e.t("r.delete")},on:{click:function(t){return e.deleteById(t,i?.id)}}})],1)])})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"localImg"===e.previewType&&e.fileSrcList.length>0,expression:"previewType === 'localImg' && fileSrcList.length > 0"}],staticClass:"previewBoxM"},e._l(e.fileSrcList,(function(i,a){return e.manualUpload&&null!==i?t("div",{key:"manualImg"+a,staticClass:"previewImg"},[t("img",{attrs:{src:i,alt:"manualImg"+a}}),t("div",{staticClass:"deleteModal"},[t("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:e.t("r.fView")},on:{click:function(t){return e.listExpand(a)}}}),t("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)]):e._e()})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"localList"===e.previewType&&e.fileList.length>0,expression:"previewType === 'localList' && fileList.length > 0"}],staticClass:"customFileListM"},e._l(e.fileList,(function(i,a){return e.manualUpload&&null!==i?t("p",{key:"manualItem"+a,staticClass:"customFileListItem"},[i?.name?t("Icon",{staticClass:"fileTypeIco",attrs:{type:e.getFileTypeIconByName(i?.name),size:"20"}}):e._e(),t("span",{staticClass:"upNameT",attrs:{title:e.t("r.download")},on:{click:function(t){return e.downloadManualFile(i)}}},[e._v(e._s(e.getName(i)))]),t("span",{staticClass:"btBoxJ"},[e.showPreview(i)?t("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"22",title:e.t("r.fView")},on:{click:function(t){return e.listExpand(i)}}}):e._e(),t("Icon",{staticClass:"listBtH",attrs:{type:"md-close",size:"22",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)],1):e._e()})),0),t("div",{directives:[{name:"show",rawName:"v-show",value:"list"===e.previewType&&e.fileDefaultList.length>0,expression:"previewType === 'list' && fileDefaultList.length > 0"}],staticClass:"customFileListM"},e._l(e.fileDefaultList,(function(i,a){return e.manualUpload||null===i?e._e():t("div",{key:"defaultItem"+a,staticClass:"customFileListItem"},[t("div",{directives:[{name:"show",rawName:"v-show",value:"loading"===i?.mimeType,expression:"item?.mimeType === 'loading'"}],staticClass:"listLoading"},[t("div",{staticClass:"loader-div",attrs:{"data-loader":"circle-side"}})]),t("Icon",{directives:[{name:"show",rawName:"v-show",value:"loading"!==i?.mimeType,expression:"item?.mimeType !== 'loading'"}],staticClass:"fileTypeIco",attrs:{type:e.getFileTypeIconByName(i?.name),size:"20"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==i?.mimeType,expression:"item?.mimeType !== 'loading'"}],staticClass:"upNameT",attrs:{title:e.t("r.download")},on:{click:function(t){return e.downloadDefaultFile(i)}}},[e._v(e._s(i?.name||e.t("r.file")+(a+1)))]),t("span",{directives:[{name:"show",rawName:"v-show",value:"loading"!==i?.mimeType,expression:"item?.mimeType !== 'loading'"}],staticClass:"btBoxJ"},[e.showPreview(i)?t("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"22",title:e.t("r.fView")},on:{click:function(t){return e.listExpand(i)}}}):e._e(),t("Icon",{staticClass:"listBtH",attrs:{type:"md-close",size:"22",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(a)}}})],1)],1)})),0)],1)},It=[];let Bt=0;function Kt(e,t,i,a){a&&(a.innerHTML=e[t]?.name??"",e[t]?.name?a.classList.contains("hide")&&a.classList.remove("hide"):a.classList.contains("hide")||a.classList.add("hide")),i&&(i.src=e[t]?.src??e[t],Bt=t)}function Dt(e,t,i,a){if(e){let e;e=Bt-1<0?t.length-1:Bt-1,Kt(t,e,i,a)}}function $t(e,t,i,a){if(e){let e;e=Bt+1>t.length-1?0:Bt+1,Kt(t,e,i,a)}}function At(e,t=0){const i=(...e)=>W.apply(this,e),a=i("r.closePreview"),l=i("r.fullImg"),s=i("r.last"),o=i("r.next");let r,n,d;Bt=t;const c=Array.isArray(e);c?(n=e[Bt]?.src??e[Bt],d=e[Bt]?.name):n=e,r=c&&e.length>1?`${s} ： ←, ↑, A, W | ${o} ： →, ↓, D, S | ${a} ： Esc`:`${a} ： Esc`;let h=A().first(document.getElementsByTagName("body")),u=document.createElement("div");function p(){let e=A().first(document.getElementsByTagName("body"));e&&e.removeChild(u),document.removeEventListener("keyup",y)}u.setAttribute("class","fullScreenImgByDom"),u.innerHTML=`<div class="previewInner"><div class="pageFBt left${c&&e.length>1?"":" hide"}"><i class="ivu-icon ivu-icon-ios-arrow-back" title="${s}" ></i></div><img src="${n}" alt="${l}" ><div class="pageFBt right${c&&e.length>1?"":" hide"}"><i class="ivu-icon ivu-icon-ios-arrow-forward" title="${o}" ></i></div><i class="ivu-icon ivu-icon-md-close" title="${a}" ></i></div><p class="pNotice cannotSelect">${r}</p><p class="pName ${d?"":"hide"}">${d}</p>`,u.querySelector(".ivu-icon-md-close").addEventListener("click",p);const m=u.querySelector("img"),f=u.querySelector(".pName");function y(t){37===t.keyCode||38===t.keyCode||87===t.keyCode||65===t.keyCode?Dt(c,e,m,f):39===t.keyCode||40===t.keyCode||83===t.keyCode||68===t.keyCode?$t(c,e,m,f):27===t.keyCode&&p()}u.querySelector(".pageFBt.left").addEventListener("click",(function(){Dt(c,e,m,f)})),u.querySelector(".pageFBt.right").addEventListener("click",(function(){$t(c,e,m,f)})),document.addEventListener("keyup",y),h.appendChild(u),u.focus({preventScroll:!0})}var Rt={name:"uploadGroup",mixins:[ot],model:{prop:"fileIdListProp",event:"on-file-id-change"},props:{fileIdListProp:{type:[Array,Number,String,File],default(){return[]}},url:{type:String,default(){return window.g?.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""}},data:{type:Object,default(){return{appId:0,moduleId:0,typeId:0}}},manualUpload:{type:Boolean,default:!1},maxSize:{type:Number,default:0},length:{type:Number,default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{type:Array,default(){return[]}},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{getFileTypeIconByName:ne,fullScreenImgByDom:At,fileSrcList:[],fileDefaultList:[],localImgSrcList:[],tempStorage:{}}},computed:{previewType(){return!this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"img":this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"localImg":!this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?void 0:"list":"localList"},urlT(){return this.manualUpload?"//jsonplaceholder.typicode.com/posts/":this.url},fileList:{get(){return this.manualUpload?this.fileIdList:this.fileIdList.map((e=>({id:e})))},set(e){this.manualUpload?this.fileIdList=e:this.fileIdList=e.map((e=>e?.id))}},fileIdList:{get(){switch(Q(this.fileIdListProp)){case"Number":return[this.fileIdListProp];case"String":return-1!==this.fileIdListProp.indexOf("--")?[]:/^\d*$/.test(this.fileIdListProp)?[Number(this.fileIdListProp)]:[this.fileIdListProp];case"Array":return this.fileIdListProp.filter((e=>"--"!==e));case"File":return[this.fileIdListProp];default:return[]}},set(e){if(1===this.length){let t=A().first(e);this.$emit("on-file-id-change",t||0===t?t:null)}else this.$emit("on-file-id-change",A().cloneDeep(e))}},fileListItemIsIMG(){let e;e=this.manualUpload?this.fileList:this.fileDefaultList;for(let t of e){let e;if(e=this.manualUpload?t?.type:t?.mimeType,!e||e&&!re(e)&&"loading"!==e)return!1}return!0},fileDefaultImgList(){return this.fileDefaultList.filter((e=>re(e?.mimeType)))},fileImgSrcList(){return this.fileDefaultImgList.map((e=>({src:this.url+"/"+e?.id+"/download?preview=true",name:e?.name})))},localImgList(){return this.fileList.filter((e=>re(e?.type)))}},watch:{localImgList:{async handler(e){this.localImgSrcList=await this.getFileSrcList(e)}},fileList:{async handler(e){if("localImg"===this.previewType)this.fileSrcList=e?.length>0?await this.getFileSrcList(e):[];else if(e?.length>0&&"localList"!==this.previewType){let t=A().cloneDeep(e);const i=A().cloneDeep(this.fileDefaultList);for(let e of t)if(void 0===e?.name)if(e.id){const a=A().find(i,(t=>t?.id===e.id));a?(e.name=a.name,e.mimeType=a.mimeType):this.tempStorage.hasOwnProperty(e.id)?(e.name=this.tempStorage[e.id].name,e.mimeType=this.tempStorage[e.id].mimeType):(e.mimeType="loading",Ye.get(this.url+"/"+e.id).then((i=>{e.name=i?.data?.returnValue?.[0]?.name||this.t("r.file")+A().indexOf(t,e),this.$set(e,"mimeType",i?.data?.returnValue?.[0]?.mimeType||"unknown")})).catch((()=>{e.name=this.t("r.file")+A().indexOf(t,e)})))}else e.name=this.t("r.unknown");this.fileDefaultList=t}else this.fileDefaultList=[]},immediate:!0,deep:!0}},methods:{clear(){this.fileList=[]},getName(e){return e?.name||e?.split&&A().last(e.split("/"))||e},async getFileSrcList(e){let t=[];for(let i of e){let e=await se(i);t.push(e)}return t},clearManualItem(e){if(!this.disabled){let t=this.fileList;t.splice(e,1),this.fileList=t}},downloadDefaultFile(e){e?.id&&window.open(this.url+"/"+e.id+"/download")},showPreview(e){return this.manualUpload?e?.type&&re(e.type):e?.id&&e.mimeType&&re(e.mimeType)},async listExpand(e){if(this.manualUpload){let t,i;"number"===typeof e?(t=e,i=this.fileSrcList):e&&(t=A().findIndex(this.localImgList,(t=>t.size===e.size&&t.lastModified===e.lastModified)),i=this.localImgSrcList),At(i.map(((e,t)=>({src:e,name:this.localImgList[t]?.name}))),t)}else if(e?.id){const t=A().findIndex(this.fileDefaultImgList,(t=>t.id===e.id));At(this.fileImgSrcList,t)}},downloadManualFile(e){"String"===Q(e)&&e.indexOf("http")>-1?window.open(e):"File"===Q(e)&&se(e).then((t=>{de(e.name,t)}))},handelManualUpload(e){if(this.manualUpload){if(e){let t=oe(e.name);if(this.format.length>0&&this.format.indexOf(t)<0)return Y(this.t("r.wrongFileType"),this.t("r.supportType")+(this.format.length>0&&String(this.format)||this.t("r.none")),"warning"),!1;if(this.maxSize&&e.size>1024*this.maxSize)return Y(this.t("r.fileIsBig"),this.t("r.supportSize")+this.maxSize+"kb","warning"),!1;let i=this.fileList;i.push(e),this.fileList=i}return!1}return!0},uploadError(e){console.warn(e),Y(this.t("r.uploadError"),"","error")},uploadSuccess(e,t){if(0===e?.code){let i=this.fileList;t.id=e.data?.[0]?.id,t.name=e.data?.[0]?.name,t.mimeType=e.data?.[0]?.mimeType,this.tempStorage[t.id]={name:t.name,mimeType:t.mimeType},i.push(t),this.fileList=i}else Y(this.t("r.uploadFail"),e?.message||"","error")},overSize(){Y(this.t("r.fileIsBig"),this.t("r.supportSize")+this.maxSize+" kb","warning")},onFormatError(){Y(this.t("r.wrongFileType"),this.t("r.supportType")+(this.format.length>0&&String(this.format)||this.t("r.none")),"warning")},onPreview(e){let t=e?.id,i=e?.mimeType;t&&("String"===Q(i)&&i.indexOf("image")>-1?At(this.url+"/"+t+"/download?preview=true"):window.open(this.url+"/"+t+"/download?preview=true"))},onRemove(e){let t=e?.response?.data?.[0]?.id;this.deleteById(null,t)},deleteById(e,t){if((t||0===t)&&!this.disabled&&-1!==this.fileIdList.indexOf(t)){const e=this.fileIdList;let i=this.fileList;i.splice(e.indexOf(t),1),this.fileList=i}}}},Ot=Rt,Nt=_(Ot,_t,It,!1,null,null,null),Mt=Nt.exports,Pt=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.clickOutsideHandle,expression:"clickOutsideHandle"}],staticClass:"tabSetF"},[t("div",{ref:"buttonRef",staticClass:"tabSetBt",on:{click:e.labelClick}},[t("Icon",{attrs:{type:"md-settings",size:"17"}}),t("span",{staticClass:"cannotSelect"},[e._v(e._s(e.t("r.tabSetting")))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"popperRef",staticClass:"tabSetCard",style:{width:e.width,backgroundColor:e.bg},attrs:{"data-transfer":e.transfer}},[t("div",{staticClass:"topCheck"},[t("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll.apply(null,arguments)}}},[e._v(e._s(e.t("r.all")))]),t("div",{staticClass:"btnR",staticStyle:{float:"right",display:"inline-block"},on:{click:e.save}},[t("span",{staticClass:"iconfont icon-r-save"}),t("span",[e._v(e._s(e.t("r.save")))])])],1),t("CheckboxGroup",{model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.groupX,(function(i,a){return t("Checkbox",{key:"tabSet_"+e.sKey+a,staticClass:"setItem",attrs:{label:i?.label,disabled:i?.disabled}})})),1)],1)])},Vt=[],Gt=b(871),Ft=b.n(Gt);function zt(e){return void 0===e&&(e=document.body),!0===e?document.body:e instanceof window.Node?e:document.querySelector(e)}const Et={inserted(e,{value:t}){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className?e.className+" v-transfer-dom":"v-transfer-dom";const i=e.parentNode;if(!i)return;const a=document.createComment("");let l=!1;!1!==t&&(i.replaceChild(a,e),zt(t).appendChild(e),l=!0),e.__transferDomData||(e.__transferDomData={parentNode:i,home:a,target:zt(t),hasMovedOut:l})},componentUpdated(e,{value:t}){if(e.dataset&&"true"!==e.dataset.transfer)return!1;const i=e.__transferDomData;if(!i)return;const a=i.parentNode,l=i.home,s=i.hasMovedOut;!s&&t?(a.replaceChild(l,e),zt(t).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:zt(t)})):s&&!1===t?(a.replaceChild(e,l),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:zt(t)})):t&&zt(t).appendChild(e)},unbind(e){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className.replace("v-transfer-dom","");const t=e.__transferDomData;t&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}};var Xt=Et,Ht={bind(e,t){function i(i){if(e.contains(i.target))return!1;t.expression&&t.value(i)}e.__vueClickOutside__=i,document.addEventListener("click",i)},update(){},unbind(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}};function jt(e,t,i,a,l=!1){const s=(...e)=>W.apply(this,e);Y.call(this,{title:null===e?s("r.info.title"):e,text:null===t?s("r.info.text"):t,icon:null===i?"warning":i,onOk:a,buttons:[s("r.cancel")],closeOnClickOutside:l})}var Wt={name:"tableSetting",mixins:[ot],directives:{TransferDom:Xt,ClickOutside:Ht},model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},sKey:{type:String,required:!0},width:{type:String,default:"240px"},bg:{type:String,default(){return this.tableSettingBg}},placement:{type:String,default:"bottom-end"},defaultCheck:{type:Boolean,default:!1},storage:{validator:e=>fe(e,["localStorage","sessionStorage"]),default:"localStorage"},transfer:{type:Boolean,default(){return this.tableSettingTransfer}},eventsEnabled:{type:Boolean,default(){return this.tableSettingEventsEnabled}}},data(){return{indeterminate:!0,checkAll:!1,show:!1,groupT:[],locale:null,popper:null}},computed:{groupX(){let e=this.t("r.unknown");return this.value?.length>this.groupT?.length&&(this.groupT=A().cloneDeep(this.value)),this.groupT?.map?.((t=>{let i={label:t?.title||e};return t?.disableShowSetting&&(i.disabled=!0),i}))},disabledGroup(){return this.groupX?.filter?.((e=>e?.disabled))},checkAllGroup:{get(){let e=this.t("r.unknown");return this.value?.map?.((t=>t?.title||e))},set(e){let t=this.groupT?.filter?.((t=>{for(let i of e)if(i===t?.title)return!0;return!1}));this.$emit("subVal",t)}}},created(){this.$root?.$i18n?.locale?this.locale=this.$root.$i18n.locale:this.$root?.$lang&&(this.locale=this.$root.$lang)},mounted(){let e=this.t("r.unknown");const t=this.getStorage();t?this.checkAllGroup=JSON.parse(decodeURI(t)):this.defaultCheck&&(this.checkAllGroup=this.value?.filter?.((e=>e?.showSettingCheck)).map((t=>t?.title||e))),this.$nextTick((function(){this.$refs.buttonRef&&this.$refs.popperRef&&(this.popper=new(Ft())(this.$refs.buttonRef,this.$refs.popperRef,{placement:this.placement,eventsEnabled:this.eventsEnabled,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onUpdate:e=>{if(e?.popper&&e.instance?.popper){const t=this.calcPopperHeight(e),{needChange:i}=t;if(i){const{height:i}=t,a=e.instance.popper;a.style&&(a.style.height=`${i}px`)}}}}))})),tt((()=>{this.show=!0,this.popper?.update?.(),this.$nextTick((function(){this.show=!1}))}),0)},beforeDestroy(){this.popper?.destroy?.()},watch:{checkAllGroup:{handler(e){this.checkAllGroupChange(e)},immediate:!0}},methods:{close(){this.show&&(this.getChange()&&jt(this.t("r.notSave"),"","warning",this.save),this.show=!1)},labelClick(){this.show?this.close():(this.show=!0,this.$nextTick((function(){this.popper?.update?.()})))},save(){this.locale?window[this.storage].setItem(this.sKey+"_"+this.locale,encodeURI(JSON.stringify(this.checkAllGroup))):window[this.storage].setItem(this.sKey,encodeURI(JSON.stringify(this.checkAllGroup))),this.close()},clickOutsideHandle(e){if(this.show){if(this.transfer){const t=this.$refs.popperRef;if(t===e?.target||t?.contains?.(e?.target))return}e?.preventDefault?.(),this.close()}},handleCheckAll(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=this.groupX.map((e=>e?.label)):this.checkAllGroup=this.disabledGroup.map((e=>e?.label))},checkAllGroupChange(e){e.length===this.groupX.length?(this.indeterminate=!1,this.checkAll=!0):e.length>this.disabledGroup.length?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},getStorage(){let e;return e=this.locale?window[this.storage].getItem(this.sKey+"_"+this.locale):window[this.storage].getItem(this.sKey),e},getChange(){let e=this.getStorage();if(!e)return!0;if(e=JSON.parse(decodeURI(e)),e?.length!==this.checkAllGroup?.length)return!0;for(let t of e)if(-1===this.checkAllGroup.indexOf(t))return!0;return!1},calcPopperHeight(e){const{height:t}=e.popper,i=e.instance.popper,a=window.innerHeight;let l=0;if(i.childNodes?.length)for(let s=0;s<i.childNodes.length;s++)l+=i.childNodes[s]?.offsetHeight;return a<t-10||t<l?{needChange:!0,height:a-10<l?a-10:l}:{needChange:!1}}}},Ut=Wt,qt=_(Ut,Pt,Vt,!1,null,null,null),Jt=qt.exports,Yt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"containerIKJ",style:e.containerStyle},[t("Input",{ref:"mapInput",class:{mapInputIKJ:e.showMap},attrs:{placeholder:e.placeholder||e.t("r.search"),disabled:e.disabled,icon:"ios-search"},model:{value:e.valueT.name,callback:function(t){e.$set(e.valueT,"name",t)},expression:"valueT.name"}}),t("div",{ref:e.vidT,style:e.mapStyle,attrs:{id:e.vidT}})],1)},Qt=[],Zt=b(612),ei={name:"inputMap",mixins:[ot],model:{prop:"valProp",event:"update-value"},props:{valProp:{type:Object,default:null},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:null},placeholder:{type:String},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},data(){return{infoWindow:null}},computed:{valueT:{get(){let e;return e=this.valProp?this.valProp.name?A().cloneDeep(this.valProp):{...this.valProp,name:null}:{name:null},e},set(e){this.$emit("update-value",A().cloneDeep(e))}},vidT(){return"vidT"+Math.floor(1e9*Math.random())},widthT(){return A().isNumber(this.width)?this.width+"px":this.width},heightT(){return A().isNumber(this.height)?this.height+"px":this.height?this.height:A().isNumber(this.width)?.66*this.width+"px":"200px"},containerStyle(){return{width:this.widthT,position:"relative"}},mapStyle(){return{width:this.widthT,height:this.heightT,marginTop:"6px",opacity:this.showMap?1:0,position:this.showMap?"relative":"absolute",top:this.showMap?0:"-10000px"}}},mounted(){this.checkHeight()},beforeDestroy(){this.mapX&&(this.mapX.destroy(),this.mapX=null,this.geoCoder=null,this.autoCompleteX=null,this.infoWindow=null)},watch:{valProp(e){e?.lng&&e?.lat&&this.createMarker({lng:e.lng,lat:e.lat,name:e.name})}},methods:{checkHeight(){this.$refs?.[this.vidT]?.clientHeight<10||!this.$refs[this.vidT]?tt(this.checkHeight,100):tt(this.initMap,1e3)},initMap(){Zt.lazyAMapApiLoaderInstance?Zt.lazyAMapApiLoaderInstance.load().then((()=>{this.mapX=new AMap.Map(this.vidT,{}).on("complete",(()=>{this.geoCoder=new AMap.Geocoder,this.valProp?.lng&&this.valProp?.lat&&this.createMarker({lng:this.valProp.lng,lat:this.valProp.lat,name:this.valProp.name}),this.autoCompleteX=new AMap.Autocomplete({input:this.$refs.mapInput.$el.children[1]}).on("select",(e=>{e?.poi?.name&&(e.poi.location?.lng&&e.poi.location?.lat?(this.createMarker({name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}),this.valueT={name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}):this.mapX?.setCity(e.poi.name,(()=>{let t=this.mapX.getCenter();this.createMarker({name:e.poi.name,lng:t.lng,lat:t.lat}),this.valueT={name:e.poi.name,lng:t.lng,lat:t.lat}}))),this.$emit("on-change",this.valueT)})),this.mapX?.on("hotspotclick",(e=>{this.createMarker({name:e.name,lng:e.lnglat.lng,lat:e.lnglat.lat}),this.valueT={name:e.name,lng:e.lnglat.lng,lat:e.lnglat.lat}}))}))})):console.error("高德地图示例未初始化，lazyAMapApiLoaderInstance为null")},createMarker({lng:e,lat:t,name:i}){this.mapX?.clearMap();let a=new AMap.LngLat(e,t),l=new AMap.Marker({map:this.mapX,position:a,draggable:!0});this.mapX?.add(l),this.getAddress(e,t),l.on("dragend",(()=>{let a=l.getPosition();this.valueT={name:i||null,lng:a.lng,lat:a.lat},this.getAddress(e,t)})),l.on("click",(e=>{this.infoWindow&&this.infoWindow.open(this.mapX,e?.target?.getPosition?.())})),this.mapX?.setFitView()},getAddress(e,t){this.geoCoder?.getAddress([e,t],((e,t)=>{"complete"===e&&"OK"===t.info&&t.regeocode&&t.regeocode.formattedAddress?this.infoWindow=new AMap.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+t.regeocode.formattedAddress+"</div>",offset:new AMap.Pixel(16,-45),closeWhenClickMap:!0}):(this.infoWindow=null,console.warn("地图获取位置信息失败",t))}))}}},ti=ei,ii=_(ti,Yt,Qt,!1,null,null,null),ai=ii.exports,li=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tableBtnsG",class:{disabled:e.disabled},attrs:{title:e.title||e.t("r.button")},on:{click:e.onClick}},[t("Icon",{attrs:{type:e.icon,size:e.size}})],1)},si=[],oi={name:"tableIconBtn",mixins:[ot],props:{icon:{type:String,default(){return"md-radio-button-on"}},title:{type:String},has:{type:String},disabled:{type:Boolean,default(){return!1}},size:{type:Number,default(){return 24}}},methods:{onClick(e){this.disabled||this.$emit("click",e)}}},ri=oi,ni=_(ri,li,si,!1,null,null,null),di=ni.exports,ci=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tabTopBtnsT",class:{disabled:e.disabled},style:{"font-size":e.txtSize},on:{click:e.click}},[t("Icon",{attrs:{type:e.icon,size:e.size}}),e._v(" "+e._s(e.name||e.t("r.button"))+" ")],1)},hi=[],ui={name:"iconTxtBtn",mixins:[ot],props:{name:{type:String},icon:{type:String,default:"md-download"},size:{type:Number,default(){return this.iconTxtBtnIconSize}},disabled:{type:Boolean,default:!1},has:{type:String}},computed:{txtSize(){return Math.floor(this.size/17*this.fontSizeBase)+"px"}},methods:{click(e){this.disabled||this.$emit("click",e)}}},pi=ui,mi=_(pi,ci,hi,!1,null,null,null),fi=mi.exports,yi=function(){var e=this,t=e._self._c;return t("div",{style:e.getBg},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showT,expression:"showT"}],staticClass:"contentX"},[e._t("default")],2),t("div",{staticClass:"arrowA"},[t("div",{staticClass:"btA",on:{click:function(t){e.showT=!e.showT}}},[t("Icon",{attrs:{type:e.showT?"ios-arrow-up":"ios-arrow-down",size:"20"}})],1)])])},gi=[],vi={name:"showHidePanel",props:{show:{type:Boolean,default:!0},bg:{type:String,default:"transparent"}},data(){return{showT:this.show}},computed:{getBg(){return this.showT?"background:"+this.bg:""}},watch:{show(e){this.showT=e}}},bi=vi,wi=_(bi,yi,gi,!1,null,null,null),ki=wi.exports,Si=function(){var e=this,t=e._self._c;return t("div",[t("Select",{style:e.labelSelectStyle,attrs:{disabled:Boolean(e.disabled),transfer:""},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}},e._l(e.selectOption,(function(i,a){return t("Option",{key:"selectInputOp"+i?.value+a,style:{textAlign:e.labelTextAlign},attrs:{value:i?.val}},[e._v(e._s(i?.label))])})),1),t("Input",{style:e.inputStyle,attrs:{placeholder:e.placeholder||e.t("r.pInput"),clearable:e.clearable,disabled:Boolean(e.disabled)},on:{"on-change":e.inputChange},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)},xi=[],Ci={name:"selectInput",mixins:[ot],model:{prop:"value",event:"subVal"},props:{value:{type:Object,default(){return{key:null,val:null}}},labelWidth:{type:Number,default:160},labelTextAlign:{type:String,default:"right"},itemWidth:{type:Number,default:200},selectOption:{type:Array,default(){return[]}},placeholder:{type:String},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{selectVal:{get(){return this.value?.key||null},set(e){let t={key:e,val:null};this.selectVal&&this.selectVal!==e&&(t.beforeKey=this.selectVal),this.$emit("subVal",t),this.$emit("on-change",t)}},inputVal:{get(){return this.value?.val||null},set(e){let t={key:this.selectVal,val:e};this.$emit("subVal",t)}},labelSelectStyle(){return{width:this.labelWidth+"px",textAlign:this.labelTextAlign}},inputStyle(){return{width:this.itemWidth+"px"}}},methods:{inputChange(e){void 0!==e?.target?.value&&this.handleChange({key:this.selectVal,val:e?.target?.value},this)},handleChange:A().debounce(((e,t)=>{t.$emit("on-change",e)}),500)}},Ti=Ci,Li=_(Ti,Si,xi,!1,null,null,null),_i=Li.exports,Ii=function(){var e=this,t=e._self._c;return t("Cascader",{ref:"cascaderRT",attrs:{data:e.data,"change-on-select":"",transfer:"",disabled:e.disabled,"render-format":e.format,placeholder:e.placeholder||e.t("r.pSelect"),filterable:e.filterable},on:{"on-change":e.onChange},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})},Bi=[],Ki={name:"asyncCascader",mixins:[ot],model:{prop:"valProp",event:"subVal"},props:{url:{type:String,default(){return window?.g?.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""}},valProp:{type:[Array,Number,String]},optionVal:{type:String,default:"id"},optionLabel:{type:String,default:"name"},optionFilter:{type:Function},separator:{type:String,default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default:!1},placeholder:{type:String},disabled:{type:Boolean,default:!1}},data(){return{data:[]}},computed:{val:{get(){let e=this.valProp;return Array.isArray(e)?[].concat(e):A().isNumber(e)?pe({group:this.data,condition:t=>t?.value===e,pathKey:"value"}):A().isString(e)?e.split(this.separator):null===e?[]:void 0},set(e){if(this.onlyLastVal)A().isEmpty(e)?(this.$emit("subVal",null),this.$emit("on-label-change",null)):this.$emit("subVal",A().last(e));else{if(A().isEqual(this.valProp,e))return;this.$emit("subVal",[].concat(e))}}}},created(){this.getData()},methods:{getData(){this.url?this.$fetch.get(this.url).then((e=>{let t=e?.data?.records||e?.data||e;t?("Function"===Q(this.optionFilter)&&(t=this.optionFilter(t)),this.data=this.dataFilter(t)):console.warn("级联数据错误，不能使用")})).catch((()=>{console.warn("拉取级联数据出错")})):console.error("没有用于拉取级联数据的有效接口地址")},dataFilter(e){let t=[];for(let i of e){let e={value:i[this.optionVal],label:i[this.optionLabel]};i?.children&&!A().isEmpty(i.children)&&(e.children=this.dataFilter(i.children)),t.push(e)}return t},format(e,t){return this.onlyLastLabel?A().last(e):e.join(this.separator)},onChange(e,t){let i=null;A().isEmpty(t)||(i=t.map((e=>e?.label)).join(this.separator)),this.$emit("on-label-change",i)}}},Di=Ki,$i=_(Di,Ii,Bi,!1,null,null,null),Ai=$i.exports,Ri=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:e.editorId}})},Oi=[],Ni=b(90),Mi=b.n(Ni),Pi=b(210),Vi=b.n(Pi);const{$:Gi,BtnMenu:Fi}=Mi();var zi={name:"Editor",mixins:[ot],model:{prop:"value",event:"input"},props:{value:{type:String,default:""},valueType:{type:String,validator:e=>fe(e,["html","text"]),default:"html"},focus:{type:Boolean,default:!0},changeInterval:{type:Number,default:800},colors:{type:Array,default(){return["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"]}},fontNames:{type:Array,default(){return["黑体","仿宋","楷体","标楷体","华文仿宋","华文楷体","宋体","微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}},uploadImgMaxSize:{type:Number,default:104857.6},uploadImgMaxLength:{type:Number,default:10},uploadImgShowBase64:{type:Boolean,default:!0},uploadImgServe:{type:Object},showLinkImg:{type:Boolean,default:!0},placeholder:{type:String,default:"请输入正文"},previewClass:{type:String,default:"r-editor-view"},disabled:{type:Boolean,default:!1}},data(){return{editor:null,valueT:""}},computed:{editorId(){return`editor${this._uid}`}},created(){let e=A().cloneDeep(Vi().whiteList);for(let t in e)e.hasOwnProperty(t)&&"Array"===Q(e[t])&&e[t].unshift("style");this.xssP=new(Vi().FilterXSS)({whiteList:e})},mounted(){this.editor=new(Mi())(`#${this.editorId}`);const e=this.t("r.preview"),t=this.previewHandler;class i extends Fi{constructor(t){const i=Gi(`<div class="w-e-menu" title="${e}"><i class="ivu-icon ivu-icon-ios-eye" style="font-size: 22px;"></i></div>`);super(i,t)}clickHandler(){t()}tryChangeActive(){}}if(this.editor.menus.extend("viewMenuKey",i),this.editor.config.placeholder=this.placeholder,this.editor.config.zIndex=100,this.editor.config.menus=["head","bold","fontSize","fontName","italic","underline","indent","lineHeight","foreColor","backColor","link","list","justify","quote","emoticon","image","table","splitLine","undo","redo","viewMenuKey"],this.editor.config.focus=this.focus,this.editor.config.colors=this.colors,this.editor.config.fontNames=this.fontNames,this.editor.config.uploadImgMaxSize=this.uploadImgMaxSize,this.editor.config.uploadImgMaxLength=this.uploadImgMaxLength,this.editor.config.showLinkImg=this.showLinkImg,this.editor.config.menuTooltipPosition="down","Object"===Q(this.uploadImgServe)||!1===this.uploadImgShowBase64){let e;this.editor.config.uploadImgShowBase64=!1,e="Object"===Q(this.uploadImgServe)?A().cloneDeep(this.uploadImgServe):{},"Function"===Q(e.customUploadImg)?this.editor.config.customUploadImg=e.customUploadImg:this.editor.config.customUploadImg=(t,i)=>{e=Object.assign({params:{},url:window?.g?.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""},e);let a=Object.assign({appId:0,moduleId:0,typeId:0},e.params),l=new FormData;for(let e in a)a.hasOwnProperty(e)&&null!==a[e]&&l.append(e,a[e]);for(let e of t)l.append("files",e);Ye.post(e.url,l,null,[],{spin:!0,headers:{"Content-Type":"multipart/form-data"}}).then((t=>{if(t?.data&&"Array"===Q(t.data))for(let a of t.data)we(a?.id)&&i(`${e.url}/${a?.id}/download`);else this.$swal(this.t("r.uploadFail"),t?.message||"","error")})).catch((()=>{this.$swal(this.t("r.uploadError"),"","error")}))},this.editor.config.withCredentials=!0}else this.editor.config.uploadImgShowBase64=this.uploadImgShowBase64;this.editor.config.customAlert=e=>{Y.apply(this,[this.t("r.uploadFail"),e||"","warning"])},this.editor.config.onchange=e=>{let t=this.editor?.txt?.text?.()||"",i=this.xssP.process(e);this.valueT="html"===this.valueType?i:t,this.value!==this.valueT&&(this.$emit("input","html"===this.valueType?i:t),this.$emit("on-change","html"===this.valueType?i:t))},this.editor.config.onchangeTimeout=this.changeInterval,this.editor.create(),this.value&&this.editor.txt.html(this.xssP.process(this.value)),tt((()=>{this.$watch((()=>this.disabled),(e=>{e?this.editor.$textElem.attr("contenteditable",!1):this.editor.$textElem.attr("contenteditable",!0)}),{immediate:!0}),this.$watch((()=>this.value),(e=>{e!==this.valueT&&this.setHtml(e)}))}),10)},beforeDestroy(){let e=document.getElementById(this.editorId+"preview");e&&document.getElementsByTagName("body")[0].removeChild(e),this.editor&&(this.editor.destroy(),this.editor=null,this.xssP=null)},methods:{setHtml(e){this.editor.txt.html(this.xssP.process(e))},previewHandler(){const e=this.editorId+"preview";let t=document.getElementById(e),i=localStorage.getItem("editorPreviewW")||300,a=localStorage.getItem("editorPreviewH")||500;if(t){let e=t.children[0].children[1].children[0],l=t.children[0].children[1];e.innerHTML=this.value,e.style.width=i+"px",l.style.height=a+"px",t.style.display="block"}else{const l=document.getElementsByTagName("body");t=document.createElement("div"),t.setAttribute("id",e),t.setAttribute("class","editor-preview-mask"),t.innerHTML=`<div class="editor-preview-body"><div class="editor-preview-head"><div><span>宽</span><input type="number" value="${i}" min="200"><span>高</span><input type="number" value="${a}" min="300"></div><i class="ivu-icon ivu-icon-md-close"></i></div><div class="editor-preview-out-wall"><div class="editor-preview-wall ${this.previewClass}"></div></div></div>`;let s=t.children[0].children[1],o=t.children[0].children[1].children[0],r=t.children[0].children[0].children[0].children[1];const n=40,d=70,c=e=>{if("keyup"===e?.type){let t=!1;if(e.key&&(t="Enter"!==e.key),t)return}let t=e?.target?.value;if(t=Number(t),o?.style?.width===t+"px")return;const i=l[0].clientWidth;t<250?(t=250,e.target.value=250):t>i-n&&(t=i-n,e.target.value=i-n),o.style.width=t+"px",localStorage.setItem("editorPreviewW",t)};r.addEventListener("blur",c),r.addEventListener("keyup",c);let h=t.children[0].children[0].children[0].children[3];const u=e=>{if("keyup"===e?.type){let t=!1;if(e.key&&(t="Enter"!==e.key),t)return}let t=e?.target?.value;if(t=Number(t),s?.style?.height===t+"px")return;const i=l[0].clientHeight;t<300?(t=300,e.target.value=300):t>i-d&&(t=i-d,e.target.value=i-d),s.style.height=t+"px",localStorage.setItem("editorPreviewH",t)};h.addEventListener("blur",u),h.addEventListener("keyup",u);let p=t.children[0].children[0].children[1];p.addEventListener("click",(e=>{t.style.display="none"})),o.innerHTML=this.value,o.style.width=i+"px",s.style.height=a+"px",l[0].append(t)}}}},Ei=zi,Xi=_(Ei,Ri,Oi,!1,null,null,null),Hi=Xi.exports,ji=function(){var e=this,t=e._self._c;return t("div",{staticClass:"editor-pro-root"},[t("Toolbar",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"editor-pro-toolbar",attrs:{editor:e.editor,defaultConfig:e.toolbarConfigT,mode:e.mode}}),t("Editor",{staticClass:"editor-pro-editor",style:e.editorTextareaStyle,attrs:{defaultConfig:e.editorConfigT,mode:e.mode},on:{onCreated:e.onCreated},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}})],1)},Wi=[],Ui=b(365),qi={name:"editorPro",mixins:[ot],model:{prop:"value",event:"input"},props:{value:{type:String,default:""},toolbarConfig:{type:Object,default(){return{}}},editorConfig:{type:Object,default(){return{}}},mode:{type:String,validator:e=>fe(e,["default","simple"]),default:"default"},height:{type:String|Number,default:300},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1}},components:{Editor:Ui.Editor,Toolbar:Ui.Toolbar},data(){return{editor:null}},computed:{valueT:{get(){return this.value},set(e){this.$emit("input",e)}},toolbarConfigT(){return Object.assign({placeholder:this.placeholder||this.t("r.pInput"),insertKeys:{index:31,keys:["previewX"]}},this.toolbarConfig)},editorConfigT(){return Object.assign({readOnly:this.disabled},this.editorConfig)},editorTextareaStyle(){return{height:"string"===typeof this.height?this.height:this.height+"px"}}},beforeDestroy(){this.editor&&(this.editor.destroy(),this.editor=null)},watch:{disabled:{handler(e){e?this.editor.disable():this.editor.enable()}}},methods:{onCreated(e){this.editor=Object.seal(e)}}},Ji=qi,Yi=_(Ji,ji,Wi,!1,null,null,null),Qi=Yi.exports,Zi=function(){var e=this,t=e._self._c;return t("ar-cascader",e._g(e._b({staticClass:"alCascaderMC",attrs:{level:e.level,disabled:e.disabled,placeholder:e.placeholder||e.t("r.pSelect")},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},"ar-cascader",e.$attrs,!1),e.$listeners))},ea=[],ta={name:"alCascaderMC",mixins:[ot],model:{prop:"value",event:"subVal"},props:{value:{type:[String,Number,Array],default(){return null}},level:{type:[Number,String],validator:e=>fe(String(e),["0","1","2"]),default(){return 2}},disabled:{type:Boolean,default(){return!1}},separator:{type:String,default(){return"/"}},placeholder:{type:String}},computed:{valueT:{get(){if(!this.value||"string"!==typeof this.value&&"number"!==typeof this.value)return Array.isArray(this.value)?A().cloneDeep(this.value):[];{let e=String(this.value).trim(),t=/^\d+$/;if(t.test(e)){let t=e.substring(0,2)+"0000000000",i=e.substring(0,4)+"00000000";return[t,i,e]}return-1!==e.indexOf(this.separator)?e.split(this.separator):[e]}},set(e){if(A().isEmpty(e))this.$emit("subVal",null),this.$emit("on-name-change",null);else{let t=A().last(e),i=null,a=null;if(t&&(i=t.code),i?.length<12){let e=[...i];while(e.length<12)e.push(0);i=e.join("")}if(Array.isArray(e)&&(a=e.map((e=>e?.name)).join(this.separator)),i){if(i===this.value)return;this.$emit("subVal",i)}a&&this.$emit("on-name-change",a)}}}}},ia=ta,aa=_(ia,Zi,ea,!1,null,null,null),la=aa.exports,sa=function(){var e=this,t=e._self._c;return e.initTree?t("Tree",{staticClass:"checkboxTreeGA",attrs:{id:e.id,data:e.dataT,render:e.renderContent,"show-checkbox":""},on:{"on-check-change":e.updateVal,"on-toggle-expand":e.changeStyle}}):e._e()},oa=[],ra={name:"checkboxTree",model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},expandAll:{type:Boolean,default:!1},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},inlineLeaf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{initTree:!0,dataT:[],id:"CKT"+Math.floor(1e7*Math.random()+1e7),valueE:[]}},computed:{collectValT(){return"Array"===Q(this.collectVal)?this.collectVal:"String"===Q(this.collectVal)?[this.collectVal]:[]},valueT(){return"Array"===Q(this.value)?this.value:[]}},watch:{data:{handler(e){this.initTree=!1;let t=[];this.initData(e,t),this.dataT=t,this.$nextTick((function(){this.initTree=!0,this.inlineLeaf&&this.$nextTick(this.changeStyle)}))},immediate:!0,deep:!0},valueT(e){let t,i="s";"Array"===Q(this.collectVal)&&this.collectVal[0]?(t=this.collectVal[0],i="a"):t=this.collectVal,t&&JSON.stringify(e)!==JSON.stringify(this.valueE)?(Le({group:this.dataT,condition:e=>!0===e?.checked,key:"checked",val:!1}),Le("a"===i?{group:this.dataT,condition:i=>-1!==A().findIndex(e,[t,i[t]]),key:"checked",val:!0}:{group:this.dataT,condition:i=>-1!==e.indexOf(i[t]),key:"checked",val:!0})):this.valueE=[]},disabled:{handler(e){Le({group:this.dataT,condition:t=>t&&t.disableCheckbox!==e,key:"disableCheckbox",val:e}),this.inlineLeaf&&this.$nextTick(this.changeStyle)},immediate:!0}},methods:{initData(e,t=[]){for(let i of e){let e=!1;e=this.collectValT.length>1?void 0!==A().find(this.valueT,(e=>e[A().head(this.collectValT)]===i[A().head(this.collectValT)])):-1!==this.valueT.indexOf(i[A().head(this.collectValT)]);let a={name:i[this.label],expand:Boolean(this.expandAll||i?.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)a[t]=i?.[t];t.push(a),i?.children?.length>0&&(a.children=[],this.initDataB(i.children,a.children))}},initDataB(e,t=[]){for(let i of e){let e=!1;e=this.collectValT.length>1?void 0!==A().find(this.valueT,(e=>e[A().head(this.collectValT)]===i[A().head(this.collectValT)])):-1!==this.valueT.indexOf(i[A().head(this.collectValT)]);let a={name:i[this.label],expand:Boolean(this.expandAll||i?.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)a[t]=i[t];t.push(a),i?.children?.length>0&&(a.children=[],this.initData(i.children,a.children))}},renderContent(e,{root:t,node:i,data:a}){let l="",s=!0;if(a.children?.length>0){for(let e of a.children)if(void 0!==e.children){s=!1;break}s&&this.inlineLeaf&&(l="inlineChildXA")}return e("div",{style:{display:"inline-block",width:"100%"},class:l},[e("span",{style:{fontWeight:a.children?"bold":"normal"}},a.name)])},changeStyle(e){if(e)return void(e.expand&&this.$nextTick(this.changeStyle));let t=document.querySelectorAll("#"+this.id+" .inlineChildXA");if(t.length>0)for(let i of t){let e=i?.parentNode,t=e?.nextElementSibling;if(!t)return;if("BR"!==t.tagName){let i=e.parentNode,a=document.createElement("br");i.insertBefore(a,t),t=a.nextElementSibling,-1===t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}while(t.nextElementSibling)t=t.nextElementSibling,-1===t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}},updateVal(e){let t=[];if(this.leaf){for(let i of e)if(!i?.children)if("Array"===Q(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=i[t];t.push(e)}else t.push(i?.[this.collectVal])}else for(let i of e)if("Array"===Q(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=i?.[t];t.push(e)}else t.push(i?.[this.collectVal]);this.valueE=t,this.$emit("subVal",t),this.$emit("on-change",A().cloneDeep(t))}}},na=ra,da=_(na,sa,oa,!1,null,null,null),ca=da.exports,ha=function(){var e=this,t=e._self._c;return t("div",{staticClass:"boxLPA"},[t("div",{staticClass:"headerJ"},[t("div",{staticClass:"firstT borderBoxAS"},[e._v(e._s(e.firstTitle||e.t("r.level.1")))]),t("div",{staticClass:"secondT borderBoxAS"},[e._v(e._s(e.secondTitle||e.t("r.level.2")))])]),e._l(e.dataT,(function(i,a){return t("div",{key:"checkboxJ"+a,staticClass:"bodyJ"},[t("div",{staticClass:"firstCol borderBoxAS"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkAll(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"item.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"secondCol borderBoxAS"},e._l(i.children,(function(i,a){return t("div",{key:"secItem"+a,staticClass:"secItem"},[t("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"secItem.checked"}},[e._v(e._s(i[e.label]))])],1)})),0)])}))],2)},ua=[],pa={name:"checkboxGroupTwoClass",mixins:[ot],model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String},secondTitle:{type:String},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=A().cloneDeep(this.data),t=A().cloneDeep(this.leafChecked);for(let i of e){let e=0;if(i?.children&&!A().isEmpty(i.children))for(let a of i.children){for(let i=0,l=t.length;i<l;i++)if("Object"===Q(t[i])){let l=!0;for(let e of this.collectVal)if(t[i][e]!==a[e]){l=!1;break}if(l){a.checked=!0,e++,t.splice(i,1);break}}else if(t[i]===a[this.collectVal]){a.checked=!0,e++,t.splice(i,1);break}!a.checked&&(a.checked=!1)}0===e?(i.checked=!1,i.indeterminate=!1):i?.children&&e===i.children.length?(i.checked=!0,i.indeterminate=!1):(i.checked=!1,i.indeterminate=!0)}return e}},watch:{value:{handler(e,t){A().isEqual(this.leafChecked,e)||A().isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkAll(e,t){if(e.children)for(let i of e.children)i.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let i=[];for(let a of e){if(!t&&!this.leaf&&a?.checked&&!1===a.indeterminate)if("Array"===Q(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];i.push(e)}else"String"===Q(this.collectVal)&&i.push(a[this.collectVal]);if(a?.children)for(let e of a.children)if(e?.checked)if("Array"===Q(this.collectVal)){let t={};for(let i of this.collectVal)t[i]=e[i];i.push(t)}else"String"===Q(this.collectVal)&&i.push(e[this.collectVal])}t?(this.leafChecked=i,this.leaf?(this.$emit("subVal",i),this.$emit("on-change",A().cloneDeep(i))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",i),this.$emit("on-change",A().cloneDeep(i)))}}},ma=pa,fa=_(ma,ha,ua,!1,null,null,null),ya=fa.exports,ga=function(){var e=this,t=e._self._c;return t("div",{staticClass:"boxLPB"},[t("div",{staticClass:"headerF"},[t("div",{staticClass:"firstT borderBoxKa"},[e._v(e._s(e.firstTitle||e.t("r.level.1")))]),t("div",{staticClass:"secondT borderBoxKa"},[e._v(e._s(e.secondTitle||e.t("r.level.2")))]),t("div",{staticClass:"thirdT borderBoxKa"},[e._v(e._s(e.thirdTitle||e.t("r.level.3")))])]),e._l(e.dataT,(function(i,a){return t("div",{key:"checkboxJ"+a,staticClass:"bodyF"},[t("div",{staticClass:"firstCol borderBoxKa"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkChangeFirst(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"item.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"rightBoxAL"},e._l(i.children,(function(i,a){return t("div",{key:"secItem"+a,staticClass:"rightBoxInner"},[t("div",{staticClass:"secondCol borderBoxKa"},[t("Checkbox",{attrs:{indeterminate:i.indeterminate,disabled:e.disabled},on:{"on-change":function(t){return e.checkChangeSecond(i,t)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"secItem.checked"}},[e._v(e._s(i[e.label]))])],1),t("div",{staticClass:"thirdCol borderBoxKa"},e._l(i.children,(function(i,a){return t("div",{key:"thirdItem"+a,staticClass:"thirdItem"},[t("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"thirdItem.checked"}},[e._v(e._s(i[e.label]))])],1)})),0)])})),0)])}))],2)},va=[],ba={name:"checkboxGroupThreeClass",mixins:[ot],model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String},secondTitle:{type:String},thirdTitle:{type:String},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=A().cloneDeep(this.data),t=A().cloneDeep(this.leafChecked);for(let i of e){let e=0,a=0;if(i?.children&&!A().isEmpty(i.children))for(let l of i.children){let i=0;if(l?.children&&!A().isEmpty(l.children))for(let e of l.children){for(let a=0,l=t.length;a<l;a++)if("Object"===Q(t[a])){let l=!0;for(let i of this.collectVal)if(t[a][i]!==e[i]){l=!1;break}if(l){e.checked=!0,i++,t.splice(a,1);break}}else if(t[a]===e[this.collectVal]){e.checked=!0,i++,t.splice(a,1);break}!e.checked&&(e.checked=!1)}0===i?(l.checked=!1,l.indeterminate=!1):l.children&&i===l.children.length?(l.checked=!0,l.indeterminate=!1,e++):(l.checked=!1,l.indeterminate=!0,a++)}0===e&&0===a?(i.checked=!1,i.indeterminate=!1):i?.children&&e===i.children.length?(i.checked=!0,i.indeterminate=!1):(i.checked=!1,i.indeterminate=!0)}return e}},watch:{value:{handler(e,t){A().isEqual(this.leafChecked,e)||A().isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkChangeFirst(e,t){if(e?.children)for(let i of e.children)if(i.checked=t,i?.children)for(let e of i.children)e.checked=t;this.updateDataT()},checkChangeSecond(e,t){if(e.children)for(let i of e.children)i.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let i=[];for(let a of e){if(!t&&!this.leaf&&a?.checked&&!1===a.indeterminate)if("Array"===Q(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];i.push(e)}else"String"===Q(this.collectVal)&&i.push(a[this.collectVal]);if(a?.children)for(let e of a.children){if(!t&&!this.leaf&&e?.checked&&!1===e.indeterminate)if("Array"===Q(this.collectVal)){let t={};for(let i of this.collectVal)t[i]=e[i];i.push(t)}else"String"===Q(this.collectVal)&&i.push(e[this.collectVal]);if(e.children)for(let t of e.children)if(t.checked)if("Array"===Q(this.collectVal)){let e={};for(let i of this.collectVal)e[i]=t[i];i.push(e)}else"String"===Q(this.collectVal)&&i.push(t[this.collectVal])}}t?(this.leafChecked=i,this.leaf?(this.$emit("subVal",i),this.$emit("on-change",A().cloneDeep(i))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",i),this.$emit("on-change",A().cloneDeep(i)))}}},wa=ba,ka=_(wa,ga,va,!1,null,null,null),Sa=ka.exports,xa=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],staticClass:"fullScreenPopBoxAM"},[t("div",{staticClass:"headerAM",style:{color:e.headerColor,backgroundColor:e.headerBg,fontSize:e.hFontSize}},[t("span",{staticClass:"headerTxtAM"},[e._v(e._s(e.title||e.t("r.title")))]),t("header-bt",{attrs:{icon:"md-return-left"},on:{click:e.close}},[e._v(e._s(e.t("r.back")))])],1),t("div",{staticClass:"contentAM"},[e._t("default")],2)])},Ca=[],Ta=function(){var e=this,t=e._self._c;return t("div",{class:{headerBtCTM:!0,withIconCTM:e.icon||e.withIcon,disabled:e.disabled},style:{color:e.color,borderLeftColor:e.borderColor},on:{click:e.click}},[e.icon?t("Icon",{attrs:{size:e.iconSize,type:e.icon}}):e._e(),e._t("default")],2)},La=[],_a={name:"headerBt",props:{icon:{type:String},withIcon:{type:Boolean,default:!1},iconSize:{type:[Number,String],default:18},color:{type:String,default:"inherit"},borderColor:{type:String,default:"#fff"},disabled:{type:Boolean,default:!1}},methods:{click(e){this.disabled||this.$emit("click",e)}}},Ia=_a,Ba=_(Ia,Ta,La,!1,null,null,null),Ka=Ba.exports,Da={name:"fullScreenPop",mixins:[ot],components:{headerBt:Ka},props:{title:{type:String},headerColor:{type:String},headerBg:{type:String},headerFontSize:{type:[String,Number],default(){return this.fontSizeBase}}},data(){return{showPop:!1}},computed:{hFontSize(){return"Number"===Q(this.headerFontSize)?this.headerFontSize+"px":this.headerFontSize}},methods:{open(){this.showPop=!0,this.$emit("on-open")},close(e){this.showPop=!1,this.$emit("on-close",!0===e)}}},$a=Da,Aa=_($a,xa,Ca,!1,null,null,null),Ra=Aa.exports,Oa=function(){var e=this,t=e._self._c;return t("Form",{key:e.formReRenderKey,ref:"formGroupXRef",staticClass:"formXN",attrs:{model:e.valGroup,rules:e.formRulesT,"label-width":e.labelWidth,inline:e.inline,"show-message":e.showMessage}},[t("FormItem",{staticStyle:{display:"none"}},[t("input",{attrs:{type:"text"}})]),e._l(e.formDataT,(function(i,a){return e.formTeam?t("div",{key:"formTeamBox"+a,class:[e.teamClass,"formTeamBox"+a]},e._l(i,(function(a,l){return e.getFormItemIfVal(a)?t("item-r",{key:"formItem"+l,style:e.formStyle,attrs:{item:a,"item-style":e.itemStyle,"val-group":e.valGroup,"temp-keys":e.tempKeys,inline:e.inline,disabled:e.disabled,"label-width":e.labelWidth,"item-width":e.itemWidth,"mgr-url":e.mgrUrl,"upload-url":e.uploadUrl},on:{"item-change":e.itemChange,"re-validate":e.reValidateAndChangeHandle,"clear-temp-key-item":e.clearTempKeyItem,"select-input-change":e.onSelectInputChange,"al-name-change":e.alNameChange,"async-label-change":e.asyncLabelChange},scopedSlots:e._u([e._l(e.getSlotFormData(i),(function(t){return{key:t.slotName,fn:function(i){return[e._t(t.slotName,null,{valGroup:i.valGroup})]}}}))],null,!0)}):e._e()})),1):e._e()})),e._l(e.formDataT,(function(i,a){return!e.formTeam&&e.getFormItemIfVal(i)?t("item-r",{key:"formItem"+a,style:e.formStyle,attrs:{item:i,"item-style":e.itemStyle,"val-group":e.valGroup,"temp-keys":e.tempKeys,inline:e.inline,disabled:e.disabled,"label-width":e.labelWidth,"item-width":e.itemWidth,"mgr-url":e.mgrUrl,"upload-url":e.uploadUrl},on:{"item-change":e.itemChange,"re-validate":e.reValidateAndChangeHandle,"clear-temp-key-item":e.clearTempKeyItem,"select-input-change":e.onSelectInputChange,"al-name-change":e.alNameChange,"async-label-change":e.asyncLabelChange},scopedSlots:e._u([e._l(e.getSlotFormData(e.formData),(function(t){return{key:t.slotName,fn:function(i){return[e._t(t.slotName,null,{valGroup:i.valGroup})]}}}))],null,!0)}):e._e()})),e.showLongOkBt?t("FormItem",[t("Button",{style:e.itemStyle,attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.longOkBtTxt||e.t("r.confirm")))])],1):e._e(),t("div",{staticClass:"inlineBlock"},[e.showInlineOkBt?t("Button",{class:{inlineFormBtXN:e.inline,okBtnXN:!0},attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.inlineOkBtTxt||e.t("r.confirm")))]):e._e(),e.showInlineClearBt?t("Button",{class:{inlineFormBtXN:e.inline},attrs:{type:"dashed"},on:{click:e.resetForm}},[e._v(e._s(e.inlineClearBtTxt||e.t("r.clear")))]):e._e()],1)],2)},Na=[],Ma=b(416),Pa=b.n(Ma),Va=function(){var e=this,t=e._self._c;return t("FormItem",{staticClass:"relativeBox",class:e.itemClass(e.item),attrs:{label:"radio"!==e.item?.type&&"checkbox"!==e.item?.type?e.item?.label:" ",prop:e.item?.key||""}},["txt"===e.item?.type?t("div",{class:{likeInputX:e.item?.likeInput,disabled:Boolean(e.item?.disabled)||e.disabled},staticStyle:{display:"inline-block"},style:e.itemStyle},[e._v(" "+e._s(e.item?.valKey?e.valGroup?.[e.item?.valKey]||"无":e.item?.val)+" ")]):"inputNumber"===e.item?.type?t("InputNumber",{style:e.itemStyle,attrs:{max:e.item?.max||0===e.item?.max?e.item.max:1/0,min:e.item?.min||0===e.item?.min?e.item.min:-1/0,precision:e.item?.precision,step:e.item?.step||1,placeholder:e.item?.placeholder||e.t("r.pInput"),disabled:Boolean(e.item?.disabled)||e.disabled,readonly:Boolean(e.item?.readonly),editable:!1!==e.item?.editable,"active-change":Boolean(e.item?.activeChange),clearable:!1!==e.item?.clearable},on:{"on-blur":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item?.tempKey],callback:function(t){e.$set(e.tempKeys,e.item?.tempKey,t)},expression:"tempKeys[item?.tempKey]"}}):"input"===e.item?.type?t("Input",{style:e.itemStyle,attrs:{type:e.item?.inputType?e.item.inputType:e.item?.password?"password":"text",maxlength:e.item?.maxLength||null,password:Boolean(e.item?.password),icon:e.item?.icon,prefix:e.item?.prefix,suffix:e.item?.suffix,placeholder:e.item?.placeholder||e.t("r.pInput"),disabled:Boolean(e.item?.disabled)||e.disabled,clearable:!e.item?.password&&"text"===e.item?.inputType&&!1!==e.item?.clearable},on:{"on-blur":function(t){return e.itemChange(t,e.item)}},scopedSlots:e._u([e.item?.slotPosition&&e.item?.slotName?{key:e.item.slotPosition,fn:function(){return[e._t(e.item.slotName,null,{valGroup:e.valGroup})]},proxy:!0}:null,"prepend"!==e.item?.slotPosition&&e.item?.prepend?{key:"prepend",fn:function(){return[t("span",[e._v(e._s(e.item.prepend))])]},proxy:!0}:null,"append"!==e.item?.slotPosition&&e.item?.append?{key:"append",fn:function(){return[t("span",[e._v(e._s(e.item.append))])]},proxy:!0}:null],null,!0),model:{value:e.tempKeys[e.item?.tempKey],callback:function(t){e.$set(e.tempKeys,e.item?.tempKey,t)},expression:"tempKeys[item?.tempKey]"}}):"select"===e.item?.type?t("Select",{style:e.itemStyle,attrs:{filterable:(!0===e.item?.filterable||!1===e.item?.filterable)&&e.item?.filterable,disabled:Boolean(e.item?.disabled)||e.disabled,multiple:Boolean(e.item?.multiple),placeholder:e.item?.placeholder||e.t("r.pSelect"),transfer:"",clearable:!1!==e.item?.clearable},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item?.tempKey],callback:function(t){e.$set(e.tempKeys,e.item?.tempKey,t)},expression:"tempKeys[item?.tempKey]"}},e._l(e.item?.options,(function(i,a){return t("Option",{key:"option-"+e.item?.key+a,attrs:{value:i?.val,label:i?.label||i?.val,disabled:!!i?.disabled}})})),1):"selectInput"===e.item?.type?t("select-input",{attrs:{"label-width":e.labelWidth,"item-width":e.itemWidth,"select-option":e.item?.options||[],placeholder:e.item?.placeholder||e.t("r.pInput"),clearable:!1!==e.item?.clearable,disabled:Boolean(e.item?.disabled)||e.disabled},on:{"on-change":e.onSelectInputChange},model:{value:e.tempKeys[e.item?.tempKey],callback:function(t){e.$set(e.tempKeys,e.item?.tempKey,t)},expression:"tempKeys[item?.tempKey]"}}):"alCascader"===e.item?.type?t("al-cascader-m-c",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{level:e.item?.level||0===e.item?.level?e.item?.level:2,disabled:Boolean(e.item?.disabled)||e.disabled,filterable:!1!==e.item?.filterable,placeholder:e.item?.placeholder||e.t("r.pSelect"),"change-on-select":Boolean(e.item?.changeOnSelect)},on:{"on-name-change":function(t){return e.alNameChange(t,e.item)}},model:{value:e.valGroup[e.item?.key],callback:function(t){e.$set(e.valGroup,e.item?.key,t)},expression:"valGroup[item?.key]"}}):"asyncCascader"===e.item?.type?t("async-cascader",{style:e.itemStyle,attrs:{url:e.item.url||e.mgrUrl+"/web/v1/umc/orgs","option-val":e.item.optionVal||"id","option-label":e.item.optionLabel||"name","option-filter":e.item.optionFilter||null,"only-last-val":!1!==e.item.onlyLastVal,"only-last-label":!1!==e.item.onlyLastLabel,separator:e.item.separator||"/",placeholder:e.item.placeholder||e.t("r.pSelect"),filterable:Boolean(e.item.filterable),disabled:Boolean(e.item.disabled)||e.disabled},on:{"on-label-change":function(t){return e.asyncLabelChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"radio"===e.item?.type?t("Radio",{attrs:{disabled:Boolean(e.item.disabled)||e.disabled},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}},[e._v(e._s(e.item.label))]):"radioGroup"===e.item?.type?t("RadioGroup",{style:e.itemStyle,attrs:{type:e.item.buttonType?"button":null},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}},e._l(e.item.options,(function(i){return t("Radio",{key:"radioItem"+i?.val,attrs:{label:i?.val,border:Boolean(e.item.itemBorder),disabled:Boolean(e.item.disabled)||e.disabled||i?.disabled}},[i?.icon&&!e.item.buttonType?t("Icon",{attrs:{type:i?.icon}}):e._e(),t("span",[e._v(e._s(i?.label||i?.val))])],1)})),1):"checkbox"===e.item?.type?t("Checkbox",{attrs:{disabled:!!e.item.disabled},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}},[e._v(e._s(e.item.label))]):"checkboxGroup"===e.item?.type?t("CheckboxGroup",{style:e.itemStyle,on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}},e._l(e.item.options,(function(i){return t("Checkbox",{key:"checkItem"+i?.val,attrs:{label:i?.val,disabled:Boolean(e.item.disabled)||e.disabled||i?.disabled}},[i?.icon?t("Icon",{attrs:{type:i?.icon}}):e._e(),t("span",[e._v(e._s(i?.label||i?.val))])],1)})),1):"textarea"===e.item?.type?t("Input",{style:e.itemStyle,attrs:{type:"textarea",autosize:e.item.autosize||{minRows:2},maxlength:e.item.maxLength||null,"show-word-limit":Boolean(e.item.showWordLimit),placeholder:e.item.placeholder||e.t("r.pInput"),disabled:Boolean(e.item.disabled)||e.disabled,clearable:!1!==e.item.clearable},on:{"on-blur":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"upload"===e.item?.type?t("upload-group",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{url:e.item.url||e.uploadUrl,"manual-upload":Boolean(e.item.manualUpload),format:e.item.format||[],data:e.item.data,"max-size":e.item.maxSize||0,"show-img":Boolean(e.item.showImg),length:e.item.length||0,multiple:Boolean(e.item.multiple),disabled:Boolean(e.item.disabled)||e.disabled,"with-credentials":!1!==e.item.withCredentials},on:{"on-file-id-change":function(t){return e.reValidateAndChangeHandle(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"date"===e.item?.type?t("DatePicker",{style:e.itemStyle,attrs:{type:e.item.dateType,disabled:Boolean(e.item.disabled)||e.disabled,placement:"bottom-end",placeholder:e.item.placeholder||e.t("r.selectDate"),options:e.item.dateOptions||null,clearable:!1!==e.item.clearable,editable:!1,transfer:""},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"time"===e.item?.type?t("TimePicker",{style:e.itemStyle,attrs:{type:e.item.dateType,disabled:Boolean(e.item.disabled)||e.disabled,placement:"bottom-end",placeholder:e.item.placeholder||e.t("r.selectTime"),steps:e.item.steps||[],clearable:!1!==e.item.clearable,editable:!1,format:e.item.format||"HH:mm:ss",transfer:""},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"monthRange"===e.item?.type?t("month-range",{style:e.itemStyle,attrs:{disabled:Boolean(e.item.disabled)||e.disabled,placement:"bottom-end",placeholder:e.item.placeholder||e.t("r.selectDate"),options1:e.item.dateOptions1||null,options2:e.item.dateOptions2||null},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"editor"===e.item?.type?t("editor",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{placeholder:e.item.placeholder||e.t("r.pInput"),disabled:Boolean(e.item.disabled)||e.disabled,"upload-img-max-size":e.item.uploadImgMaxSize||102400,"upload-img-max-length":e.item.uploadImgMaxLength||10,"upload-img-show-base64":!1!==e.item.uploadImgShowBase64,"show-link-img":!1!==e.item.showLinkImg,"upload-img-serve":e.item.uploadImgServe,"preview-class":e.item.previewClass||"r-editor-view"},on:{"on-change":function(t){return e.reValidateAndChangeHandle(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"editorPro"===e.item?.type?t("editor-pro",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{placeholder:e.item.placeholder||e.t("r.pInput"),disabled:Boolean(e.item.disabled)||e.disabled,"toolbar-config":e.item.toolbarConfig||{},"editor-config":e.item.editorConfig||{},mode:e.item.mode||"simple",height:e.item.height||300},on:{input:function(t){return e.itemChange(t,e.item)}},model:{value:e.valGroup[e.item.key],callback:function(t){e.$set(e.valGroup,e.item.key,t)},expression:"valGroup[item.key]"}}):"inputMap"===e.item?.type?t("input-map",{style:e.itemStyle,attrs:{placeholder:e.item.placeholder||e.t("r.search"),disabled:Boolean(e.item.disabled)||e.disabled,"show-map":!1!==e.item.showMap,height:e.item.mapHeight||"250px"},on:{"on-change":function(t){return e.itemChange(t,e.item)}},model:{value:e.tempKeys[e.item.tempKey],callback:function(t){e.$set(e.tempKeys,e.item.tempKey,t)},expression:"tempKeys[item.tempKey]"}}):"custom"===e.item?.type?t("div",{staticClass:"inlineBlock",style:e.itemStyle},[e._t(e.item.slotName,null,{valGroup:e.valGroup})],2):e._e(),Boolean(e.item?.info)?t("div",{staticClass:"formInfoTxtXN"},[e._v(e._s(e.item?.info))]):e._e(),Boolean(e.item?.title)?t("div",{staticClass:"formTitleTxtXN"},[e._v(" "+e._s(e.item?.title)+" ")]):e._e()],1)},Ga=[],Fa=function(){var e=this,t=e._self._c;return t("div",{staticClass:"monthRangeBoxR"},[t("DatePicker",{attrs:{open:e.openB,value:e.valueB,transfer:"",type:"month",placement:e.placement,options:e.options2},on:{"on-change":e.changeB,"on-clickoutside":e.close}},[t("div",{staticClass:"bRoot"})]),t("DatePicker",{attrs:{open:e.openA,value:e.valueA,transfer:"",type:"month",placement:e.placement,options:e.options1},on:{"on-change":e.changeA,"on-clickoutside":e.close}},[t("div",{on:{click:e.focus}},[t("Input",{staticClass:"aRoot",attrs:{readonly:"",placeholder:e.placeholder||e.t("r.selectDate"),disabled:e.disabled},scopedSlots:e._u([{key:"suffix",fn:function(){return[t("Icon",{attrs:{type:e.mouseOver&&(e.valueA||e.valueB)&&!e.disabled?"ios-close-circle":"ios-calendar-outline"}})]},proxy:!0}]),model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}})],1)])],1)},za=[],Ea={name:"monthRange",mixins:[ot],model:{prop:"value",event:"on-change"},props:{value:{type:Array,default(){return[null,null]}},placement:{type:String,default:"bottom-start"},placeholder:{type:String},options1:{type:Object},options2:{type:Object},disabled:{type:Boolean,default:!1}},data(){return{openA:!1,openB:!1,mouseOver:!1}},computed:{valueA:{get(){return this.value?.[0]||null},set(e){this.$emit("on-change",[e,this.valueB])}},valueB:{get(){return this.value?.[1]||null},set(e){this.$emit("on-change",[this.valueA,e])}},valueT(){return(this.valueA||"")+(this.valueA||this.valueB?" - ":"")+(this.valueB||"")}},mounted(){document.querySelector(".monthRangeBoxR .aRoot .ivu-input-suffix").addEventListener("mouseover",(()=>{this.mouseOver=!0})),document.querySelector(".monthRangeBoxR .aRoot .ivu-input-suffix").addEventListener("mouseout",(()=>{this.mouseOver=!1})),document.querySelector(".monthRangeBoxR .aRoot .ivu-input-suffix").addEventListener("click",(e=>{this.disabled||!this.valueA&&!this.valueB||(e?.stopPropagation?.(),this.clear())}))},methods:{focus(){this.disabled||(this.openA=!0)},changeA(e){this.valueA=e,this.openA=!1,this.openB=!0},changeB(e){this.valueB=e,this.openB=!1},clear(){this.$emit("on-change",[null,null])},close(){this.openA=!1,this.openB=!1,this.valueA&&null===this.valueB&&(this.valueA=null)}}},Xa=Ea,Ha=_(Xa,Fa,za,!1,null,null,null),ja=Ha.exports,Wa={name:"itemR",mixins:[ot],components:{selectInput:_i,alCascaderMC:la,asyncCascader:Ai,uploadGroup:Mt,editor:Hi,editorPro:Qi,inputMap:ai,monthRange:ja},props:{item:Object,itemStyle:Object,valGroup:Object,tempKeys:Object,inline:Boolean,disabled:Boolean,labelWidth:Number,itemWidth:Number,mgrUrl:String,uploadUrl:String},methods:{itemClass(e){return{withInfo:Boolean(e.info),withTitle:Boolean(e.title),inlineFormItemXN:this.inline,noLabel:"selectInput"===e.type,[e.class]:e.class,slotInput:e.slotPosition}},itemChange(e,t){this.$emit("item-change",{e:e,root:t})},reValidateAndChangeHandle(e,t){this.$emit("re-validate",{e:e,root:t})},onSelectInputChange(e){this.$emit("select-input-change",e)},alNameChange(e,t){this.$emit("al-name-change",{name:e,root:t})},asyncLabelChange(e,t){this.$emit("async-label-change",{label:e,root:t})}}},Ua=Wa,qa=_(Ua,Va,Ga,!1,null,null,null),Ja=qa.exports,Ya={name:"formR",mixins:[ot],components:{ItemR:Ja},props:{formData:{type:Array,default(){return[]}},formRules:{type:Object,default(){return{}}},showMessage:{type:Boolean,default:!0},labelWidth:{type:Number,default:160},contentWidth:{type:String,default:"70%"},itemWidth:{type:Number,default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{type:String},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{type:String},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{type:String},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0},teamClass:{type:String,default:"formTeamBox"}},data(){return{valGroup:{},formDataT:[],tempKeys:{},watchGroup:[],mgrUrl:window?.g?.mgrURL||null,selectInputKeys:[],hiddenKeys:[],showLoading:!1,formReRenderKey:Math.floor(1e8*Math.random()+1e3),uploadUrl:window?.g?.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":"/file",debounceCount:!1}},computed:{formTeam(){return Array.isArray(A().head(this.formData))},formStyle(){return this.inline?{width:this.itemWidth+this.labelWidth+"px"}:{}},itemStyle(){return this.inline?{width:"100%"}:{width:this.contentWidth}},formRulesT(){let e=A().cloneDeep(this.formRules);for(let t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t]))for(let i of e[t])!i||i?.message||i?.validator||(i.message=this.t("r.required"));else"Object"===Q(e[t])&&(e[t].message||e[t].validator||(e[t].message=this.t("r.required")));return e},submitKeys(){let e=[];if(this.formTeam)for(let t of this.formDataT)this.submitItems(t,e);else this.submitItems(this.formDataT,e);return e.concat(this.selectInputKeys,this.hiddenKeys)},showingKeys(){let e=[];if(this.formTeam)for(let t of this.formDataT)this.showingItems(t,e);else this.showingItems(this.formDataT,e);return e}},created(){this.initValGroup(),this.initFormDataT()},methods:{getSlotFormData(e){return e.filter((e=>e?.slotName))},submitItems(e,t){for(let i of e)if(!0===i.showing&&i.key&&"selectInput"!==i.type&&(t.push(i.key),i.key2&&t.push(i.key2),i.collectLabel))if("Object"===Q(i.collectLabel)&&i.collectLabel.key)t.push(i.collectLabel.key);else if(Array.isArray(i.collectLabel))for(let e of i.collectLabel)e.key&&t.push(e.key)},showingItems(e,t){for(let i of e)!0===i.showing&&i.key&&"selectInput"!==i.type&&t.push(i.key)},resetForm(){return new Promise((e=>{this.clearForm(),this.refreshFormDom().then((()=>{this.$emit("on-reset"),e()}))}))},reRenderForm(){return new Promise((e=>{for(let t of this.watchGroup)t();this.watchGroup=[],this.tempKeys={},this.initValGroup(),this.initFormDataT(),this.refreshFormDom().then((()=>{this.$emit("on-re-render"),e()}))}))},refreshFormDom(){return new Promise((e=>{this.formReRenderKey=Math.floor(1e8*Math.random()+1e3),this.$nextTick((function(){e()}))}))},clearForm(){let e=this.getDefaultValues();for(let t in this.valGroup)if(this.valGroup.hasOwnProperty(t))if(we(e[t]))this.$set(this.valGroup,t,e[t]);else if(Array.isArray(this.valGroup[t]))this.$set(this.valGroup,t,[]);else if("Boolean"===Q(this.valGroup[t]))this.$set(this.valGroup,t,!1);else{const e=me(this.formData,(e=>e?.key===t));!e||"editor"!==e.type&&"editorPro"!==e.type?this.$set(this.valGroup,t,null):this.$set(this.valGroup,t,"")}this.clearTempKeys(e)},clearTempKeys(e){for(let t in this.tempKeys)this.tempKeys.hasOwnProperty(t)&&(we(e[t])?this.$set(this.tempKeys,t,e[t]):Array.isArray(this.tempKeys[t])?this.$set(this.tempKeys,t,[]):"Object"===Q(this.tempKeys[t])&&this.tempKeys[t].hasOwnProperty("key")&&this.tempKeys[t].hasOwnProperty("val")?this.$set(this.tempKeys[t],"val",null):this.$set(this.tempKeys,t,null))},clearTempKeyItem(e){let t=this.getDefaultValues();we(t[e])?this.$set(this.tempKeys,e,t[e]):Array.isArray(this.tempKeys[e])?this.tempKeys[e]=[]:this.tempKeys[e]=null},getDefaultValues(){let e={};if(this.formTeam)for(let t of this.formDataT)this.defaultValItems(t,e);else this.defaultValItems(this.formDataT,e);return e},defaultValItems(e,t){for(let i of e)i.tempKey&&we(i.defaultVal)&&this.getTempKeyDefaultVal(i,t),i.key&&we(i.defaultVal)&&(t[i.key]=i.defaultVal),i.key2&&we(i.defaultVal2)&&(t[i.key2]=i.defaultVal2)},getFormItemIfVal(e){if(e.show){if("Object"===Q(e.show))return this.returnIfVal(e,this.dealIfItem(e.show));if(Array.isArray(e.show)){if(e.showOr){for(let t of e.show)if(!0===this.dealIfItem(t))return this.returnIfVal(e,!0);return this.returnIfVal(e,!1)}for(let t of e.show)if(!1===this.dealIfItem(t))return this.returnIfVal(e,!1);return this.returnIfVal(e,!0)}if("Function"===Q(e.show))return this.returnIfVal(e,e.show(this.valGroup))}else e.showing||this.$set(e,"showing",!0);return!0},dealIfItem(e){if(e.reg&&"function"===typeof e.reg.test)return e.reg.test(this.valGroup[e.key]);if(Array.isArray(e.val)){for(let t of e.val){if((this.valGroup[e.key]||0===this.valGroup[e.key]||!1===this.valGroup[e.key])&&"."===t)return!0;if(this.valGroup[e.key]===t)return!0}return!1}return!1},returnIfVal(e,t){return!e.showing&&t&&e.key?(this.$set(e,"showing",t),void 0!==e.defaultVal&&(e.tempKey?(null===this.tempKeys[e.tempKey]||void 0===this.tempKeys[e.tempKey]||("Object"===Q(this.tempKeys[e.tempKey])||Array.isArray(this.tempKeys[e.tempKey]))&&A().isEmpty(this.tempKeys[e.tempKey]))&&this.getTempKeyDefaultVal(e,this.tempKeys):null!==this.valGroup[e.key]&&void 0!==this.valGroup[e.key]||this.$set(this.valGroup,e.key,e.defaultVal),!e.key2||void 0===e.deafultVal2||null!==this.valGroup[e.key2]&&void 0!==this.valGroup[e.key2]||"inputMap"===e.type||(this.valGroup[e.key2]=e.defaultVal2)),e.tempKey&&this.tempKeysWatchHandle(this.tempKeys[e.tempKey],e)):this.$set(e,"showing",t),t},getTempKeyDefaultVal(e,t){switch(e.type){case"selectInput":t[e.tempKey]={key:e.key,val:e.defaultVal};break;case"inputMap":e.key3?t[e.tempKey]={lng:e.defaultVal||0,lat:e.defaultVal2||0,name:e.defaultVal3||""}:t[e.tempKey]={lng:e.defaultVal||0,lat:e.defaultVal2||0};break;case"input":case"inputNumber":case"textarea":t[e.tempKey]=e.defaultVal;break;case"radioGroup":case"select":case"checkboxGroup":e.booleanVal?t[e.tempKey]=Boolean(e.defaultVal)?1:0:t[e.tempKey]=e.defaultVal;break;case"date":case"time":case"monthRange":"date"===e.dateType||"datetime"===e.dateType||"time"===e.dateType||"year"===e.dateType||"month"===e.dateType?t[e.tempKey]=e.defaultVal:"daterange"!==e.dateType&&"datetimerange"!==e.dateType&&"timerange"!==e.dateType&&"monthRange"!==e.type||(t[e.tempKey]=e.defaultVal&&e.defaultVal2&&[e.defaultVal,e.defaultVal2]||[]);break}},initFormDataT(){let e=A().cloneDeep(this.formData);if(this.formTeam)for(let t of e)this.initItems(t);else this.initItems(e);this.formDataT=e},initItems(e){for(let t of e)switch(t.type){case"selectInput":const e="selectInput"+Math.floor(1e8*Math.random());t.tempKey=e,this.$set(this.tempKeys,e,{key:t.key||null,val:t.defaultVal||null}),this.watchGroup.push(this.$watch((()=>this.tempKeys[e]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0}));break;case"inputMap":const i="inputMap"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=i,t.key3?this.$set(this.tempKeys,i,void 0!==t.defaultVal&&void 0!==t.defaultVal2?{lng:t.defaultVal,lat:t.defaultVal2,name:t.defaultVal3||""}:{lng:null,lat:null,name:null}):this.$set(this.tempKeys,i,void 0!==t.defaultVal&&void 0!==t.defaultVal2?{lng:t.defaultVal,lat:t.defaultVal2}:{lng:null,lat:null}),this.watchGroup.push(this.$watch((()=>this.tempKeys[i]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const a="inputT"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=a,this.$set(this.tempKeys,a,void 0!==t.defaultVal?t.defaultVal:null),this.watchGroup.push(this.$watch((()=>this.tempKeys[a]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(t.options||(t.options=[]),t.asyncOption)if(t.changeOption)if("Object"===Q(t.changeOption))t.changeOption.valKey&&t.changeOption.key&&this.watchGroup.push(this.$watch((()=>this.valGroup[t.changeOption.valKey]),(e=>{let i=A().cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,(e||0===e||!1===e)&&t.optionUrl){let a=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((a+"&"+t.changeOption.key+"="+e).replace(/\?&/,"?"),t,i)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),we(i)&&this.recoverVal(i,t)}),{immediate:!0}));else if(Array.isArray(t.changeOption)){let e=!0;for(let i of t.changeOption)if(!i.valKey||!i.key){e=!1;break}e?this.watchGroup.push(this.$watch((()=>{let e="";for(let i of t.changeOption){let t=this.valGroup[i.valKey];if(t||0===t||!1===t)e+="&"+i.key+"="+t;else if(!i.notRequired)return!1}return e}),(e=>{let i=A().cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,e&&t.optionUrl){let a=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((a+e).replace(/\?&/,"?"),t,i)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),we(i)&&this.recoverVal(i,t)}),{immediate:!0})):(t.options=[],t.localOption&&(t.options=[...t.localOption]))}else"Boolean"===Q(t.changeOption)&&this.watchGroup.push(this.$watch((()=>me(this.formData,(e=>e?.key===t.key)).optionUrl),(e=>{let i=A().cloneDeep(this.tempKeys[t.tempKey]);this.tempKeys[t.tempKey]=null,e?this.initOption(e,t,i):(t.options=[],t.localOption&&(t.options=[...t.localOption]),we(i)&&this.recoverVal(i,t))}),{immediate:!0}));else this.initOption(t.optionUrl,t);else"String"===Q(t.borrowOption)&&this.$nextTick((function(){t.options=me(this.formDataT,(e=>e?.key===t.borrowOption)).options}));const l="opEle"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=l,"select"===t.type&&t.multiple||"checkboxGroup"===t.type?this.$set(this.tempKeys,l,void 0!==t.defaultVal?t.defaultVal:[]):t.booleanVal?this.$set(this.tempKeys,l,void 0!==t.defaultVal?Boolean(t.defaultVal)?1:0:null):this.$set(this.tempKeys,l,void 0!==t.defaultVal?t.defaultVal:null),this.watchGroup.push(this.$watch((()=>this.tempKeys[l]),(e=>{this.tempKeysWatchHandle(e,t)}),{immediate:!0})));break;case"date":case"time":case"monthRange":const s="date"+Math.floor(1e8*Math.random());t.tempKey=s,"date"===t.dateType||"datetime"===t.dateType||"time"===t.dateType||"year"===t.dateType||"month"===t.dateType?this.$set(this.tempKeys,s,t.defaultVal||null):"daterange"!==t.dateType&&"datetimerange"!==t.dateType&&"timerange"!==t.dateType&&"monthRange"!==t.type||this.$set(this.tempKeys,s,t.defaultVal&&t.defaultVal2&&[t.defaultVal,t.defaultVal2]||[]),this.watchGroup.push(this.$watch((()=>this.tempKeys[s]),(e=>{this.tempKeysWatchHandle(e,t)})));break}},initOption(e,t,i){Ye.get(e).then((e=>{let a=e?.data?.records||e?.data||e||[];if(Array.isArray(a))if("Function"===Q(t.optionFilter)&&(a=t.optionFilter(a)),t.optionLabel&&t.optionVal){const e=Array.isArray(t.optionLabel);t.options.length=0,t.options.push(...a.map((i=>{let a={};if(e){let e="";t.optionLabel.forEach(((t,a)=>{let l=String(i[t]);e+=1===a?"（"+l:a>1?"、"+l:l})),a={label:e+"）",val:i[t.optionVal]}}else a={label:i[t.optionLabel],val:i[t.optionVal]};if(t.collectLabel)if("Object"===Q(t.collectLabel))t.collectLabel.valKey&&"label"!==t.collectLabel.valKey&&(a[t.collectLabel.valKey]=i[t.collectLabel.valKey]);else if(Array.isArray(t.collectLabel))for(let e of t.collectLabel)e.valKey&&"label"!==e.valKey&&(a[e.valKey]=i[e.valKey]);if(null!==a.val&&void 0!==a.val)return a})))}else t.options.length=0,t.options.push(...a);else t.options.length=0;t.localOption&&t.options.unshift(...t.localOption),we(i)&&this.recoverVal(i,t),t.disableOptionByOthers&&("String"===Q(t.disableOptionByOthers)?this.watchGroup.push(this.$watch((()=>this.valGroup[t.disableOptionByOthers]),(e=>{this.clearTempKeyItem(t.tempKey);for(let i of t.options)i.disabled&&this.$set(i,"disabled",!1);if(e||0===e||!1===e)for(let i of t.options)i.val===e&&this.$set(i,"disabled",!0)}),{immediate:!0})):Array.isArray(t.disableOptionByOthers)&&this.watchGroup.push(this.$watch((()=>t.disableOptionByOthers.filter((e=>e)).map((e=>this.valGroup[e]))),(e=>{this.clearTempKeyItem(t.tempKey);for(let i of t.options)i.disabled&&this.$set(i,"disabled",!1);if(e)for(let i of t.options)for(let t=0;t<e.length;t++)if(i.val===e[t]){this.$set(i,"disabled",!0),e.splice(t,1);break}}),{immediate:!0})))})).catch((e=>{console.warn("拉取选项出错")}))},recoverVal(e,t){Array.isArray(t.options)&&-1!==A().findIndex(t.options,{val:e})&&(this.tempKeys[t.tempKey]=e)},initValGroup(){if(this.valGroup={},this.formTeam)for(let e of this.formData)this.initValItems(e);else this.initValItems(this.formData)},initValItems(e){for(let t of e)t.key&&("checkboxGroup"===t.type||"select"===t.type&&t.multiple?this.$set(this.valGroup,t.key,void 0!==t.defaultVal&&void 0===t.show?t.defaultVal:[]):"editor"===t.type||"editorPro"===t.type?this.$set(this.valGroup,t.key,void 0!==t.defaultVal&&void 0===t.show?t.defaultVal:""):(this.$set(this.valGroup,t.key,void 0!==t.defaultVal&&void 0===t.show?t.defaultVal:null),t.key2&&this.$set(this.valGroup,t.key2,void 0!==t.defaultVal2&&void 0===t.show?t.defaultVal2:null)))},tempKeysWatchHandle(e,t){if(t.showing)switch(t.type){case"selectInput":e&&(e.beforeKey&&delete this.valGroup[e.beforeKey],this.valGroup[e.key]=e.val);break;case"inputMap":e?(this.valGroup[t.key]=e.lng,this.valGroup[t.key2]=e.lat,t.key3&&(this.valGroup[t.key3]=e.name)):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null,t.key3&&(this.valGroup[t.key3]=null));break;case"input":case"inputNumber":case"textarea":if(e||0===e){let i=/^-?\d+(.\d+)?$/;t.numberVal&&i.test(e)?this.valGroup[t.key]=Number(e):this.valGroup[t.key]=e}else this.valGroup[t.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(t.booleanVal&&!t.multiple?this.valGroup[t.key]=void 0===e||""===e||null===e?null:Boolean(e):t.multiple||"checkboxGroup"===t.type?this.valGroup[t.key]=Object.assign([],e):this.valGroup[t.key]=e,t.collectLabel){const i=this.findOptions(t,e);if("Object"===Q(t.collectLabel)){if(t.collectLabel.key&&t.collectLabel.valKey){const e=this.findTempKey(t.collectLabel.key);let a=null;Array.isArray(i)?(a=i.map((e=>e[t.collectLabel.valKey])),this.$set(this.valGroup,t.collectLabel.key,a),e&&this.$set(this.tempKeys,e,a)):(i&&we(i[t.collectLabel.valKey])&&(a=i[t.collectLabel.valKey]),this.$set(this.valGroup,t.collectLabel.key,a),e&&this.$set(this.tempKeys,e,a));let l=me(this.formDataT,(e=>e?.key===t.collectLabel.key));l&&l.tempKey&&(this.tempKeys[l.tempKey]=this.valGroup[t.collectLabel.key])}}else if(Array.isArray(t.collectLabel))for(let e of t.collectLabel)if(e?.key&&e.valKey){const t=this.findTempKey(e.key);let a=null;Array.isArray(i)?(a=i.map((t=>t[e.valKey])),this.$set(this.valGroup,e.key,a),t&&this.$set(this.tempKeys,t,a)):(i&&we(i[e.valKey])&&(a=i[e.valKey]),this.$set(this.valGroup,e.key,a),t&&this.$set(this.tempKeys,t,a));let l=me(this.formDataT,(t=>t?.key===e.key));l&&l.tempKey&&(this.tempKeys[l.tempKey]=this.valGroup[e.key])}}break;case"date":case"time":case"monthRange":let i=t.dateType;const a={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"YYYY-MM"};"date"===i||"datetime"===i||"time"===i||"year"===i||"month"===i?e?(this.valGroup[t.key]="time"===i?e:Pa()(e).format(t.format||a[i]),"date"===i&&t.addTime&&(this.valGroup[t.key]+=" 00:00:00")):this.valGroup[t.key]=null:"monthRange"!==t.type&&"daterange"!==i&&"datetimerange"!==i&&"timerange"!==i||(e?.[0]&&e?.[1]?("timerange"===i?(this.valGroup[t.key]=e[0],this.valGroup[t.key2]=e[1]):"monthRange"===t.type?(this.valGroup[t.key]=t.format&&Pa()(e[0]).format(t.format)||e[0],this.valGroup[t.key2]=t.format&&Pa()(e[1]).format(t.format)||e[1]):(this.valGroup[t.key]=Pa()(e[0]).format(t.format||a[i]),this.valGroup[t.key2]=Pa()(e[1]).format(t.format||a[i])),"daterange"===i&&t.addTime&&(this.valGroup[t.key]+=" 00:00:00",this.valGroup[t.key2]+=" 23:59:59")):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null));break}},findOptions(e,t){if(e.multiple||"checkboxGroup"===e.type){if(t){let i=[];for(let a of e.options)-1!==t.indexOf(a?.val)&&i.push(a);return i}return!1}if(t||0===t||!1===t)for(let i of e.options)if(i?.val===t)return i;return!1},findTempKey(e){if(this.formTeam){for(let t of this.formDataT){const i=this.findTempKeyItem(t,e);if(i)return i}return!1}return this.findTempKeyItem(this.formDataT,e)},findTempKeyItem(e,t){for(let i of e)if(i.key===t)return i.tempKey;return!1},setItemToValGroup(e,t){let i={};for(let a in this.valGroup)this.valGroup.hasOwnProperty(a)&&void 0!==e[a]&&(i[a]=e[a],delete e[a]);this.updateValGroup(i,t);for(let a in e)e.hasOwnProperty(a)&&(this.hiddenKeys.indexOf(a)<0&&this.hiddenKeys.push(a),this.$set(this.valGroup,a,e[a]))},getValidateKeys(e){let t=A().cloneDeep(e);if(this.formTeam){let e=[];for(let i of this.formData)e.push(...this.getValidateItems(i,t));return e}return this.getValidateItems(this.formData,t)},getValidateItems(e,t){return e.filter((e=>{for(let i of Object.keys(t))if(e?.key===i&&this.showingKeys.indexOf(i)>-1&&null!==t[i]&&(!Array.isArray(t[i])&&"Object"!==Q(t[i])||!A().isEmpty(t[i])))return delete t[i],!0;return!1})).map((e=>e?.key))},updateValGroup(e,t=!1){let i=A().cloneDeep(e);this.updateTempKeys(e,t);for(let a in this.valGroup)if(this.valGroup.hasOwnProperty(a)&&void 0!==e[a]&&"--"!==e[a]){if(Array.isArray(e[a]))e[a]=e[a].filter((e=>"--"!==e));else if("Object"===Q(e[a]))for(let t in e[a])e[a].hasOwnProperty(t)&&"--"===e[a][t]&&(e[a][t]=null);this.valGroup[a]=e[a]}else t||(this.valGroup[a]=Array.isArray(this.valGroup[a])?[]:null);this.$nextTick((function(){this.validateFields(this.getValidateKeys(i))}))},updateTempKeys(e,t=!1){if(this.formTeam)for(let i of this.formDataT)this.updateTempKeyItem(i,e,t);else this.updateTempKeyItem(this.formDataT,e,t)},updateTempKeyItem(e,t,i=!1){for(let a of e)if((i&&(void 0!==t[a.key]||void 0!==t[a.key2])||!i)&&a.tempKey)switch(a.type){case"inputMap":"Number"===Q(t[a.key])&&Q("Number"===t[a.key2])?a.key3?this.tempKeys[a.tempKey]={lng:t[a.key],lat:t[a.key2],name:t[a.key3]}:this.tempKeys[a.tempKey]={lng:t[a.key],lat:t[a.key2]}:a.key3?this.tempKeys[a.tempKey]={lng:null,lat:null,name:null}:this.tempKeys[a.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":t[a.key]&&"--"!==t[a.key]||0===t[a.key]?this.tempKeys[a.tempKey]=t[a.key]:this.tempKeys[a.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":t[a.key]&&"--"!==t[a.key]||0===t[a.key]||!1===t[a.key]?a.multiple||"checkboxGroup"===a.type?this.$set(this.tempKeys,a.tempKey,[...t[a.key]]):a.booleanVal?this.$set(this.tempKeys,a.tempKey,Boolean(t[a.key])?1:0):this.$set(this.tempKeys,a.tempKey,t[a.key]):a.multiple||"checkboxGroup"===a.type?this.$set(this.tempKeys,a.tempKey,[]):this.$set(this.tempKeys,a.tempKey,null);break;case"date":case"time":"date"===a.dateType||"datetime"===a.dateType||"year"===a.dateType||"month"===a.dateType||"time"===a.dateType?this.tempKeys[a.tempKey]=t[a.key]&&"--"!==t[a.key]?t[a.key]:null:"daterange"!==a.dateType&&"datetimerange"!==a.dateType&&"timerange"!==a.dateType||(this.tempKeys[a.tempKey]=t[a.key]&&"--"!==t[a.key]&&t[a.key2]&&"--"!==t[a.key2]&&[t[a.key],t[a.key2]]||[]);break}},updateFormDataT(e){if(Array.isArray(e))for(let t of e)this.changeDataHandle(t);else"Object"===Q(e)&&this.changeDataHandle(e)},changeDataHandle(e){const{index:t,indexB:i,key:a,val:l}=e;if(this.formTeam){if((t||0===t)&&(i||0===i))if(a&&e.hasOwnProperty("val"))this.$set(this.formDataT[t][i],a,l);else for(let s of Object.keys(e))"index"!==s&&"indexB"!==a&&this.$set(this.formDataT[t][i],s,e[s])}else if(t||0===t)if(a&&e.hasOwnProperty("val"))this.$set(this.formDataT[t],a,l);else for(let s of Object.keys(e))"index"!==s&&this.$set(this.formDataT[t],s,e[s])},asyncLabelChange({label:e,root:t}){t.key2&&this.$set(this.valGroup,t.key2,e),this.itemChange({e:e,root:t})},onSelectInputChange(e){e.beforeKey&&A().remove(this.selectInputKeys,(t=>t===e.beforeKey)),e.key&&(-1===this.selectInputKeys.indexOf(e.key)&&this.selectInputKeys.push(e.key),this.itemChange({e:null,root:e}))},alNameChange({name:e,root:t}){t.key2&&(this.valGroup[t.key2]=e),this.itemChange({e:e,root:t})},reValidateAndChangeHandle({e:e,root:t}){this.itemChange({e:e,root:t}),this.$nextTick((function(){this.$refs.formGroupXRef.validateField(t.key)}))},itemChange({e:e,root:t}){tt((()=>{let i={event:e};if(t.key&&(i[t.key]=this.valGroup[t.key]),t.key2&&(i[t.key2]=this.valGroup[t.key2]),t.collectLabel&&t.collectLabel.key)i[t.collectLabel.key]=this.valGroup[t.collectLabel.key];else if(Array.isArray(t.collectLabel))for(let e of t.collectLabel)i[e.key]=this.valGroup[e.key];this.$emit("on-item-change",i)}),300)},getValGroup(){let e={};for(let t of this.submitKeys)e[t]=this.valGroup[t];return this.trim&&(e=te(e)),e},validate(){this.$refs.formGroupXRef.validate()},reValidate(e){tt((()=>{this.$refs.formGroupXRef.validateField(e,(()=>{}))}),10)},validateFields(e){tt((()=>{if(Array.isArray(e))for(let t of e)this.$refs.formGroupXRef.validateField(t,(()=>{}))}),10)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e))},submit(){this.disabled||this.$refs.formGroupXRef.validate((e=>{this.debounceCount||(this.debounceCount=!0,e&&(this.showLoading=!0,this.$emit("on-submit",this.getValGroup())),tt((()=>{this.debounceCount=!1}),2e3))}))}}},Qa=Ya,Za=_(Qa,Oa,Na,!1,null,null,null),el=Za.exports,tl=function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"formModal",class:{hideFooter:e.hideFooter},attrs:{title:e.title||e.t("r.title"),"mask-closable":!1,"footer-hide":e.hideFooter,width:e.width},on:{"on-visible-change":e.handleVisibleChange},scopedSlots:e._u([{key:"footer",fn:function(){return[t("Button",{staticClass:"modal-save-btn",attrs:{loading:e.btnLoading&&e.showLoading},on:{click:e.submit}},[e._v(e._s(e.okBtTxt||e.t("r.confirm")))]),e.hideCancelBt?e._e():t("Button",{staticClass:"modal-cancel-btn",on:{click:e.close}},[e._v(e._s(e.cancelBtTxt||e.t("r.cancel")))])]},proxy:!0}]),model:{value:e.openModal,callback:function(t){e.openModal=t},expression:"openModal"}},[t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,btnLoading:e.btnLoading},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t?.slotName,fn:function({valGroup:i}){return[e._t(t?.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners))],1)},il=[],al={name:"formModal",mixins:[ot],components:{formR:el},props:{title:{type:String},formData:{type:Array,default(){return[]}},width:{type:[Number,String],default(){return this.formModalWidth}},labelWidth:{type:Number,default(){return this.formModalLabelWidth}},okBtTxt:{type:String},cancelBtTxt:{type:String},hideCancelBt:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1}},data(){return{openModal:!1,showLoading:!1}},computed:{formTeam(){return"Array"===Q(this.formData[0])},formDataC(){if(this.formTeam){let e=[];for(let t of this.formData)e=e.concat(t.filter((e=>"custom"===e?.type||"input"===e?.type&&e.slotName&&e.slotPosition)));return e}return this.formData.filter((e=>"custom"===e?.type||"input"===e?.type&&e.slotName&&e.slotPosition))}},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clearForm(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e),this.$refs.formRRef.changeLoading(this.showLoading))},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(){this.showLoading=!0},submit(){this.hideCancelBt?this.close():this.$refs.formRRef.submit()},open(){this.openModal=!0},close(){this.openModal=!1,tt((()=>{this.showLoading=!1,this.$refs.formRRef.changeLoading(!1)}),1e3)},handleVisibleChange(e){e?this.$emit("on-open"):this.$emit("on-close")}}},ll=al,sl=_(ll,tl,il,!1,null,null,null),ol=sl.exports,rl=function(){var e=this,t=e._self._c;return t("Modal",e._g(e._b({staticClass:"formModal",attrs:{title:e.title,width:e.width,"mask-closable":!1},on:{"on-visible-change":e.showHide},scopedSlots:e._u([{key:"footer",fn:function(){return[e._t("footer",(function(){return[t("Button",{staticClass:"modal-save-btn",attrs:{loading:e.btnLoading&&e.loading},on:{click:e.handleSub}},[e.btnLoading&&e.loading?t("span",[e._v("Loading...")]):t("span",[e._v(e._s(e.t("r.confirm")))])]),e.hideCancelBt?e._e():t("Button",{staticClass:"modal-cancel-btn",on:{click:e.close}},[e._v(e._s(e.t("r.cancel")))])]}))]},proxy:!0}],null,!0),model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},"Modal",e.$attrs,!1),e.$listeners),[e._t("default")],2)},nl=[],dl={name:"customModal",mixins:[ot],props:{title:{type:String,default:"标题"},hideCancelBt:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},width:{type:[Number,String],default:520}},data(){return{isOpen:!1,loading:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1},changeLoading(e){this.loading=Boolean(e)},showHide(e){e||this.$emit("on-close")},handleSub(){this.hideCancelBt?this.close():(this.loading=!0,this.$emit("on-submit"))}}},cl=dl,hl=_(cl,rl,nl,!1,null,null,null),ul=hl.exports,pl=function(){var e=this,t=e._self._c;return t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,"item-width":e.itemWidth,inline:!0,"show-long-ok-bt":!1,"show-inline-ok-bt":e.showInlineOkBt,"inline-ok-bt-txt":e.t("r.check"),"show-inline-clear-bt":e.showInlineClearBt,"show-message":!1},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t?.slotName,fn:function({valGroup:i}){return[e._t(t?.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners))},ml=[],fl={name:"searchForm",mixins:[ot],components:{formR:el},props:{formData:{type:Array,default(){return[]}},labelWidth:{type:Number,default(){return this.searchFormLabelWidth}},itemWidth:{type:Number,default(){return this.searchFormItemWidth}},showInlineOkBt:{type:Boolean,default:!0},showInlineClearBt:{type:Boolean,default:!0}},computed:{formTeam(){return"Array"===Q(this.formData[0])},formDataC(){if(this.formTeam){let e=[];for(let t of this.formData)e=e.concat(t.filter((e=>"custom"===e?.type||"input"===e?.type&&e.slotName&&e.slotPosition)));return e}return this.formData.filter((e=>"custom"===e?.type||"input"===e?.type&&e.slotName&&e.slotPosition))}},mounted(){this.$refs.formRRef.$el.parentNode.addEventListener("keyup",(e=>{13===e?.keyCode&&this.submit()}))},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clear(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){this.$refs.formRRef.changeLoading(void 0!==e&&e)},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(e){this.$emit("on-search",e)},submit(){this.$refs.formRRef.submit()}}},yl=fl,gl=_(yl,pl,ml,!1,null,null,null),vl=gl.exports,bl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"formGroupBoxVM",style:e.formGroupStyle},[t("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,"content-width":e.contentWidth,"item-width":e.itemWidth,btnLoading:e.btnLoading},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t?.slotName,fn:function({valGroup:i}){return[e._t(t?.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners)),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showOkBt||e.showCancelBt,expression:"showOkBt || showCancelBt"}],staticClass:"formFooterVM",style:{marginLeft:e.labelWidth+"px"}},[t("div",{staticClass:"btnBoxKAL",style:{width:e.contentWidth}},[e.showOkBt?t("Button",{staticClass:"form-save-btn",attrs:{loading:e.btnLoading&&e.showLoading},on:{click:e.submit}},[e._v(e._s(e.okBtTxt||e.t("r.confirm")))]):e._e(),e.showCancelBt?t("Button",{staticClass:"form-cancel-btn",on:{click:e.close}},[e._v(e._s(e.cancelBtTxt||e.t("r.cancel")))]):e._e()],1)])],1)},wl=[],kl={name:"formGroup",mixins:[ot],components:{formR:el},props:{formData:{type:Array,default(){return[]}},width:{type:String,default(){return this.formGroupWidth}},labelWidth:{type:Number,default(){return this.formGroupLabelWidth}},contentWidth:{type:String,default:"70%"},itemWidth:{type:Number,default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{type:String},cancelBtTxt:{type:String},btnLoading:{type:Boolean,default:!1}},data(){return{formGroupStyle:{width:this.width},showLoading:!1}},computed:{formTeam(){return"Array"===Q(this.formData[0])},formDataC(){if(this.formTeam){let e=[];for(let t of this.formData)e=e.concat(t.filter((e=>"custom"===e?.type||"input"===e?.type&&e.slotName&&e.slotPosition)));return e}return this.formData.filter((e=>"custom"===e?.type||"input"===e?.type&&e.slotName&&e.slotPosition))}},methods:{resetForm(){return new Promise((e=>{this.$refs.formRRef.resetForm().then((()=>{e()}))}))},refreshFormDom(){return new Promise((e=>{this.$refs.formRRef.refreshFormDom().then((()=>{e()}))}))},reRenderForm(){return new Promise((e=>{this.$refs.formRRef.reRenderForm().then((()=>{e()}))}))},clearForm(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e),this.$refs.formRRef.changeLoading(this.showLoading))},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(){this.showLoading=!0},submit(){this.$refs.formRRef.submit()},close(){this.$emit("on-cancel"),tt((()=>{this.showLoading=!1,this.$refs.formRRef.changeLoading(!1)}),1e3)}}},Sl=kl,xl=_(Sl,bl,wl,!1,null,null,null),Cl=xl.exports,Tl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"echart-cont",style:{width:e.widthT,height:e.heightT},attrs:{id:e.name}})},Ll=[],_l=b(190),Il=JSON.parse('{"color":["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],"backgroundColor":"rgba(0,0,0,0)","textStyle":{},"title":{"textStyle":{"color":"#333333"},"subtextStyle":{"color":"#666666"}},"line":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"radar":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"bar":{"itemStyle":{"normal":{"barBorderWidth":0,"barBorderColor":"#ccc"},"emphasis":{"barBorderWidth":0,"barBorderColor":"#ccc"}}},"pie":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"scatter":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"boxplot":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"parallel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"sankey":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"funnel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"gauge":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"candlestick":{"itemStyle":{"normal":{"color":"#edafda","color0":"transparent","borderColor":"#d680bc","borderColor0":"#8fd3e8","borderWidth":"2"}}},"graph":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"}},"lineStyle":{"normal":{"width":1,"color":"#aaa"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true,"color":["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],"label":{"normal":{"textStyle":{"color":"#eeeeee"}}}},"map":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"geo":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"categoryAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"valueAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"logAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"timeAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"toolbox":{"iconStyle":{"normal":{"borderColor":"#999"},"emphasis":{"borderColor":"#666"}}},"legend":{"textStyle":{"color":"#333333"}},"tooltip":{"axisPointer":{"lineStyle":{"color":"#cccccc","width":1},"crossStyle":{"color":"#cccccc","width":1}}},"timeline":{"lineStyle":{"color":"#8fd3e8","width":1},"itemStyle":{"normal":{"color":"#8fd3e8","borderWidth":1},"emphasis":{"color":"#8fd3e8"}},"controlStyle":{"normal":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5},"emphasis":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5}},"checkpointStyle":{"color":"#8fd3e8","borderColor":"rgba(138,124,168,0.37)"},"label":{"normal":{"textStyle":{"color":"#8fd3e8"}},"emphasis":{"textStyle":{"color":"#8fd3e8"}}}},"visualMap":{"color":["#516b91","#59c4e6","#a5e7f0"]},"dataZoom":{"backgroundColor":"rgba(0,0,0,0)","dataBackgroundColor":"rgba(255,255,255,0.3)","fillerColor":"rgba(167,183,204,0.4)","handleColor":"#a7b7cc","handleSize":"100%","textStyle":{"color":"#333"}},"markPoint":{"label":{"normal":{"textStyle":{"color":"#eeeeee"}},"emphasis":{"textStyle":{"color":"#eeeeee"}}}}}');_l.registerTheme("westeros",Il);var Bl={name:"echart",mixins:[ot],props:{config:Object,theme:{type:String,default:"westeros"},params:Object,url:String,data:Object,initData:{type:Boolean,default:!1},yAxis:{type:Object,default(){return{type:"value"}}},xAxis:{type:Object,default(){return{type:"category"}}},tooltip:{type:Object,default(){return{}}},series:{type:Array,default(){return[]}},name:{type:String,default:""},title:{type:String},titleColor:String,titleFontSize:Number,titleFontWeight:[String,Number],titleX:String,titleY:String,subTitle:{type:String,default:""},subTitleColor:String,subTitleFontSize:Number,legendShow:{type:Boolean,default:!0},legendType:String,legendColor:String,legendFontSize:Number,legendX:String,legendY:String,legendOrient:String,widthT:{type:String,default:"870px"},heightT:{type:String,default:"384px"}},data(){return{myChart:null,dataT:this.data,yAxisT:this.yAxis,xAxisT:this.xAxis,seriesT:this.series}},created(){this.initData&&this.getData().then((e=>{this.init(e)})).catch((e=>{console.warn("代码报错啦~"),console.warn(e)}))},watch:{config:{handler(e){e&&this.init()},deep:!0},data:{handler(e){e&&(this.dataT=e,this.init())},deep:!0},series:{handler(e){e&&(this.seriesT=e,this.init())},deep:!0},params:{handler(e){e&&this.getData().then((e=>{this.init(e)})).catch((e=>{console.warn("代码报错啦~"),console.warn(e)}))},deep:!0}},methods:{resizeHandler(){this.myChart&&(this.myChart.resize(),window.echartResizeMJ[this.name]=!0)},getData(){return new Promise(((e,t)=>{this.url?Ye.get(this.url,this.params).then((t=>{t.data||null===t.data?(t.data.charts||null===t.data.charts?this.dataT=t.data.charts||[]:this.dataT=t.data||[],e(t)):console.warn("请求返回数据有误，无法使用")})).catch((e=>{console.warn(e)})):this?.dataT?.series||this?.seriesT?.length>0?e():console.warn("没有有效的请求地址，无法获取图表数据")}))},init(){let e=this;e.myChart=_l.init(document.getElementById(this.name),this.theme),e.myChart.on("timelinechanged",(t=>{e.$emit("time-line-change",t.currentIndex)})),e.myChart.on("click",(t=>{e.$emit("series-click",t)}));let i={};i=this.config?this.config:{title:{text:this.dataT.title?this.dataT.title:this.title||t("r.unknown"),textStyle:{color:this.dataT.titleColor||this.titleColor,fontSize:this.dataT.titleFontSize||this.titleFontSize,fontWeight:this.dataT.titleFontWeight||this.titleFontWeight},x:this.dataT.titleX||this.titleX,y:this.dataT.titleY||this.titleY,subtext:this.dataT.subTitle?this.dataT.subTitle:this.subTitle,subtextStyle:{color:this.dataT.subTitleColor||this.subTitleColor,fontSize:this.dataT.subTitleFontSize||this.subTitleFontSize}},legend:{show:this.dataT.legendShow?this.dataT.legendShow:this.legendShow,type:this.dataT.legendType||this.legendType,textStyle:{color:this.dataT.legendColor||this.legendColor,fontSize:this.dataT.legendFontSize||this.legendFontSize},x:this.dataT.legendX||this.legendX,y:this.dataT.legendY||this.legendY,orient:this.dataT.legendOrient||this.legendOrient},tooltip:this.dataT.tooltip?this.dataT.tooltip:this.tooltip,xAxis:this.dataT.xAxis?this.dataT.xAxis:this.xAxisT,yAxis:this.dataT.yAxis?this.dataT.yAxis:this.yAxisT,series:this.dataT.series?this.dataT.series:this.seriesT},e.myChart.setOption(i),void 0===window.echartResizeMJ&&(window.echartResizeMJ={}),window.echartResizeMJ[e.name]||window.addEventListener("resize",e.resizeHandler)}},beforeDestroy(){this.myChart&&(this.myChart.clear(),this.myChart.dispose(),this.myChart=null,window.echartResizeMJ={}),window.removeEventListener("resize",this.resizeHandler)}},Kl=Bl,Dl=_(Kl,Tl,Ll,!1,null,null,null),$l=Dl.exports,Al=function(){var e=this,t=e._self._c;return t("div",{style:e.getBg},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showX,expression:"showX"}],staticClass:"contentZ"},[e._t("default")],2)])},Rl=[],Ol={name:"showHidePanelB",model:{prop:"show",event:"subVal"},props:{bg:{default:"transparent"},show:{type:Boolean,default:!1}},computed:{showX:{get(){return this.show},set(e){this.$emit("subVal",e)}},getBg(){return this.showX?"background:"+this.bg:""}}},Nl=Ol,Ml=_(Nl,Al,Rl,!1,null,null,null),Pl=Ml.exports,Vl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tableSearchV",style:{position:e.fixed?"fixed":"absolute",right:e.right,top:e.top}},[e._t("default",(function(){return[t("Input",{staticClass:"searchInputC",style:{width:e.width},attrs:{search:"",placeholder:e.placeholder||e.t("r.pInput")},on:{"on-search":e.onSearch},model:{value:e.valueX,callback:function(t){e.valueX=t},expression:"valueX"}})]})),t("span",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],staticClass:"sbt",style:{color:e.btnColor},on:{click:function(t){e.openX=!e.openX}}},[t("icon",{attrs:{type:e.iconL,color:e.btnColor}}),e._v(e._s(e.t("r.adSearch")))],1)],2)},Gl=[],Fl={name:"tableSearch",mixins:[ot],model:{prop:"value",event:"subVal"},props:{value:{default:null},open:{type:Boolean,default:!1},placeholder:{type:String},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{type:String,default:"inherit"}},data(){return{debounceCount:!1}},computed:{valueX:{get(){return this.value},set(e){this.$emit("subVal",e)}},iconL(){return this.openX?"ios-arrow-up":"ios-arrow-down"},openX:{get(){return this.open},set(e){this.$emit("on-toggle",e)}}},methods:{onSearch(){this.debounceCount||(this.debounceCount=!0,this.$emit("on-search",this.valueX),tt((()=>{this.debounceCount=!1}),2e3))}}},zl=Fl,El=_(zl,Vl,Gl,!1,null,null,null),Xl=El.exports,Hl=function(){var e=this,t=e._self._c;return t("Select",e._b({directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],ref:"selectScrollSourceRef",attrs:{transfer:"",filterable:"",placeholder:e.placeholderT,disabled:e.disabled},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},"Select",e.$attrs,!1),e._l(e.options,(function(i,a){return t("Option",{key:"op"+a,attrs:{value:i?.value,disabled:i?.disabled}},[e._v(e._s(i?.label))])})),1)},jl=[],Wl={name:"selectScrollMore",mixins:[ot],model:{prop:"value",event:"sub-val"},props:{value:{type:[String,Number,Array],default:null},url:{type:String,required:!0},searchData:{type:Object,default(){return{size:10}}},getOptions:{type:Boolean,default:!0},optionFilter:{type:Function},optionsLabelKey:{type:[String,Array],default:"name"},optionsValKey:{type:String,default:"id"},searchKey:{type:String,default:"name"},searchWordsRequired:{type:Boolean,default:!1},collectLabel:{type:Boolean,default:!1},placeholder:{type:String},disabled:{type:Boolean,default:!1}},data(){return{current:1,pages:1,searchStr:null,options:[],historyData:{},isFresh:!0,urlChanged:!1}},computed:{placeholderT(){return this.searchStr?this.t("r.searchFor")+this.searchStr:this.placeholder||this.t("r.pInput")},valueT:{get(){return this.value},set(e){if(this.$emit("sub-val",e),this.collectLabel){let t={};for(let i of this.options)if(i[this.optionsValKey]===e){t=JSON.parse(JSON.stringify(i));break}this.$emit("on-change",t)}}},searchDataT(){return this.searchKey?{...this.searchData,current:this.current,[this.searchKey]:this.searchStr}:{...this.searchData,current:this.current}}},mounted(){this.addInputEventListener()},watch:{getOptions:{handler(e){e?this.isFresh&&this.getData():this.reset()},immediate:!0},url(e){e&&(this.urlChanged=!0)}},methods:{addInputEventListener(){const e=this.$refs.selectScrollSourceRef.$children[0].$refs.input;e.addEventListener("keyup",this.getOption)},setQuery(e){this.$refs.selectScrollSourceRef.$children[0].query=e},reset(){this.isFresh||(this.valueT=null,this.isFresh=!0,this.searchStr=null,this.options=[],this.current=1,this.pages=1,this.historyData={},this.urlChanged=!1)},isSelect(e){for(let t of this.options)if(t?.label===e)return!0;return!1},getOption:A().debounce((function(e){const t=e?.target?.value;this.isSelect(t)||(we(t)?(this.urlChanged?this.reset():(A().isEmpty(this.historyData)&&(this.historyData.current=this.current,this.historyData.pages=this.pages,this.historyData.options=A().cloneDeep(this.options)),we(this.valueT)&&(this.valueT=null)),this.searchStr=t,this.options=[],this.current=1,this.isFresh=!0,this.getData().then((()=>{this.$nextTick((function(){this.setQuery(t)}))})).catch((()=>{this.$nextTick((function(){this.setQuery(t)}))}))):this.urlChanged?(this.reset(),this.getData()):(this.valueT=null,this.searchStr=null,this.historyData.current?(this.current=this.historyData.current,this.pages=this.historyData.pages,this.options=A().cloneDeep(this.historyData.options),this.historyData={}):this.getData()))}),600),loadMore(){this.urlChanged&&this.reset(),this.current<this.pages?(++this.current,this.$nextTick((function(){this.getData()}))):this.$Message.warning({background:!0,content:this.t("r.noMore")})},getData(){return new Promise(((e,t)=>{if(this.getOptions){if(this.searchWordsRequired&&!we(this.searchStr))return void e();Ye.get(this.url,this.searchDataT).then((t=>{this.isFresh=!1;let i=[];t?.data?.records?(i=t.data.records,this.pages=t.data.pages):t?.data&&"Array"===Q(t.data)?(i=t.data,this.pages=t.pages):t?.data&&"Object"===Q(t.data)&&(i=[t.data],this.pages=1),"Function"===Q(this.optionFilter)&&(i=this.optionFilter(i)),A().isEmpty(i)||(i=i.map(((e,t)=>{let i=this.t("r.optionLabel")+t;if(Array.isArray(this.optionsLabelKey)){let t=[];for(let i=1,a=this.optionsLabelKey.length;i<a;i++)t.push(e[this.optionsLabelKey[i]]);i=`${e[this.optionsLabelKey[0]]}(${String(t)})`}else A().isString(this.optionsLabelKey)&&(i=e[this.optionsLabelKey]);if(this.collectLabel){let t=A().cloneDeep(e);return delete t.value,delete t.label,{value:e[this.optionsValKey],label:i,...t}}return{value:e[this.optionsValKey],label:i}}))),this.options.push(...i);let a={};this.options=this.options.filter((e=>{if(!a[e?.value])return a[e.value]=!0,e})),this.$nextTick((function(){this.$emit("update-option-finish")})),e(!0)})).catch((()=>{this.$Message.error(this.t("r.getDataError")),t(this.t("r.getDataError"))}))}else e()}))}}},Ul=Wl,ql=_(Ul,Hl,jl,!1,null,null,null),Jl=ql.exports,Yl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"transferBoxRL"},[t("div",{staticClass:"leftBoxLLL"},[t("div",{staticClass:"fullHeight flexColumnBox"},[t("div",{staticClass:"notGrow"},[t("div",{staticClass:"titleLLL"},[e._v(e._s(e.titleLeft||e.t("r.added")))]),t("show-hide-panel",[t("search-form",{ref:"leftFormRef",attrs:{"form-data":e.formDataLeft,"form-rules":e.formRulesLeft,"label-width":e.searchFormLabelWith},on:{"on-search":e.searchLeft}})],1)],1),t("div",{staticClass:"growFlexItem"},[t("bt-table-page",{ref:"lTabRef",attrs:{columns:e.leftTableColumns,url:e.leftTableUrl,"search-data":e.leftTableSearchData,"init-data":Boolean(e.isEmpty(e.constSearchDataLeft)&&e.leftTableUrl),"get-data-loading":"",selection:"",usePagePro:e.usePagePro,showTotal:e.showTotal,showSizer:e.showSizer},on:{"on-selection-change":e.lSelectionChange,"on-data-change":e.dataChangeL}})],1)])]),t("div",{staticClass:"middleBoxLLL"},[t("Button",{staticClass:"middleBtLLL",attrs:{type:"default",disabled:e.delAllDis},on:{click:e.removeAll}},[e._v(e._s(e.t("r.removeAll"))+" "),t("Icon",{attrs:{type:"ios-arrow-forward"}})],1),t("Button",{staticClass:"middleBtLLL",attrs:{type:"default",disabled:e.deleteDis},on:{click:e.remove}},[e._v(e._s(e.t("r.remove"))+" "),t("Icon",{attrs:{type:"ios-arrow-forward"}})],1),t("Button",{staticClass:"middleBtLLL",attrs:{type:"primary",disabled:e.addDis},on:{click:e.add}},[t("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "+e._s(e.t("r.add")))],1),t("Button",{staticClass:"middleBtLLL",attrs:{type:"primary",disabled:e.addAllDis},on:{click:e.addAll}},[t("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "+e._s(e.t("r.addAll")))],1)],1),t("div",{staticClass:"rightBoxLLL"},[t("div",{staticClass:"fullHeight flexColumnBox"},[t("div",{staticClass:"notGrow"},[t("div",{staticClass:"titleLLL"},[e._v(e._s(e.titleRight||e.t("r.notAdded")))]),t("show-hide-panel",[t("search-form",{ref:"rightFormRef",attrs:{"form-data":e.formDataRight,"form-rules":e.formRulesRight,"label-width":e.searchFormLabelWith},on:{"on-search":e.searchRight}})],1)],1),t("div",{staticClass:"growFlexItem"},[t("bt-table-page",{ref:"rTabRef",attrs:{columns:e.rightTableColumns,url:e.rightTableUrl,"search-data":e.rightTableSearchData,"init-data":Boolean(e.isEmpty(e.constSearchDataRight)&&e.rightTableUrl),"get-data-loading":"",selection:"",usePagePro:e.usePagePro,showTotal:e.showTotal,showSizer:e.showSizer},on:{"on-selection-change":e.rSelectionChange,"on-data-change":e.dataChangeR}})],1)])])])},Ql=[],Zl={name:"transferBox",mixins:[ot],props:{titleLeft:{type:String},titleRight:{type:String},formDataLeft:{type:Array,default(){return[]}},formDataRight:{type:Array,default(){return[]}},formRulesLeft:{type:Object,default(){return{}}},formRulesRight:{type:Object,default(){return{}}},constSearchDataLeft:{type:Object,default(){return{}}},constSearchDataRight:{type:Object,default(){return{}}},leftTableColumns:{type:Array,default(){return[]}},rightTableColumns:{type:Array,default(){return[]}},leftTableUrl:{type:String,default:null},rightTableUrl:{type:String,default:null},addUrl:{type:String,default:null},deleteUrl:{type:String,default:null},addAllUrl:{type:String,default:null},deleteAllUrl:{type:String,default:null},addParamsHandle:{type:Function,default:e=>e.map((e=>e?.id))},deleteParamsHandle:{type:Function,default:e=>e?.map?.((e=>e?.id))},addAllParamsHandle:{type:Function,default:e=>e},deleteAllParamsHandle:{type:Function,default:e=>e},addMethod:{type:String,default:"post"},addAllMethod:{type:String,default:"post"},deleteMethod:{type:String,default:"delete"},deleteAllMethod:{type:String,default:"delete"},searchFormLabelWith:{type:Number},usePagePro:{type:Boolean,default(){return this.btTablePageUsePagePro}},showTotal:{type:Boolean,default(){return this.pageShowTotal}},showSizer:{type:Boolean,default(){return this.pageShowSizer}},leftSearchDataFilter:{type:Function},rightSearchDataFilter:{type:Function}},data(){return{searchDataLeft:{},searchDataRight:{},lSelection:[],rSelection:[],leftTotal:0,rightTotal:0}},computed:{leftTableSearchData(){return{...this.constSearchDataLeft,...this.searchDataLeft}},rightTableSearchData(){return{...this.constSearchDataRight,...this.searchDataRight}},delAllDis(){return this.leftTotal<1},deleteDis(){return this.lSelection.length<1},addDis(){return this.rSelection.length<1},addAllDis(){return this.rightTotal<1}},methods:{isEmpty:A().isEmpty,reset(){this.$refs.leftFormRef.resetForm(),this.$refs.rightFormRef.resetForm(),A().isEmpty(this.searchDataLeft)||(this.searchDataLeft={}),A().isEmpty(this.searchDataRight)||(this.searchDataRight={}),this.$refs.lTabRef.clearSelect(),this.$refs.rTabRef.clearSelect()},search(){this.$refs.lTabRef.search(),this.$refs.rTabRef.search()},lSelectionChange(e){this.lSelection=e},rSelectionChange(e){this.rSelection=e},dataChangeL(e){this.leftTotal=e?.data?.page?.total||e?.data?.data?.total||e?.data?.total||e?.total||0,this.$emit("on-data-change-l",e)},dataChangeR(e){this.rightTotal=e?.data?.page?.total||e?.data?.data?.total||e?.data?.total||e?.total||0,this.$emit("on-data-change-r",e)},searchLeft(e){"function"===typeof this.leftSearchDataFilter?this.searchDataLeft=this.leftSearchDataFilter(e):this.searchDataLeft=e},searchRight(e){"function"===typeof this.rightSearchDataFilter?this.searchDataRight=this.rightSearchDataFilter(e):this.searchDataRight=e},add(){this.addUrl&&this.fetchX("add")},remove(){this.deleteUrl&&this.fetchX("delete")},addAll(){this.addAllUrl&&this.addUrl&&this.fetchX("addAll")},removeAll(){this.deleteAllUrl&&this.fetchX("deleteAll")},fetchX(e){let t=this[e+"Method"],i=this[e+"Url"],a={},l="";switch(e){case"add":a=this.addParamsHandle(this.rSelection),l=this.t("r.add");break;case"delete":a=this.deleteParamsHandle(this.lSelection),l=this.t("r.remove");break;case"addAll":a=this.addAllParamsHandle(this.rightTableSearchData),l=this.t("r.addAll");break;case"deleteAll":a=this.deleteAllParamsHandle(this.leftTableSearchData),l=this.t("r.removeAll");break}i&&this.$fetch[t](i,a,null,[],{spin:!0},!1).then((e=>{0===e?.code?(this.$swal(l+this.t("r.success"),e?.message||"","success"),this.$refs.lTabRef&&this.$refs.lTabRef.getTableData(),this.$refs.rTabRef&&this.$refs.rTabRef.getTableData(),this.$emit("transferred")):this.$swal(l+this.t("r.failed"),e?.message||"","error")})).catch((()=>{this.$swal(l+this.t("r.error"),"","error")}))}}},es=Zl,ts=_(es,Yl,Ql,!1,null,null,null),is=ts.exports,as=function(){var e=this,t=e._self._c;return t("Modal",e._g(e._b({staticClass:"fixedFullModalR",attrs:{"mask-closable":!1,styles:{top:e.top},fullscreen:"","footer-hide":"",closable:!1},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"headerR"},[t("span",[e._v(e._s(e.title))]),t("Icon",{staticClass:"closeIcoR",attrs:{type:"ios-close",size:"40",title:"close"},on:{click:e.close}})],1)]},proxy:!0}]),model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},"Modal",e.$attrs,!1),e.$listeners),[e._t("default")],2)},ls=[],ss={name:"fixedFullModal",props:{title:{type:String,default:"标题"},top:{type:String,default:"55px"}},data(){return{isOpen:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1,this.$emit("on-cancel")}}},os=ss,rs=_(os,as,ls,!1,null,null,null),ns=rs.exports,ds=function(){var e=this,t=e._self._c;return t("div",{staticClass:"c404K"},[t("div",{staticClass:"t404"},[e._v("404")]),t("div",{staticClass:"ct404"},[e._v("UH OH! "+e._s(e.t("r.pageNotFound")))]),t("div",{staticClass:"p404"},[e._v(e._s(e.t("r.notFoundMsg")))]),t("Button",{staticClass:"bt404",on:{click:e.back}},[e._v(e._s(e.t("r.back")))])],1)},cs=[],hs={name:"page404",mixins:[ot],methods:{back(){this.$router.go(-1)}}},us=hs,ps=_(us,ds,cs,!1,null,null,null),ms=ps.exports,fs=function(){var e=this,t=e._self._c;return t("div",{ref:"menuRefRP",class:["menuBoxRP","cannotSelect",{light:e.light}]},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.menuDisplay,expression:"menuDisplay"}],staticClass:"menuListR"},[t("side-menu-group",{attrs:{data:e.data,pathName:e.pathName}})],1),t("Icon",{staticClass:"menuShowHideIco",class:{showIco:!e.menuDisplay},attrs:{type:e.typeIco,size:25,title:e.titleC,color:e.menuDisplay?"#fff":"#333"},on:{click:e.showHideMenu}})],1)},ys=[],gs=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"groupBoxRP"},e._l(e.data,(function(i,a){return t("li",{key:i?.path+a,class:{dropItemRP:i?.children}},[t("div",{staticClass:"menuTxtR",class:e.getClass(i),style:{paddingLeft:20*i?.level+"px"},on:{click:function(t){return e.handleClick(t,i)}}},[i?.icon?t("Icon",{staticClass:"menuIcoL",attrs:{custom:"iconfont "+i.icon}}):e._e(),t("span",[e._v(e._s(i?.name||"-- no name --"))])],1),i?.children?t("sideMenuGroup",{attrs:{data:i?.children,"path-name":e.pathName}}):e._e()],1)})),0)},vs=[],bs={name:"sideMenuGroup",props:{data:{type:Array,default(){return[]}},pathName:{type:String,default:""}},methods:{getClass(e){return e?.path===this.pathName?"active":""},handleClick(e,t){e?.preventDefault?.();let i=e?.target;if(!t?.children&&!i.classList.contains("active"))return void this.$router.push(t?.path);let a=i.parentNode,l=this.siblingElems(a);for(let s of l){s?.classList?.remove?.("open");const e=s?.querySelectorAll?.(".open");for(let t of e)t?.classList?.remove?.("open")}a?.classList?.toggle?.("open")}}},ws=bs,ks=_(ws,gs,vs,!1,null,null,null),Ss=ks.exports,xs={name:"sideMenu",mixins:[ot],components:{SideMenuGroup:Ss},props:{data:{type:Array,default(){return[]}},light:{type:Boolean}},computed:{titleC(){return this.menuDisplay?this.t("r.hideMenu"):this.t("r.showMenu")},typeIco(){return this.menuDisplay?"ios-arrow-back":"ios-arrow-forward"}},data(){return{menuDisplay:!0,pathName:null}},created(){let e=localStorage.getItem("menuDisplayR");void 0!==e&&null!==e&&""!==e?e=JSON.parse(e):(e=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0))),this.menuDisplay=e},watch:{$route:{handler(e){this.pathName=e.path,this.$nextTick((function(){tt(this.addOpen,10)}))},immediate:!0}},methods:{showHideMenu(){this.menuDisplay=!this.menuDisplay,localStorage.setItem("menuDisplayR",JSON.stringify(this.menuDisplay)),this.$emit("on-change",this.menuDisplay)},addOpen(){let e=this.$refs.menuRefRP.querySelectorAll(".dropItemRP");for(let t of e)t?.querySelector?.(".active")&&!t?.classList?.contains?.("open")&&t.classList.add?.("open")}}},Cs=xs,Ts=_(Cs,fs,ys,!1,null,null,null),Ls=Ts.exports,_s=function(){var e=this,t=e._self._c;return t("div",{ref:"menuRefRX",class:["menuBoxRPro","cannotSelect",{light:e.light}]},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.menuDisplay,expression:"menuDisplay"}],staticClass:"menuListR"},[t("sideMenuTwoLevel",{attrs:{data:e.data,pathName:e.pathName}})],1),t("sideIcoMenu",{directives:[{name:"show",rawName:"v-show",value:!e.menuDisplay,expression:"!menuDisplay"}],staticClass:"icoMenuR",attrs:{data:e.data,pathName:e.pathName}}),t("Icon",{staticClass:"menuShowHideIco",class:{showIco:!e.menuDisplay},attrs:{custom:e.typeIco,size:14,title:e.titleC},on:{click:e.showHideMenu}})],1)},Is=[],Bs=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"groupBoxRX"},e._l(e.data,(function(i,a){return t("li",{key:i?.path+a,class:{dropItemRX:i?.children,open:e.fromIcoMenu,fromIcoMenu:e.fromIcoMenu}},[t("div",{class:e.getClass(i),style:{paddingLeft:20*i?.level+"px"},on:{click:function(t){return e.handleClick(t,i)}}},[t("Icon",{staticClass:"menuIcoL",attrs:{custom:"iconfont "+(i.icon||"icon-r-menu-default")}}),t("span",[e._v(e._s(i?.name||"-- no name --"))]),t("Icon",{directives:[{name:"show",rawName:"v-show",value:i.children&&i.children.length>0,expression:"item.children && item.children.length > 0"}],class:["dropIcoRX",{open:e.fromIcoMenu,fromIcoMenu:e.fromIcoMenu}],attrs:{type:"ios-arrow-forward"}})],1),i?.children?t("sideMenuProGroup",{attrs:{data:i?.children,"path-name":e.pathName}}):e._e()],1)})),0)},Ks=[],Ds=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"groupBoxRX"},e._l(e.data,(function(i,a){return t("li",{key:i?.path+a,class:{dropItemRX:i?.children},on:{mouseenter:function(t){return e.handleMouseenter(t,i)},mouseleave:function(t){return e.handleMouseleave(t)}}},[t("div",{class:e.getClass(i),style:{paddingLeft:20*i?.level+"px"},on:{click:function(t){return e.handleClick(t,i)}}},[e._v(" "+e._s(i?.name||"-- no name --")+" "),t("Icon",{directives:[{name:"show",rawName:"v-show",value:i.children&&i.children.length>0,expression:"item.children && item.children.length > 0"}],staticClass:"dropIcoRX",attrs:{type:"ios-arrow-forward",size:16}})],1),i?.children?.length>0?t("sideMenuProGroup",{directives:[{name:"show",rawName:"v-show",value:e.current===i?.path,expression:"current===item?.path"}],staticClass:"rightChildRX",attrs:{data:i?.children,"path-name":e.pathName}}):e._e()],1)})),0)},$s=[],As={name:"sideMenuProGroup",props:{data:{type:Array,default(){return[]}},pathName:{type:String,default:""}},data(){return{current:""}},methods:{getClass(e){let t="menuTxtR ";return e?.path===this.pathName&&(t+="active "),t},handleClick(e,t){e?.preventDefault?.();let i=e?.target;t?.children||i.classList.contains("active")||this.$router.push(t?.path)},handleMouseenter(e,t){e?.preventDefault?.(),this.current=t?.path},handleMouseleave(e){e?.preventDefault?.(),this.current=""}}},Rs=As,Os=_(Rs,Ds,$s,!1,null,null,null),Ns=Os.exports,Ms={name:"sideMenuTwoLevel",components:{SideMenuProGroup:Ns},props:{data:{type:Array,default(){return[]}},pathName:{type:String,default:""},fromIcoMenu:{type:Boolean}},methods:{getClass(e){let t="menuTxtR ";return e?.path===this.pathName&&(t+="active "),t},handleClick(e,t){e?.preventDefault?.();let i=e?.target;if(!t?.children&&!i.classList.contains("active"))return void this.$router.push(t?.path);const a=i?.querySelector?.(".dropIcoRX"),l=i.parentNode,s=this.siblingElems(l);for(let o of s){o?.classList?.remove?.("open");const e=o?.querySelector?.(".dropIcoRX");e?.classList?.remove?.("open");const t=o?.querySelectorAll?.(".open");for(let i of t)i?.classList?.remove?.("open")}l?.classList?.toggle?.("open"),a?.classList?.toggle?.("open")}}},Ps=Ms,Vs=_(Ps,Bs,Ks,!1,null,null,null),Gs=Vs.exports,Fs=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"groupBoxRX"},e._l(e.data,(function(i,a){return t("li",{key:i?.path+a,class:{dropItemRX:i?.children},on:{mouseenter:function(t){return e.handleMouseenter(t,i)},mouseleave:function(t){return e.handleMouseleave(t)}}},[t("div",{class:e.getClass(i),on:{click:function(t){return e.handleClick(t,i)}}},[t("Icon",{staticClass:"menuIcoM",attrs:{custom:"iconfont "+(i.icon||"icon-r-menu-default"),size:"20"}})],1),t("sideMenuTwoLevel",{directives:[{name:"show",rawName:"v-show",value:e.current===i?.path,expression:"current===item?.path"}],staticClass:"rightTwoMenu",attrs:{data:[i],pathName:e.pathName,fromIcoMenu:""}})],1)})),0)},zs=[],Es={name:"sideMenuPro",components:{sideMenuTwoLevel:Gs},props:{data:{type:Array,default(){return[]}},pathName:{type:String,default:""}},data(){return{current:""}},methods:{getClass(e){let t="menuTxtR ";return e?.path===this.pathName&&(t+="active "),t},handleClick(e,t){e?.preventDefault?.();let i=e?.target;t?.children||i.classList.contains("active")||this.$router.push(t?.path)},handleMouseenter(e,t){e?.preventDefault?.(),this.current=t?.path},handleMouseleave(e){e?.preventDefault?.(),this.current=""}}},Xs=Es,Hs=_(Xs,Fs,zs,!1,null,null,null),js=Hs.exports,Ws={name:"sideMenuPro",mixins:[ot],components:{sideMenuTwoLevel:Gs,sideIcoMenu:js},props:{data:{type:Array,default(){return[]}},light:{type:Boolean}},computed:{titleC(){return this.menuDisplay?this.t("r.hideMenu"):this.t("r.showMenu")},typeIco(){return this.menuDisplay?"iconfont icon-r-menu-hide":"iconfont icon-r-menu-open"}},data(){return{menuDisplay:!0,pathName:null}},created(){let e=localStorage.getItem("menuDisplayRPro");void 0!==e&&null!==e&&""!==e?e=JSON.parse(e):(e=!0,localStorage.setItem("menuDisplayRPro",JSON.stringify(!0))),this.menuDisplay=e},watch:{$route:{handler(e){this.pathName=e.path,this.$nextTick((function(){tt(this.addOpen,10)}))},immediate:!0}},methods:{showHideMenu(){this.menuDisplay=!this.menuDisplay,localStorage.setItem("menuDisplayRPro",JSON.stringify(this.menuDisplay)),this.$emit("on-change",this.menuDisplay)},addOpen(){let e=this.$refs.menuRefRX.querySelectorAll(".dropItemRX");for(let t of e){const e=t?.childNodes[0]?.querySelector?.(".dropIcoRX");t?.querySelector?.(".active")?t?.childNodes[1]?.classList?.contains?.("rightChildRX")?t?.childNodes[0]?.classList?.contains?.("activeR")||t?.childNodes[0].classList.add?.("activeR"):(t?.classList?.contains?.("open")||t.classList.add?.("open"),e&&!e?.classList?.contains?.("open")&&e.classList.add?.("open")):t?.childNodes[1]?.classList?.contains?.("rightChildRX")?t?.childNodes[0]?.classList?.contains?.("activeR")&&t?.childNodes[0].classList.remove?.("activeR"):(t?.classList?.contains?.("open")&&!t?.classList?.contains?.("fromIcoMenu")&&t.classList.remove?.("open"),e&&e?.classList?.contains?.("open")&&!e?.classList?.contains?.("fromIcoMenu")&&e.classList.remove?.("open"))}}}},Us=Ws,qs=_(Us,_s,Is,!1,null,null,null),Js=qs.exports,Ys=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tableTooltip"},[e.tooltipDisabled?t("span",{ref:"spanRef",staticClass:"contentText"},[e._v(e._s(e.content))]):t("Tooltip",{attrs:{content:e.content,"max-width":e.maxWidth,transfer:""}},[t("span",{ref:"contentRef",staticClass:"contentText"},[e._v(e._s(e.content))])])],1)},Qs=[],Zs={name:"tableTooltip",props:{content:[String,Number,Boolean,null,void 0]},data(){return{tooltipDisabled:!0,debounceS:null,maxWidth:200}},mounted(){this.getSize(),this.debounceS=A().debounce((()=>{this.$nextTick((function(){this.getSize()}))}),200),window.addEventListener("resize",this.debounceS)},updated(){this.getSize()},beforeDestroy(){window.removeEventListener("resize",this.debounceS)},methods:{getSize(){const e=this.tooltipDisabled?this.$refs.spanRef:this.$refs.contentRef;if(!e)return;let t=document.createRange();t.setStart(e,0),t.setEnd(e,e.childNodes.length);const i=t.getBoundingClientRect().width;this.maxWidth=2*e.offsetWidth,this.tooltipDisabled=i<e.offsetWidth,t=null}}},eo=Zs,to=_(eo,Ys,Qs,!1,null,null,null),io=to.exports;function ao(e){const t=(...e)=>W.apply(this,e),i=t("r.closePreview"),a=t("r.fullImg");let l="previewImg"+Math.floor(1e7*Math.random());Me.Modal?.info?.({closable:!1,"transition-names":["linear","fade"],render:t=>t("div",{class:"previewModal",attrs:{id:l}},[t("div",{class:"previewModalInner"},[t("img",{attrs:{src:e,alt:a}}),t("Icon",{props:{type:"md-close"},domProps:{title:i},class:"previewModalDelete",on:{click(){Me.Modal?.remove?.()}}})])])});let s=setTimeout((()=>{const e=document.getElementById(l).parentNode.parentNode.parentNode.parentNode,t=document.getElementById(l).parentNode.nextSibling;e.style.height="0",e.style.padding="0",t.style.display="none",clearTimeout(s),s=null}),10)}var lo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tablePrintModal",class:[e.customClass]},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.disabled,expression:"disabled"}],staticClass:"msgL notPrint"},[e._v(e._s(e.t("r.printGuide.9")))]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"a4Line aL notPrint"},[t("p",[e._v(e._s(e.t("r.printGuide.7")))]),t("p",[e._v(e._s(e.t("r.printGuide.5")))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"a4Line aR notPrint"},[t("p",[e._v(e._s(e.t("r.printGuide.7")))]),t("p",[e._v(e._s(e.t("r.printGuide.6")))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"a4Line bL notPrint"},[t("p",[e._v(e._s(e.t("r.printGuide.8")))]),t("p",[e._v(e._s(e.t("r.printGuide.5")))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"a4Line bR notPrint"},[t("p",[e._v(e._s(e.t("r.printGuide.8")))]),t("p",[e._v(e._s(e.t("r.printGuide.6")))])]),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"topsL notPrint"},[t("div",{staticClass:"topsLTitle"},[e._v(e._s(e.title||e.t("r.print")))]),t("div",{staticClass:"topsLBtn"},[t("icon-txt-btn",{attrs:{icon:"md-help-circle",name:e.t("r.help")},on:{click:function(t){t.stopPropagation(),e.help=!e.help}}}),t("icon-txt-btn",{attrs:{icon:"md-print",name:e.t("r.preview")},on:{click:e.print}}),e.domPrint?e._e():t("table-setting",{attrs:{"s-key":e.sKey,storage:"sessionStorage"},model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}}),t("tableIconBtn",{attrs:{icon:"md-close",title:e.t("r.close")},on:{click:e.close}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.help,expression:"help"}],staticClass:"topsLHelp"},[e.domPrint?e._e():t("p",[t("span",[e._v("1. ")]),t("span",[e._v(e._s(e.t("r.printGuide.1")))])]),e.domPrint?e._e():t("p",[t("span",[e._v("2. ")]),t("span",[e._v(e._s(e.t("r.printGuide.2")))])]),e.domPrint?t("p",[t("span",[e._v("1. ")]),t("span",[e._v(e._s(e.t("r.printGuide.10")))])]):e._e(),t("p",[t("span",[e._v(e._s(e.domPrint?"2. ":"3. "))]),t("span",[e._v(e._s(e.t("r.printGuide.3")))])]),t("p",[t("span",[e._v(e._s(e.domPrint?"3. ":"4. "))]),t("span",[e._v(e._s(e.t("r.printGuide.4")))])])])]),e.domPrint?t("div",{staticClass:"domPrintSetting notPrint",style:e.domContainerStyle},[t("div",{staticClass:"settingLine",on:{mousedown:function(t){return t.stopPropagation(),e.dragStart.apply(null,arguments)}}})]):e._e(),e.domPrint?t("div",{staticClass:"domPrintContent",style:e.domContainerStyle,domProps:{innerHTML:e._s(e.data)}}):e._e(),e.domPrint?e._e():t("Table",{directives:[{name:"show",rawName:"v-show",value:!e.disabled,expression:"!disabled"}],staticClass:"tablePW",attrs:{columns:e.columns,data:e.data,border:""}})],1)},so=[],oo={name:"printModal",mixins:[ot],components:{iconTxtBtn:fi,tableIconBtn:di,tableSetting:Jt},data(){return{title:"",disabled:!1,domPrint:!1,autoPrint:!1,width:715,help:!1,isFrom:"",sKey:"tablePrint_"+Date.now().toString(),customClass:"",columns:[],data:[],isDrag:!1}},computed:{domContainerStyle(){return{width:this.width+"px"}}},beforeRouteEnter(e,t,i){i((e=>{if(e.$data.isFrom=e?.$route?.params?.isFrom,!e.$data.isFrom)return;const t="print_"+e.$data.isFrom;let i=window.sessionStorage.getItem(t);if(!i)return void(e.$data.disabled=!0);const{columns:a,data:l,title:s,config:o}=JSON.parse(i);e.$data.columns=a,e.$data.data=l,e.$data.title=s,e.$data.customClass=o?.customClass,e.$data.domPrint=o?.domPrint||!1,e.$data.autoPrint=o?.autoPrint||!1,e.$data.width=o?.width||715,document.title=(s||e.$t("r.print"))+"_"+(new Date).toLocaleString()}))},mounted(){if(this.autoPrint){let e=window.setTimeout((()=>{window.clearTimeout(e),this.print()}),100)}document.addEventListener("click",this.wallClick),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.dragEnd)},methods:{close(){this.isFrom&&window.sessionStorage.removeItem("print_"+this.isFrom),window.sessionStorage.removeItem(this.sKey),window.close()},wallClick(){this.help&&(this.help=!1)},dragStart(){this.isDrag=!0},handleDrag(e){this.isDrag&&(this.width=e?.layerX-20)},dragEnd(){this.isDrag&&(this.isDrag=!1)},print(){this.help=!1;let e=window.setTimeout((()=>{window.clearTimeout(e),window.print()}),100)}}},ro=oo,no=_(ro,lo,so,!1,null,null,null),co=no.exports;let ho=null;function uo(){const e=document.documentElement;e.style.setProperty("overflow","auto");const t=document.createElement("style");t.innerHTML="body,#app{height:100% !important}",document.head.appendChild(t)}function po(e){if(e?.addRoute){const t=e.getRoutes();let i=!0;for(let e of t)if("tablePrint"===e?.name){i=!1;break}i&&e.addRoute({path:"/tablePrint/:isFrom",name:"tablePrint",component:co}),ho=e,location.pathname.indexOf("tablePrint")>-1?(ho.push(location.pathname),uo()):location.hash.indexOf("tablePrint")>-1&&(ho.push(location.hash.replace(/^#/,"")),uo())}}function mo(e){return"Object"===Q(e)&&(e.width=e.minWidth||100,e.sortable=!1,delete e.minWidth,delete e.__id,e.resizable=!0,e.children&&"Array"===Q(e.children)&&(e.children=e.children.map(mo))),e}function fo(e,t,i,a){if(!ho)return;let l;if(!a?.domPrint){let t=A().cloneDeep(e.filter((e=>e?.key||e?.children)));"selection"===t[0].type&&t.shift(),l=t.length?t.map(mo):[]}let s=ho?.currentRoute?.fullPath;s&&(s=s.replace(/\//g,"_"));let o={data:t,title:i,config:a};a?.domPrint||(o.columns=l),window.sessionStorage.setItem("print_"+s,JSON.stringify(o));const r=ho.resolve({name:"tablePrint",params:{isFrom:s}});window.open(r?.href,"_blank")}var yo={init:po,print:fo};function go(e,t,i={}){i.domPrint=!0,i.width||(i.width=715),yo.print([],e,t,i)}var vo=go,bo=b(354),wo=b.n(bo),ko=b(230),So=b.n(ko),xo=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loader-div",attrs:{"data-loader":e.dataLoader}})},Co=[],To={name:"loaders",props:{dataLoader:{type:String,default:"circle"},show:{type:Boolean,default:!0}}},Lo=To,_o=_(Lo,xo,Co,!1,null,null,null),Io=_o.exports,Bo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"echart-main",style:{width:e.widthT,height:e.heightT}},[t("Button",{directives:[{name:"show",rawName:"v-show",value:e.back,expression:"back"}],staticClass:"hidden",style:e.btnStyle,attrs:{id:"back",type:"primary"},on:{click:e.oback}},[e._v("返回全国")]),t("div",{staticClass:"echart-map",attrs:{id:e.name}})],1)},Ko=[];let Do=["shanghai","hebei","shanxi","neimenggu","liaoning","jilin","heilongjiang","jiangsu","zhejiang","anhui","fujian","jiangxi","shandong","henan","hubei","hunan","guangdong","guangxi","hainan","sichuan","guizhou","yunnan","xizang","shanxi1","gansu","qinghai","ningxia","xinjiang","beijing","tianjin","chongqing","xianggang","aomen"],$o=["上海","河北","山西","内蒙古","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","北京","天津","重庆","香港","澳门"];var Ao={name:"echartMap",props:{name:{type:String,default:""},roam:{type:Boolean,default:!0},setSeries:{type:Array,default:()=>[]},setGeo:{type:Function,default:(e,t)=>({show:!0,map:e,roam:t.roam,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:t.geoItemStyle()})},mapType:{type:String,default:"normal"},migrationData:{type:Array,default:()=>[[{name:"重庆",lngLat:[106.553263,29.564724]},{name:"北京",lngLat:[116.399014,39.924869],value:666}]]},setLine:{type:Array,default:()=>[]},setScatter:{type:Array,default:()=>[]},migrationRippleEffect:{type:Function,default:()=>({brushType:"stroke"})},migrationEffect:{type:Function,default:()=>({show:!0,period:6,trailLength:.1,color:"#46bee9",symbol:"pin",symbolSize:6})},migrationLineStyle:{type:Function,default:()=>({normal:{color:"#fff",width:0,curveness:.2}})},migrationEffect2:{type:Function,default:()=>({show:!0,period:6,trailLength:0,symbol:"pin",symbolSize:6})},migrationLineStyle2:{type:Function,default:()=>({normal:{color:new _l.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#FFFFA8"},{offset:1,color:"#58B3CC"}],!1),width:1.5,opacity:.4,curveness:.2}})},btnStyle:Object,scatterLabel:{type:Function,default:e=>e.data.value[2]},tooltip:{type:Function,default:()=>"随便定义任何内容也是可以的，通过回调函数取"},scatterLabelPosition:{type:String,default:"inside"},scatterGeoShow:{type:Boolean,default:!0},scatterGeoItemStyle:{type:Function,default:()=>({normal:{color:"#F62157"}})},scatterGeoLabelTextStyle:{type:Function,default:()=>({color:"#fff",fontSize:9})},geoItemStyle:{type:Function,default:()=>({normal:{areaColor:"#3c8dbc",borderColor:"#097bba"},emphasis:{areaColor:"#fbd456"}})},title:{type:Function,default:()=>({show:!1})},mapLabel:{type:Function,default:()=>({normal:{show:!0,textStyle:{color:"#895139"}},emphasis:{show:!0,textStyle:{color:"#323232"}}})},mapItemStyle:{type:Function,default:()=>({normal:{borderWidth:.5,borderColor:"#0550c3",areaColor:"#0b7e9e"},emphasis:{borderWidth:.5,borderColor:"#4b0082",areaColor:"#ece39e"}})},scatterSymbol:{type:String,default:"pin"},maxSize4Pin:{type:Number,default:40},minSize4Pin:{type:Number,default:30},seriesData:{type:Array,default:()=>[]},seriesDataPro:{type:Array,default:()=>[]},inRangeColor:{type:Array,default:()=>[]},visualMap:{type:Function,default:(e,t,i)=>({show:e.visualMapShow,min:t,max:i,left:e.visualMapLeft,top:e.visualMapTop,inverse:e.visualMapInverse,itemHeight:e.visualMapHeight,itemWidth:e.visualMapWidth,text:e.visualMapText,textStyle:e.visualMapTextStyle(),calculable:!1,seriesIndex:e.visualMapSeriesIndex,orient:e.visualMapOrient,inRange:{color:e.inRangeColor}})},visualMapText:{type:Array,default:()=>["高","低"]},visualMapTextStyle:{type:Function,default:()=>({})},visualMapShow:{type:Boolean,default:!1},visualMapOrient:{type:String,default:"horizontal"},visualMapSeriesIndex:{type:Number,default:1},visualMapHeight:{type:Number,default:null},visualMapWidth:{type:Number,default:null},visualMapInverse:{type:Boolean,default:!1},visualMapLeft:{type:String,default:"5%"},visualMapTop:{type:String,default:"95%"},scatterGeoZlevel:{type:Number,default:6},widthT:{type:String,default:"870px"},heightT:{type:String,default:"384px"}},data(){return{mapName:"china",myChart:null,back:!1}},mounted(){this.myChart=_l.init(document.getElementById(this.name));let e=this;e.myChart.on("click",(t=>{if(t?.data?.provinceKey&&e.seriesDataPro.length){e.back=!0;for(let i=0;i<$o.length;i++)if(t.name===$o[i]){e.mapName=Do[i],e.$emit("on-click-map",Do[i],$o[i]),e.initEcharts(Do[i],$o[i]);break}}})),void 0===window.echartResizeMJ&&(window.echartResizeMJ={}),window.echartResizeMJ[e.name]||window.addEventListener("resize",e.resizeHandler)},methods:{resizeHandler(){this.myChart&&(this.myChart.resize(),window.echartResizeMJ[this.name]=!0)},initEcharts(e,t){let i=0,a=0;switch(this.mapType){case"normal":let l="china"===e?this.seriesData:this.seriesDataPro;l?.length>0&&(i=Math.max.apply(Math,l.map((e=>e.value)))),this.loadNormalMap(e,t,a,i,l);break;case"migration":this.migrationData&&(i=Math.max.apply(Math,this.migrationData.map((e=>e[1].value)))),this.loadMigrationMap(e,a,i);break}},loadMigrationMap(e,t,i){let a=this,l=[];l=a.setLine.length<=0?l.concat(a.normalLine()):l.concat(a.setLine),a.scatterGeoShow&&(l=a.setScatter.length<=0?l.concat(a.normalScatter(t,i)):l.concat(a.setScatter));let s={title:a.title(),tooltip:{trigger:"item",formatter:e=>a.tooltip(e)},geo:a.setGeo(e,a),series:[]};a.setSeries.length>0&&(l=this.setSeries),s.series=l,a.myChart.setOption(s)},loadNormalMap(e,t,i,a,l){let s=l,o=this,r=[],n={title:o.title(),tooltip:{trigger:"item",formatter:e=>o.tooltip(e)},visualMap:this.visualMap(o,i,a),geo:o.setGeo(e,o),series:[]};r.push({name:t||e,type:"map",mapType:e,roam:o.roam,data:s,selectedMode:"single",label:o.mapLabel(),itemStyle:o.mapItemStyle()}),o.scatterGeoShow&&(r=this.setScatter.length<=0?r.concat(this.setMark(s,a,i)):r.concat(this.setScatter)),o.inRangeColor.length>0&&r.unshift(this.setRegionColor(s)),o.setSeries.length>0&&(r=this.setSeries),n.series=r,o.myChart.setOption(n)},convertCityData(e){let t=[];for(let i=0;i<e.length;i++){let a=e[i],l=a[0].lngLat,s=a[1].lngLat;l&&s&&t.push([{coord:l},{coord:s}])}return t},convertData(e){let t=this.getGeoCoordMap(this.mapName),i=[];for(let a=0;a<e.length;a++){let l=t[e[a].name];l&&i.push({name:e[a].name,value:l.concat(e[a].value)})}return i},getGeoCoordMap(e){e=e||"china";let t={};this.myChart.showLoading();let i=_l.getMap(e).geoJson.features;return this.myChart.hideLoading(),i.forEach((function(e){let i=e.properties.name;t[i]=e.properties.cp})),t},oback(){this.back=!1,this.mapName="china",this.$emit("on-click-map",this.mapName,"中国")},normalScatter(e,t){return[{type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:this.migrationRippleEffect(),symbol:this.scatterSymbol,label:{normal:{show:this.scatterGeoShow,position:this.scatterLabelPosition,formatter:e=>this.scatterLabel(e),textStyle:this.scatterGeoLabelTextStyle()}},symbolSize:i=>{let a=(this.maxSize4Pin-this.minSize4Pin)/(t-e),l=this.maxSize4Pin-a*t;return a*i[2]+l},itemStyle:this.scatterGeoItemStyle(),data:this.migrationData.map((e=>({name:e[1].name,value:e[1].lngLat.concat([e[1].value])})))}]},normalLine(){return[{type:"lines",zlevel:1,effect:this.migrationEffect(),lineStyle:this.migrationLineStyle(),data:this.convertCityData(this.migrationData)},{type:"lines",zlevel:2,effect:this.migrationEffect2(),lineStyle:this.migrationLineStyle2(),data:this.convertCityData(this.migrationData)}]},setRegionColor(e){return{type:"scatter",coordinateSystem:"geo",data:e}},setMark(e,t,i){return[{type:"scatter",coordinateSystem:"geo",symbol:this.scatterSymbol,symbolSize:e=>{let a=(this.maxSize4Pin-this.minSize4Pin)/(t-i),l=this.maxSize4Pin-a*t;return a*e[2]+l},label:{normal:{show:this.scatterGeoShow,position:this.scatterLabelPosition,formatter:e=>this.scatterLabel(e),textStyle:this.scatterGeoLabelTextStyle()}},itemStyle:this.scatterGeoItemStyle(),zlevel:this.scatterGeoZlevel,data:this.convertData(e)}]}},beforeDestroy(){this.myChart&&(this.myChart.clear(),this.myChart.dispose(),this.myChart=null,window.echartResizeMJ={}),window.removeEventListener("resize",this.resizeHandler)}},Ro=Ao,Oo=_(Ro,Bo,Ko,!1,null,null,null),No=Oo.exports,Mo=b(934);(()=>{if(window.wangeditorMenuInit)return;class e{constructor(){this.title=W("r.preview"),this.iconSvg='<svg t="1656644788547" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12356" width="256" height="256"><path d="M512 1024H135.4C60.7 1024 0 963.3 0 888.6V135.4C0 60.7 60.7 0 135.4 0h753.2C963.3 0 1024 60.7 1024 135.4V512c0 24.9-20.1 45-45 45s-45-20.1-45-45V135.4c0-25-20.4-45.4-45.4-45.4H135.4c-25 0-45.4 20.4-45.4 45.4v753.2c0 25 20.4 45.4 45.4 45.4H512c24.9 0 45 20.1 45 45s-20.1 45-45 45z" p-id="12357"></path><path d="M512 802c-77.5 0-150.3-30.2-205.1-84.9C252.2 662.3 222 589.5 222 512s30.2-150.3 84.9-205.1S434.5 222 512 222s150.3 30.2 205.1 84.9C771.8 361.7 802 434.5 802 512s-30.2 150.3-84.9 205.1C662.3 771.8 589.5 802 512 802z m0-490c-110.3 0-200 89.7-200 200s89.7 200 200 200 200-89.7 200-200-89.7-200-200-200z" p-id="12358"></path><path d="M978.5 1023.5c-11.5 0-23-4.4-31.8-13.2L653.2 716.8c-17.6-17.6-17.6-46.1 0-63.6 17.6-17.6 46.1-17.6 63.6 0l293.5 293.5c17.6 17.6 17.6 46.1 0 63.6-8.8 8.8-20.3 13.2-31.8 13.2z" p-id="12359"></path></svg>',this.tag="button",this.alwaysEnable=!0}getValue(){return""}isActive(e){return!1}isDisabled(){return!1}exec(e){const t=document.getElementById("editor-preview");let i=localStorage.getItem("editorPreviewW")||300,a=localStorage.getItem("editorPreviewH")||500;const l=e.getHtml();if(t){let e=t.children?.[0]?.children?.[1]?.children?.[0],s=t.children?.[0]?.children?.[1];e.innerHTML=l,e.style.width=i+"px",s.style.height=a+"px",t.style.display="block"}else{const e=document.body,t=document.createElement("div");t.setAttribute("id","editor-preview"),t.setAttribute("class","editor-preview-mask"),t.innerHTML=`<div class="editor-preview-body"><div class="editor-preview-head"><div><span>宽</span><input type="number" value="${i}" min="200"><span>高</span><input type="number" value="${a}" min="300"></div><i class="ivu-icon ivu-icon-md-close"></i></div><div class="editor-preview-out-wall"><div class="editor-preview-wall r-editor-view"></div></div></div>`;let s=t.children[0].children[1],o=t.children[0].children[1].children[0],r=t.children[0].children[0].children[0].children[1];const n=40,d=70,c=t=>{if("keyup"===t?.type){let e=!1;if(t.key&&(e="Enter"!==t.key),e)return}let i=t?.target?.value;if(i=Number(i),o?.style?.width===i+"px")return;const a=e.clientWidth;i<250?(i=250,t.target.value=250):i>a-n&&(i=a-n,t.target.value=a-n),o.style.width=i+"px",localStorage.setItem("editorPreviewW",i)};r.addEventListener("blur",c),r.addEventListener("keyup",c);let h=t.children[0].children[0].children[0].children[3];const u=t=>{if("keyup"===t?.type){let e=!1;if(t.key&&(e="Enter"!==t.key),e)return}let i=t?.target?.value;if(i=Number(i),s?.style?.height===i+"px")return;const a=e.clientHeight;i<300?(i=300,t.target.value=300):i>a-d&&(i=a-d,t.target.value=a-d),s.style.height=i+"px",localStorage.setItem("editorPreviewH",i)};h.addEventListener("blur",u),h.addEventListener("keyup",u);let p=t.children[0].children[0].children[1];p.addEventListener("click",(e=>{t.style.display="none"})),o.innerHTML=l,o.style.width=i+"px",s.style.height=a+"px",e.append(t)}}}const t={key:"previewX",factory(){return new e}};Mo.Boot.registerMenu(t),window.wangeditorMenuInit=!0})();const Po={HelloR:B,btTablePage:mt,pagePro:ct,wellCard:wt,tableTree:Lt,tableSetting:Jt,tableIconBtn:di,tableSearch:Xl,tableTooltip:io,uploadGroup:Mt,inputMap:ai,iconTxtBtn:fi,showHidePanel:ki,selectInput:_i,asyncCascader:Ai,editor:Hi,editorPro:Qi,alCascaderMC:la,checkboxTree:ca,checkboxGroupTwoClass:ya,checkboxGroupThreeClass:Sa,fullScreenPop:Ra,headerBt:Ka,formR:el,formModal:ol,customModal:ul,searchForm:vl,formGroup:Cl,echart:$l,echartMap:No,loaders:Io,showHidePanelB:Pl,selectScrollMore:Jl,transferBox:is,fixedFullModal:ns,page404:ms,sideMenu:Ls,sideMenuPro:Js,monthRange:ja},Vo={fullScreenImgPreview:ao,toHump:Z,htmlEncode:ae,htmlDecode:le,getFileSrc:se,getFileTypeByName:oe,isImgByFile:re,getFileTypeIconByName:ne,downloadFileReaderFile:de,fakeALinkClick:ce,findPath:pe,getStringWidth:xe,emptyInput:Ie,stopBubbling:De},Go={$swal:Y,messageBox:Ve,myTypeof:Q,$fetch:Ye,trimObj:te,clearObj:ie,formDataHeadConfig:he,toFormData:ue,oneOf:fe,fullScreenImgByDom:At,isValidValue:we,isNumberValue:ke,isEmptyValue:Ce,tooltipManual:Se,stringLength:Te,decimalDigitsLimit:ye,downloadFileByFormSubmit:ge,$swalConfirm:jt,setValByOption:Le,hasPermission:_e,isNaN:Be,dataFilterOrToUrl:Ke,setTimeout:tt,setInterval:it,toLine:ee,fileExport:ve,getColumnsKeys:be,removeEmptyValue:$e,findCollection:me,htmlPrint:Ae,siblingElems:Re,tablePrint:yo,domPrint:vo},Fo=function(e,t={}){Fo.installed||(J.i18n(t.i18n),Ye.init(t.useStore||t.store),at.init(t.router),yo.init(t.router),e?(e.use(wo()),e.use(So()),Object.keys(Po).forEach((t=>{e.component(t,Po[t])})),Object.keys(Go).forEach((t=>{e.prototype.hasOwnProperty(t)||Object.defineProperty(e.prototype,t,{get(){return Go[t]}})})),void 0===e.directive("has")&&e.directive("has",{bind(t,i){i.value&&!e.prototype.hasPermission(i.value)&&(t.style.display="none")}}),void 0===e.directive("loadmore")&&e.directive("loadmore",{bind(e,t){let i;i=t.arg?e.querySelector("."+t.arg):e.querySelector(".ivu-select-dropdown")||e,i.addEventListener("scroll",(function(){this.scrollTop>0&&this.scrollHeight-this.scrollTop<=this.clientHeight&&t.value()}))}}),void 0===e.directive("clickOutside")&&e.directive("clickOutside",Ht),e.prototype.fontSizeBase=14,e.prototype.searchFormLabelWidth=84,e.prototype.searchFormItemWidth=202,e.prototype.formModalLabelWidth=140,e.prototype.formModalWidth=520,e.prototype.formGroupLabelWidth=160,e.prototype.formGroupWidth="100%",e.prototype.iconTxtBtnIconSize=17,e.prototype.pageSizes=[10,20,50,100],e.prototype.btTablePageUsePagePro=!0,e.prototype.btTablePageAlign="center",e.prototype.pageShowTotal=!0,e.prototype.pageShowSizer=!0,e.prototype.tableSettingBg="#fff",e.prototype.tableSettingTransfer=!0,e.prototype.tableSettingEventsEnabled=!0):console.error("库安装失败，未获取到Vue对象"))};"undefined"!==typeof window&&window.Vue&&Fo(window.Vue);var zo={version:{NODE_ENV:"production",BASE_URL:""}.VERSION,install:Fo,...Po,...Go,...Vo},Eo=zo;return w=w["default"],w}()}));
(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("view-design"),require("sweetalert"),require("vue-json-viewer"),require("iview-area"),require("vue-amap"),require("lodash"),require("wangeditor"),require("moment"),require("axios")):"function"===typeof define&&define.amd?define(["view-design","sweetalert","vue-json-viewer","iview-area","vue-amap","lodash","wangeditor","moment","axios"],t):"object"===typeof exports?exports["plugRQw"]=t(require("view-design"),require("sweetalert"),require("vue-json-viewer"),require("iview-area"),require("vue-amap"),require("lodash"),require("wangeditor"),require("moment"),require("axios")):e["plugRQw"]=t(e["ViewUI"],e["swal"],e["JsonView"],e["iviewArea"],e["VueAMap"],e["_"],e["wangEditor"],e["moment"],e["axios"])})("undefined"!==typeof self?self:this,(function(e,t,l,a,i,n,s,o,r){return function(e){var t={};function l(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,l),i.l=!0,i.exports}return l.m=e,l.c=t,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(a,i,function(t){return e[t]}.bind(null,i));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s="fb15")}({"002d":function(t,l){t.exports=e},"1e60":function(e,l){e.exports=t},2364:function(e,t){e.exports=l},"4d58":function(e,t,l){},"50ad":function(e,t){e.exports=a},"5aeb":function(e,t){e.exports=i},"60bb":function(e,t){e.exports=n},8875:function(e,t,l){var a,i,n;(function(l,s){i=[],a=s,n="function"===typeof a?a.apply(t,i):a,void 0===n||(e.exports=n)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var l,a,i,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,o=n.exec(p.stack)||s.exec(p.stack),r=o&&o[1]||!1,d=o&&o[2]||!1,c=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");r===c&&(l=document.documentElement.outerHTML,a=new RegExp("(?:[^\\n]+?\\n){0,"+(d-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=l.replace(a,"$1").trim());for(var u=0;u<h.length;u++){if("interactive"===h[u].readyState)return h[u];if(h[u].src===r)return h[u];if(r===c&&h[u].innerHTML&&h[u].innerHTML.trim()===i)return h[u]}return null}}return e}))},"8eed":function(e,t){e.exports=s},c32d:function(e,t){e.exports=o},cebe:function(e,t){e.exports=r},fb15:function(e,t,l){"use strict";if(l.r(t),"undefined"!==typeof window){var a=window.document.currentScript,i=l("8875");a=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var n=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);n&&(l.p=n[1])}var s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("span",[e._v("hello by ricky")])},o=[],r={name:"Hello"},d=r;function c(e,t,l,a,i,n,s,o){var r,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=l,d._compiled=!0),a&&(d.functional=!0),n&&(d._scopeId="data-v-"+n),s?(r=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=r):i&&(r=o?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),r)if(d.functional){d._injectStyles=r;var c=d.render;d.render=function(e,t){return r.call(t),c(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,r):[r]}return{exports:e,options:d}}var h=c(d,s,o,!1,null,null,null),u=h.exports,p=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"btTablePage fullHeight"},[l("div",{directives:[{name:"show",rawName:"v-show",value:e.showTopRow,expression:"showTopRow"}],staticClass:"topBtn"},[e._t("tableSetting"),e._t("topMsg"),e._t("topBtnGroup")],2),l("div",{staticClass:"tableContainer fullHeight",class:{noTop:!e.showTopRow,noPage:e.noPage}},[l("div",{staticClass:"fullHeight relativeBox"},[l("div",{ref:"tableContainerLOI",staticClass:"fullFlowContent"},[l("Table",{ref:"TableXXX",class:{noBorderTable:e.noBorderTable,fullHeightTable:!e.fixedTable},attrs:{height:e.fixedTable&&e.tableContainerHeight||null,columns:e.columnsT,data:e.dataT,"highlight-row":e.radio||e.highlightRow},on:{"on-select":e.onSelect,"on-select-all":e.onSelectAll,"on-select-cancel":e.onSelectCancel,"on-select-all-cancel":e.onSelectAllCancel,"on-sort-change":e.onSortChange,"on-row-click":e.onRowClick}})],1)])]),l("div",{directives:[{name:"show",rawName:"v-show",value:!e.noPage,expression:"!noPage"}],staticClass:"pageContainer"},[l("Page",{attrs:{"page-size-opts":e.pageSizes,total:e.total,current:e.current,"page-size":e.pageSizeT,"show-sizer":"","show-total":"",size:"small"},on:{"update:current":function(t){e.current=t},"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1)])},f=[],m=l("60bb"),y=l.n(m);function g(e){let t=Object.prototype.toString.call(e);return t.replace(/\[object |]/g,"")}function b(e){return e.replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))}function v(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function w(e){if("Object"===g(e)){for(let t in e)"String"==g(e[t])?e[t]=e[t].replace(/^\s+|\s+$/m,""):"Object"==g(e[t])&&w(e[t]);return e}return e}function k(e,t){if(t=t||[],"Array"===g(e))return e.forEach((t,l)=>{switch(g(t)){case"String":case"Number":case"Boolean":case"Date":e[l]=null;break;case"Array":case"Object":k(t);break}}),e;if("Object"===g(e)){for(let l in e)if(e.hasOwnProperty(l)){let a=!0;for(let e of t)if(e===l){a=!1;break}if(a)switch(g(e[l])){case"String":case"Number":case"Boolean":case"Date":e[l]=null;break;case"Array":case"Object":k(e[l]);break}}return e}return e}function x(e){let t=document.createElement("div");void 0!==t.textContent?t.textContent=e:t.innerText=e;let l=t.innerHTML;return t=null,l}function C(e){let t=document.createElement("div");t.innerHTML=e;let l=t.innerText||t.textContent;return t=null,l}function T(e){return new Promise(t=>{let l=new FileReader;l.readAsDataURL(e),l.onloadend=()=>{t(l.result)}})}function K(e){return e.split(".").pop().toLocaleLowerCase()||""}function S(e){return"String"===g(e)&&e.indexOf("image")>-1}function B(e){const t=K(e);let l="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1&&(l="ios-image"),["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1&&(l="ios-film"),["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1&&(l="ios-musical-notes"),["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1&&(l="md-document"),["numbers","csv","xls","xlsx"].indexOf(t)>-1&&(l="ios-stats"),["keynote","ppt","pptx"].indexOf(t)>-1&&(l="ios-videocam"),l}function I(e,t){let l=document.createElement("a");l.href=t,l.download=e,V(l)}function V(e){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}const $={headers:{"Content-Type":"multipart/form-data"}};function L(e){let t=new FormData;for(let l in e)e.hasOwnProperty(l)&&null!==e[l]&&t.append(l,e[l]);return t}function A({group:e,condition:t,pathKey:l,childKey:a="children",path:i=[]}){if(e&&y.a.isObject(e))if(y.a.isFunction(t)){if(y.a.isPlainObject(e)){for(let n in e)if(e.hasOwnProperty(n)){let s=e[n],o=y.a.cloneDeep(i);if(t(s))return l&&s[l]?o.push(s[l]):o.push(n),o;if(s[a]&&!y.a.isEmpty(s[a])){l&&s[l]?o.push(s[l]):o.push(n);let e=A({group:s[a],condition:t,pathKey:l,childKey:a,path:o});if(!y.a.isEmpty(e))return e}}}else if(y.a.isArray(e))for(let n of e){let s=y.a.cloneDeep(i);if(t(n))return l&&n[l]?s.push(n[l]):s.push(e.indexOf(n)),s;if(n[a]&&n[a].length>0){l&&n[l]?s.push(n[l]):s.push(e.indexOf(n));let i=A({group:n[a],condition:t,pathKey:l,childKey:a,path:s});if(!y.a.isEmpty(i))return i}}}else if(y.a.isPlainObject(e)){for(let n in e)if(e.hasOwnProperty(n)){let s=e[n],o=y.a.cloneDeep(i);if(s===t)return o.push(n),o;if(s[a]&&!y.a.isEmpty(s[a])){o.push(n);let e=A({group:s[a],condition:t,pathKey:l,childKey:a,path:o});if(!y.a.isEmpty(e))return e}}}else if(y.a.isArray(e))for(let n of e){let s=y.a.cloneDeep(i);if(n===t)return s.push(e.indexOf(n)),s;if(n[a]&&n[a].length>0){s.push(e.indexOf(n));let i=A({group:n[a],condition:t,pathKey:l,childKey:a,path:s});if(!y.a.isEmpty(i))return i}}return[]}function O(e,t){for(let l=0;l<t.length;l++)if(e===t[l])return!0;return!1}function D(e,t=2){let l=new RegExp("(^-?\\d+.\\d{"+t+"})(\\d+$)"),a=e&&String(e)||"";return l.test(a)?Number(a.replace(l,"$1")):e}function G(e,t={},l="get"){let a=document.createElement("form"),i=document.getElementsByTagName("body")[0];if(i.appendChild(a),a.setAttribute("style","display:none"),a.setAttribute("target",""),a.setAttribute("method",l),a.setAttribute("action",e),y.a.isPlainObject(t)){for(let e in t)if(t.hasOwnProperty(e)&&(t[e]||0===t[e]||!1===t[e]||""===t[e])){let l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",e),l.setAttribute("value",t[e]),a.appendChild(l)}a.submit(),setTimeout(()=>{i.removeChild(a)},8e3)}else console.error("请求数据格式有误，无法下载文件")}function N(e){return void 0!==e&&null!==e&&""!==e}function X(e){let t=/^-?\d+(.\d+)?$/;return t.test(e)}function M(e,t=!1,l=""){return function(a,i){let n;if("Array"===g(e)){let t=[];for(let l of e)t.push(i.row[l]);n=t.join(l)}else n=i.row[e];let s=P(n),o=i.column._width;return n&&s>o?a("Tooltip",{style:{width:"100%"},props:{content:n,maxWidth:2*o}},[a("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},n)]):a("span",t&&!N(n)?"--":n)}}function P(e,t=12){if("String"===g(e)&&e.length>0){let l=document.createElement("span");l.style.fontSize=t+"px",l.style.fontFamily="inherit",l.innerHTML=e,l.style.opacity="0",l.style.position="fixed",l.style.top="3000px",document.body.append(l);const a=l.clientWidth;return document.body.removeChild(l),a}return 0}function E(e){if(y.a.isPlainObject(e)){for(let t in e)if(e.hasOwnProperty(t)&&N(e[t]))return!1;return!0}if(y.a.isArray(e)){for(let t of e)if(N(t))return!1;return!0}return!N(e)}function R(e){return"String"===g(e)?e.replace(/[^\x00-\xff]/g,"01").length:"Number"===g(e)?(e+="",e.replace(/[^\x00-\xff]/g,"01").length):0}function F({group:e,condition:t,key:l,val:a,childKey:i="children"}){if("Array"!==g(e)||"Function"!==g(t)||"String"!==g(l)||"String"!==g(i))return!1;e.forEach(e=>{t(e)&&(e[l]=a),"Array"===g(e[i])&&e[i].length>0&&F({group:e[i],condition:t,key:l,val:a,childKey:i})})}var H=l("cebe"),z=l.n(H),j=l("002d");function U({height:e,width:t=416,title:l,content:a,onOk:i,onOkPromise:n,okText:s,cancelText:o,noWarnIcon:r,footerAlign:d,cancelBt:c}){let h=e&&Number(e)-90>100?Number(e)-90+"px":0,u=h||"100px",p="String"===g(a);j["Modal"].warning({width:t,render:e=>e("div",{class:"customMessageBox",style:{height:u}},[e("div",{class:"containerN"},[e("div",{class:"titleN"},[e("span",l||"提示"),e("Button",{class:"fr closeN",props:{type:"text"},on:{click(){j["Modal"].remove()}}},[e("Icon",{props:{type:"ios-close",size:30}})])]),e("div",{class:"contentN",style:{textAlign:p?"center":"left"}},[e("Icon",{props:{type:"ios-alert-outline",size:60,color:"#f8bb86"},class:p&&!0!==r?"":"hide"}),e("div",{class:"msgBoxConO"},a)]),e("div",{class:"footerN",style:{textAlign:d||"center"}},[e("Button",{class:"okBtN",props:{},on:{click(){"Function"===g(i)?n?i().then(()=>{j["Modal"].remove()}).catch(()=>{j["Modal"].remove()}):(i(),j["Modal"].remove()):j["Modal"].remove()}}},s||"确定"),e("Button",{class:["cancelBtN",!1===c&&"hide"],props:{},on:{click(){j["Modal"].remove()}}},o||"取消")])])])})}const q=window.location.origin;let W=z.a.create({baseURL:q,withCredentials:!0});function J(){console.info("未初始化,store为空，请在引入plug-r-qw后进行初始化操作（init({store:XXX,...})）")}function Y(){W.store?W.store.dispatch("logout"):J()}function Q(e,t,l,a){a&&a.spin&&(W.store?W.store.commit("MINUS_FETCH_COUNT"):J());let i=!0,n=e&&e.data;if(n){l=l||[];for(let e of l)n=n[e],i=i&&n;return i?n:(console.warn(t||"请求失败"),!1)}return console.warn(t||"请求失败"),!1}function Z(e,t,l,a,i,n,s){return new Promise((o,r)=>{switch(e){case"get":W.get(t,{params:l}).then(e=>{let t=Q(e,a,i,n);t?o(t):(console.warn(a||"请求失败"),r(e))}).catch(e=>{Q({},a,i,n),console.warn("请求出错：",e),r(e)});break;case"delete":let e=s?"params":"data";W.delete(t,{[e]:l}).then(e=>{let t=Q(e,a,i,n);t?o(t):(console.warn(a||"请求失败"),r(e))}).catch(e=>{Q({},a,i,n),console.warn("请求出错：",e),r(e)});break;case"post":W.post(t,l,n).then(e=>{let t=Q(e,a,i,n);t?o(t):(console.warn(a||"请求失败"),r(e))}).catch(e=>{Q({},a,i,n),console.warn("请求出错：",e),r(e)});break;case"put":W.put(t,l,n).then(e=>{let t=Q(e,a,i,n);t?o(t):(console.warn(a||"请求失败"),r(e))}).catch(e=>{Q({},a,i,n),console.warn("请求出错：",e),r(e)});break}})}function ee(e,t,l,a,i,n,s){return new Promise((o,r)=>{if(t){n=n||{},n&&n.spin&&(W.store?W.store.commit("ADD_FETCH_COUNT"):J());let d,c=t;if(W.changeUrl&&window&&window.g){const e=["mgr","dcc","crm","umc","wmc","amc","pmc","oa","mmc"];for(let l of e){let e=new RegExp("^/"+l+"(?=/.*$)","i");if(e.test(t)&&window.g[l+"URL"]){c=window.g[l+"URL"]+t.replace(e,"");break}}}if(n&&n.headers&&"multipart/form-data"===n.headers["Content-Type"])d=l;else if(d=y.a.isArray(l)?[]:{},l&&!y.a.isEmpty(l))if(y.a.isArray(l))for(let e of l)(e||0===e||!1===e||""===e)&&d.push(e);else for(let e in l)l.hasOwnProperty(e)&&(l[e]||0===l[e]||!1===l[e]||""===l[e])&&(d[e]=l[e]);let h=e.toLowerCase();Z(h,c,d,a,i,n,s).then(e=>{o(e)}).catch(e=>{r(e)})}else console.error("没有请求地址:url"),r("没有请求地址:url")})}W.changeUrl=!1,W.interceptors.request.use(e=>e,e=>Promise.reject(e)),W.interceptors.response.use(e=>(e&&e.data&&403===e.data.code?U({content:"登录状态失效,请重新登录！",onOk:Y}):e&&e.data&&409===e.data.code&&U({content:"该账号已在其他地方登录,点击确定退出。",onOk:Y}),e),e=>e.response?(403===e.response.status?U({content:"登录状态失效,请重新登录！",onOk:Y}):409===e.response.status&&U({content:"该账号已在其他地方登录,点击确定退出。",onOk:Y}),e.response.data?Promise.reject(e.response.data):Promise.reject(e.response)):Promise.reject(e));var te={init(e){e.hasOwnProperty("store")&&(W.store=e.store),e.hasOwnProperty("changeFetchUrl")&&(W.changeUrl=e.changeFetchUrl)},post(e,t={},l,a,i){return new Promise((n,s)=>{ee("post",e,t,l,a,i).then(e=>{n(e)}).catch(e=>{s(e)})})},put(e,t={},l,a,i){return new Promise((n,s)=>{ee("put",e,t,l,a,i).then(e=>{n(e)}).catch(e=>{s(e)})})},get(e,t={},l,a,i){return new Promise((n,s)=>{ee("get",e,t,l,a,i).then(e=>{n(e)}).catch(e=>{s(e)})})},delete(e,t={},l,a,i,n=!0){return new Promise((s,o)=>{ee("delete",e,t,l,a,i,n).then(e=>{s(e)}).catch(e=>{o(e)})})},all:z.a.all,spread:z.a.spread},le={name:"btTablePage",props:{url:{type:String,default(){return""}},searchData:{type:Object,default(){return{}}},columns:{type:Array,default(){return[]}},selection:{type:Boolean,default(){return!1}},selectionFixed:{validator:e=>O(e,["left","right",!1]),default(){return!1}},rowClickSelect:{type:Boolean,default(){return!0}},data:{type:Array,default(){return[]}},pageSize:{type:Number,default(){return 10}},sortable:{validator:e=>O(e,["custom",""]),default(){return""}},initData:{type:Boolean,default(){return!0}},highlightRow:{type:Boolean,default(){return!1}},rowClickNum:{type:Number,default(){return-1}},radio:{type:Boolean,default(){return!1}},tableEmptyTdHandle:{type:Boolean,default(){return!1}},noBorderTable:{type:Boolean,default(){return!1}},noPage:{type:Boolean,default(){return!1}},orderDefault:{type:String,default(){return"desc"}},orderKey:{type:String,default(){return"id"}},getDataLoading:{type:Boolean,default(){return!1}},showTopRow:{type:Boolean,default(){return!1}}},data(){return{dataT:this.data,searchDataT:y.a.cloneDeep(this.searchData),pageSizeT:this.pageSize,current:1,total:0,selected:[],selectedIds:[],currentRowId:null,currentRowIndex:null,key:this.orderKey,order:this.orderDefault,tableContainerHeight:300}},computed:{columnsFixed(){for(let e of this.columns)if(e.fixed)return!0;return!1},fixedTable(){return this.selectionFixed||this.columnsFixed},queryData(){let e={...this.searchDataT,current:this.current,size:this.pageSizeT};return e[this.order]=v(this.key),e},columnsT(){let e=this.columns.filter(e=>"selection"!==e.type);if(this.selection&&!this.radio){let t={type:"selection",align:"center",width:60};this.selectionFixed&&(t.fixed=this.selectionFixed),e.unshift(t)}return"custom"===this.sortable&&e.forEach(e=>{e.key&&!0!==e.sortable&&!1!==e.sortable&&(e.sortable="custom")}),this.tableEmptyTdHandle&&e.forEach(e=>{e.key&&void 0===e.render&&(e.tooltip?e.render=M(e.key,!0):e.render=(t,l)=>{let a=l.row[e.key];return t("span",""===a||null===a||void 0===a?"--":a)})}),e}},created(){this.initTable()},mounted(){if(this.firstGetHeight(),window.onresize){let e=window.onresize;window.onresize=y.a.debounce(()=>{e(),this.handleResize()})}else window.onresize=y.a.debounce(this.handleResize)},watch:{searchData:{handler(e){for(let t in e)if(e.hasOwnProperty(t)&&(void 0===this.searchDataT[t]||e[t]!==this.searchDataT[t])){this.searchDataT=y.a.cloneDeep(e),this.current=1,this.getDataAndClickRow();break}},deep:!0}},methods:{firstGetHeight(){this.tableContainerHeight<50?setTimeout(this.firstGetHeight,100):setTimeout(this.getTableContainerHeight,10)},getTableContainerHeight(){this.tableContainerHeight=this.$refs.tableContainerLOI&&this.$refs.tableContainerLOI.clientHeight||0},handleResize(){this.getTableContainerHeight(),this.$refs.TableXXX&&this.$refs.TableXXX.handleResize()},initTable(){this.initData&&this.getDataAndClickRow()},addRow(e){this.dataT.unshift(y.a.cloneDeep(e)),setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(0)},100)},setRowData(e,t,l){let a=null;if(y.a.isBoolean(t)&&t?a=this.currentRowIndex:y.a.isNumber(t)&&(a=t),null!==a){let t=this.dataT[a];for(let l in e)e.hasOwnProperty(l)&&(t[l]=e[l]);l&&setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(a)},10)}},deleteRow(e){this.dataT.splice(e,1),setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(0)},100)},clearSelect(){this.$refs.TableXXX.selectAll(!1)},clearTableData(){this.$set(this,"dataT",[]),this.clearPage(),this.current=1,this.total=0},clearSearchDataT(){this.searchDataT={}},getDataAndClickRow(e,t,l){e||-1!==this.rowClickNum?this.getTableData(t,l).then(t=>{this.dataT.length>0&&setTimeout(()=>{e?this.$refs.TableXXX.clickCurrentRow(this.currentRowIndex):this.$refs.TableXXX.clickCurrentRow(this.rowClickNum)},10)}):this.getTableData()},onSelect(e,t){let l=t.id;this.selectedIds.push(l),this.selected.push(t);for(let a=0;a<this.dataT.length;a++){let e=this.dataT[a];if(this.radio&&e.id!==l&&this.selectedIds.some(t=>t===e.id)){for(let t in this.selectedIds)if(this.selectedIds[t]===e.id){this.selectedIds.splice(t,1),this.selected.splice(t,1);break}this.$refs.TableXXX.toggleSelect(a)}}},onSelectAll(e){if(!this.radio){this.selectedIds=[],this.selected=y.a.cloneDeep(e);for(let t of e)this.selectedIds.push(t.id)}},onSelectCancel(e,t){if(this.radio)this.$refs.TableXXX.toggleSelect(t);else for(let l in this.selectedIds)this.selectedIds[l]===t.id&&(this.selectedIds.splice(l,1),this.selected.splice(l,1))},onSelectAllCancel(e){this.radio||(this.selectedIds=[],this.selected=[])},getSelected(){return y.a.cloneDeep(this.selected)},onRowClick(e,t){e.id!==this.currentRowId&&(this.selection&&this.rowClickSelect&&this.$refs.TableXXX.toggleSelect(t),this.$emit("on-row-click",e),this.currentRowId=e.id,this.currentRowIndex=t)},changePage(e){this.current=e,this.getDataAndClickRow()},pageSizeChange(e){this.pageSizeT=e,1===this.current&&this.getDataAndClickRow()},onSortChange({column:e,key:t,order:l}){this.key=t,this.order=l,this.current=1,this.getTableData()},clearPage(){this.selected=[],this.selectedIds=[],this.currentRowId=null,this.currentRowIndex=null},getTableData(e,t){return new Promise((l,a)=>{e&&(this.order=e),t&&(this.key=t),this.url&&""!==this.url?te.get(this.url,this.queryData,null,[],{spin:this.getDataLoading}).then(e=>{this.clearPage(),e.data||null===e.data?(e.data.records||null===e.data.records?this.dataT=e.data.records||[]:e.data.page?(e.data.page.records||null===e.data.page.records)&&(this.dataT=e.data.page.records||[]):this.dataT=e.data||[],this.total=e.data.page&&e.data.page.total||e.data.total||e.total||0,this.$emit("on-data-change"),l(e)):console.warn("请求返回数据有误，无法使用")}).catch(e=>{console.warn(e),this.clearPage()}):console.warn("没有有效的请求地址，无法获取表格数据")})}}},ae=le,ie=c(ae,p,f,!1,null,null,null),ne=ie.exports,se=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"flexColumnBox wellCardR",style:e.wellStyle},[l("div",{staticClass:"panelHeader notGrow"},[l("div",{staticClass:"fl",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.title))]),l("div",{staticClass:"btsF"},[e._t("bts")],2)]),l("div",{staticClass:"growFlexItem relativeBox"},[l("div",{staticClass:"fullFlowContent"},[e._t("default")],2)])])},oe=[],re={name:"wellCard",props:{title:{type:String,default(){return"标题"}},width:{type:[Number,String],default(){return"100%"}},height:{type:[Number,String],default(){return"100%"}}},computed:{wellStyle(){let e={},t=["width","height"];for(let l of t)"String"===g(this[l])?e[l]=this[l]:"Number"===g(this[l])&&this[l]>0&&(e[l]=this[l]+"px");return e}}},de=re,ce=c(de,se,oe,!1,null,null,null),he=ce.exports,ue=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("Table",{key:e.updateDomKey,ref:"tabXY",attrs:{columns:e.columnsX,data:e.dataX,"highlight-row":e.highlightRow}})},pe=[],fe={name:"tableTree",props:{columns:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},highlightRow:{type:Boolean,default(){return!1}},radio:{type:Boolean,default(){return!1}}},data(){return{dataX:[],noKey:1,updateDomKey:Math.floor(1e8*Math.random()+1e4)}},computed:{columnsX(){let e=this.columns.filter(e=>"selection"!==e.type);if(e[0]){let t=e[0].key;e[0].renderHeader=(e,t)=>e("div",{style:{paddingLeft:"20px"}},t.column.title),e[0].render=(e,l)=>e("div",{class:"tableTxtBt",style:{paddingLeft:20*(l.row.parentNoKey.length+1)+"px",textAlign:"left"}},[e("Checkbox",{props:{value:l.row.checkBox},directives:[{name:"show",value:this.radio}],on:{"on-change":e=>{!0===e?(this.setCollectionVal(this.dataX,{checkBox:!1}),this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[l.index].ownKey}),this.$emit("on-select",l.row)):this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[l.index].ownKey})},click:e=>{console.log(e),e.stopPort}}}),e("Icon",{props:{type:l.row.hideChild?"ios-arrow-forward":!1===l.row.hideChild?"ios-arrow-down":""},style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(l)}}}),e("span",{style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(l)}}}," "+l.row[t])])}return e}},mounted(){this.updateTab()},watch:{data(){this.updateTab()}},methods:{setCollectionVal(e,t){if(t&&N(t.checkBox)&&"Array"===g(e))if(t.ownKey)for(let l of e)l.ownKey===t.ownKey&&(l.checkBox=t.checkBox),"Array"===g(l.childrenXK)&&l.childrenXK.length>0&&this.setCollectionValB(l.childrenXK,t);else for(let l of e)l.checkBox=t.checkBox,"Array"===g(l.childrenXK)&&l.childrenXK.length>0&&this.setCollectionValB(l.childrenXK,t)},setCollectionValB(e,t){if(t&&N(t.checkBox)&&"Array"===g(e))if(t.ownKey)for(let l of e)l.ownKey===t.ownKey&&(l.checkBox=t.checkBox),"Array"===g(l.childrenXK)&&l.childrenXK.length>0&&this.setCollectionVal(l.childrenXK,t);else for(let l of e)l.checkBox=t.checkBox,"Array"===g(l.childrenXK)&&l.childrenXK.length>0&&this.setCollectionVal(l.childrenXK,t)},handleResize(){this.$refs.tabXY.handleResize()},updateTab(){let e=y.a.cloneDeep(this.data);this.addHideChildAttr(e),this.showDefault(e,y.a.cloneDeep(e)),this.dataX=y.a.cloneDeep(e)},showDefault(e,t){t.forEach((t,l)=>{if(!1===t.hideChild){let a=y.a.cloneDeep(t.childrenXK);e.splice(l+1,0,...a),this.showDefaultB(e,y.a.cloneDeep(a))}})},showDefaultB(e,t){t.forEach((t,l)=>{if(!1===t.hideChild){let a=y.a.cloneDeep(t.childrenXK);e.splice(l+1,0,...a),this.showDefault(e,y.a.cloneDeep(a))}})},showHideClick(e){if(e.row.hideChild){this.dataX[e.index].hideChild=!1;let t=y.a.cloneDeep(e.row.childrenXK);this.dataX.splice(e.index+1,0,...t),this.openChild(e.row.childrenXK,e.index+1)}else!1===e.row.hideChild&&this.hideChildNode(e)},openChild(e,t){e.forEach((e,l)=>{if(!1===e.hideChild){let a=y.a.cloneDeep(e.childrenXK);this.dataX.splice(t+l+1,0,...a),this.openChild(e.childrenXK,t+l+1)}})},addHideChildAttr(e,t){for(let l of e)l.ownKey=this.noKey,this.noKey++,l.parentNoKey=l.parentNoKey||[],void 0!==t&&l.parentNoKey.push(...t),l.children&&(l.childrenXK=l.children,delete l.children),"Array"===this.myTypeof(l.childrenXK)&&l.childrenXK.length>0&&(!1!==l.hideChild&&(l.hideChild=!0),this.addHideChildAttrB(l.childrenXK,[l.ownKey,...l.parentNoKey]))},addHideChildAttrB(e,t){for(let l of e)l.ownKey=this.noKey,this.noKey++,l.parentNoKey=l.parentNoKey||[],void 0!==t&&l.parentNoKey.push(...t),l.children&&(l.childrenXK=l.children,delete l.children),"Array"===this.myTypeof(l.childrenXK)&&l.childrenXK.length>0&&(!1!==l.hideChild&&(l.hideChild=!0),this.addHideChildAttr(l.childrenXK,[l.ownKey,...l.parentNoKey]))},hideChildNode(e){let t=this.getChildCount(e.row.ownKey);t&&this.dataX.splice(e.index+1,t),F({group:[this.dataX[e.index]],condition:e=>!1===e.hideChild,key:"hideChild",val:!0,childKey:"childrenXK"})},addLocalNode(e,t){return new Promise((l,a)=>{!y.a.isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!"),y.a.isPlainObject(t)&&!y.a.isEmpty(t)||a("节点数据异常，无法添加节点！");let i=this.dataX[e];!1!==i.hideChild&&(i.hideChild=!1);let n=[i.ownKey,...i.parentNoKey],s={...t,ownKey:++this.noKey,parentNoKey:n};for(let e of this.dataX){let t=n.indexOf(e.ownKey);if(t>-1){void 0===e.childrenXK&&(e.childrenXK=[]);let l=e.childrenXK,a=e;for(let i=0;i<t+1;i++){if(i===t){l.push(y.a.cloneDeep(s)),void 0===e.hideChild&&(e.hideChild=!0);break}a=y.a.find(a.childrenXK,e=>-1!==n.indexOf(e.ownKey)),void 0===a.hideChild&&(a.hideChild=!0),void 0===a.childrenXK&&(a.childrenXK=[]),l=a.childrenXK}}}this.dataX.splice(e+1+this.getChildCount(i.ownKey),0,y.a.cloneDeep(s)),this.updateDomKey=Math.floor(1e8*Math.random()+1e4),l(y.a.cloneDeep(s))})},editLocalNode(e,t){return new Promise((l,a)=>{!y.a.isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!"),y.a.isPlainObject(t)&&!y.a.isEmpty(t)||a("节点数据异常，无法添加节点！");let i=this.dataX[e],n=Object.assign(i,t);this.dataX[e]=n;for(let e of this.dataX){let t=n.parentNoKey.indexOf(e.ownKey);if(t>-1){let l=e.childrenXK;for(let e=0;e<t+1;e++){if(e===t){let e=y.a.findIndex(l,e=>e.ownKey===n.ownKey);e>-1&&(l[e]=y.a.cloneDeep(n));break}{let e=y.a.find(l,e=>-1!==n.parentNoKey.indexOf(e.ownKey));l=e.childrenXK}}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),l(y.a.cloneDeep(n))})},deleteLocalNode(e){return new Promise((t,l)=>{!y.a.isInteger(e)||e<0?l("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&l("无效的索引序号index!");let a=this.dataX[e];this.dataX.splice(e,1),this.deleteLocalChildNode(a.ownKey,e);for(let e of this.dataX){let t=a.parentNoKey.indexOf(e.ownKey);if(t>-1){let l=e.childrenXK,i=e;for(let e=0;e<t+1;e++){if(e===t){let e=y.a.findIndex(l,e=>e.ownKey===a.ownKey);e>-1&&(l.splice(e,1),0===l.length&&(i.hideChild=null));break}i=y.a.find(l,e=>-1!==a.parentNoKey.indexOf(e.ownKey)),l=i.childrenXK}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),t(y.a.cloneDeep(this.dataX))})},deleteLocalChildNode(e,t){let l=this.getChildCount(e);l&&this.dataX.splice(t,l)},getChildCount(e){let t=0;for(let l of this.dataX)-1!==l.parentNoKey.indexOf(e)&&t++;return t}}},me=fe,ye=c(me,ue,pe,!1,null,null,null),ge=ye.exports,be=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("Upload",{attrs:{name:"files",action:e.urlT,"before-upload":e.handelManualUpload,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-exceeded-size":e.overSize,"on-preview":e.onPreview,"on-remove":e.onRemove,"on-format-error":e.onFormatError,data:e.data,"max-size":e.maxSize,"show-upload-list":!1,"with-credentials":e.withCredentials,format:e.format,multiple:e.multiple||!1,disabled:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)}},[l("Button",{class:{disabledR:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)},attrs:{icon:"ios-cloud-upload-outline"}},[e._v("选择文件")])],1),l("div",{directives:[{name:"show",rawName:"v-show",value:"img"===e.previewType&&e.fileIdList.length>0,expression:"previewType === 'img' && fileIdList.length>0"}],staticClass:"previewBoxM"},e._l(e.fileIdList,(function(t){return e.manualUpload||null===t?e._e():l("div",{key:t,staticClass:"previewImg"},[l("img",{attrs:{src:e.url+"/"+t+"/download",alt:t}}),l("div",{staticClass:"deleteModal"},[l("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:"全屏预览"},on:{click:function(l){return e.fullScreenImgByDom(e.url+"/"+t+"/download")}}}),l("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:"删除"},on:{click:function(l){return e.deleteById(l,t)}}})],1)])})),0),l("div",{directives:[{name:"show",rawName:"v-show",value:"localImg"===e.previewType&&e.fileSrcList.length>0,expression:"previewType === 'localImg' && fileSrcList.length>0"}],staticClass:"previewBoxM"},e._l(e.fileSrcList,(function(t,a){return e.manualUpload&&null!==t?l("div",{key:"manualImg"+a,staticClass:"previewImg"},[l("img",{attrs:{src:t,alt:"manualImg"+a}}),l("div",{staticClass:"deleteModal"},[l("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:"全屏预览"},on:{click:function(l){return e.fullScreenImgByDom(t)}}}),l("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:"删除"},on:{click:function(t){return e.clearManualItem(a)}}})],1)]):e._e()})),0),l("div",{directives:[{name:"show",rawName:"v-show",value:"localList"===e.previewType&&e.fileList.length>0,expression:"previewType === 'localList'&& fileList.length>0"}],staticClass:"customFileListM"},e._l(e.fileList,(function(t,a){return e.manualUpload&&null!==t?l("p",{key:"manualItem"+a,staticClass:"customFileListItem"},[l("Icon",{attrs:{type:e.getFileTypeIconByName(t.name)}}),l("span",{staticClass:"upNameT",attrs:{title:"点击下载"},on:{click:function(l){return e.downloadManualFile(t)}}},[e._v(e._s(t.name))]),l("span",{staticClass:"btBoxJ"},[l("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"14",title:"全屏预览"},on:{click:function(l){return e.listExpand(t)}}}),l("Icon",{staticClass:"listBtH",attrs:{type:"ios-close",size:"22",title:"删除"},on:{click:function(t){return e.clearManualItem(a)}}})],1)],1):e._e()})),0),l("div",{directives:[{name:"show",rawName:"v-show",value:"list"===e.previewType&&e.fileDefaultList.length>0,expression:"previewType === 'list' && fileDefaultList.length>0"}],staticClass:"customFileListM"},e._l(e.fileDefaultList,(function(t,a){return e.manualUpload||null===t?e._e():l("p",{key:"defaultItem"+a,staticClass:"customFileListItem"},[l("Icon",{attrs:{type:e.getFileTypeIconByName(t.name)}}),l("span",{staticClass:"upNameT",attrs:{title:"点击下载"},on:{click:function(l){return e.downloadDefaultFile(t)}}},[e._v(e._s(t.name||"文件"+(a+1)))]),l("span",{staticClass:"btBoxJ"},[l("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"14",title:"全屏预览"},on:{click:function(l){return e.listExpand(t)}}}),l("Icon",{staticClass:"listBtH",attrs:{type:"ios-close",size:"22",title:"删除"},on:{click:function(t){return e.clearManualItem(a)}}})],1)],1)})),0)],1)},ve=[];function we(e){let t=y.a.first(document.getElementsByTagName("body")),l=document.createElement("div");l.setAttribute("class","fullScreenImgByDom"),l.innerHTML=`<div class="previewInner"><img src="${e}" alt="全屏图片"><span class="ivu-icon ivu-icon-md-close" title="关闭预览"></span></div>`,l.querySelector(".ivu-icon-md-close").addEventListener("click",(function(){let e=y.a.first(document.getElementsByTagName("body"));e&&e.removeChild(l)})),t.appendChild(l)}var ke=l("1e60"),xe=l.n(ke),Ce=function(e,t,l){return new Promise((a,i)=>{switch(g(e)){case"Object":let n="确定",s="取消",o=!1,r="swalConfirmBt",d="swalCancelBt";e.type&&(e.icon=e.type)&&delete e.type,e.content&&(e.text=e.content)&&delete e.content,e.className=e.className||"swalBoxX",!1===e.button||(e.buttons&&"Object"===g(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(s=e.buttons.cancel.text)&&(o=!0),e.buttons.cancel.className&&(d=e.buttons.cancel.className),e.buttons.confirm.text&&(n=e.buttons.confirm.text),e.buttons.confirm.className&&(r=e.buttons.confirm.className)):e.buttons&&"Array"===g(e.buttons)&&(e.buttons[0]&&(!0!==e.buttons[0]&&(s=e.buttons[0]),o=!0),e.buttons[1]&&!0!==e.buttons[1]&&(n=e.buttons[1])),e.buttons={confirm:{text:n,value:!0,visible:!0,className:r},cancel:{text:s,value:null,visible:o,className:d}}),xe()(e).then(e=>{a(e)}).catch(e=>{i(e)});break;case"String":let c={title:e,buttons:{confirm:{text:"确定",value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}},className:"swalBoxX"};t&&(c.text=t),l&&(c.icon=l),xe()(c).then(e=>{a(e)}).catch(e=>{i(e)});break;case"Boolean":!1===e&&xe.a.close();break}})},Te={name:"uploadGroup",model:{prop:"fileIdListProp",event:"on-file-id-change"},props:{fileIdListProp:{type:[Array,Number,String,File],default(){return[]}},url:{type:String,default(){return window.g&&window.g.mgrURL?window.g.mgrURL+"/fsc/file":""}},data:{type:Object,default(){return{appId:0,moduleId:0,typeId:0}}},manualUpload:{type:Boolean,default(){return!1}},maxSize:{type:Number,default(){return 0}},length:{type:Number,default(){return 0}},showUploadList:{type:Boolean,default(){return!0}},withCredentials:{type:Boolean,default(){return!0}},multiple:{type:Boolean,default(){return!1}},format:{type:Array,default(){return[]}},showImg:{type:Boolean,default(){return!1}},disabled:{type:Boolean,default(){return!1}}},data(){return{getFileTypeIconByName:B,fullScreenImgByDom:we,fileSrcList:[],fileDefaultList:[]}},computed:{previewType(){return!this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"img":this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"localImg":!this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?void 0:"list":"localList"},urlT(){return this.manualUpload?"//jsonplaceholder.typicode.com/posts/":this.url},fileList:{get(){if(this.manualUpload)return this.fileIdList;{let e=[];for(let t of this.fileIdList)e.push({response:{data:[{id:t}]}});return e}},set(e){if(this.manualUpload)this.fileIdList=e;else{let t=[];for(let l of e)l.response&&l.response.data&&l.response.data[0]&&(l.response.data[0].id||0===l.response.data[0].id)&&t.push(l.response.data[0].id);this.fileIdList=t}}},fileIdList:{get(){switch(g(this.fileIdListProp)){case"Number":return[this.fileIdListProp];case"String":return-1!==this.fileIdListProp.indexOf("--")?[]:[Number(this.fileIdListProp)];case"Array":return this.fileIdListProp.filter(e=>"--"!==e);case"File":return[this.fileIdListProp];default:return[]}},set(e){if(1===this.length){let t=_.first(e);this.$emit("on-file-id-change",t||0===t?t:null)}else this.$emit("on-file-id-change",_.cloneDeep(e))}},fileListItemIsIMG(){let e;e=this.manualUpload?this.fileList:this.fileDefaultList;for(let t of e){let e;if(e=this.manualUpload?t&&t.type:t&&t.mimeType,!e||e&&!S(e))return!1}return!0}},watch:{fileList:{async handler(e){if("localImg"===this.previewType)e&&e.length>0?this.fileSrcList=await this.getFileSrcList(e):this.fileSrcList=[];else if(e&&e.length>0&&"localList"!==this.previewType){let t=[];for(let l of e)void 0===l.name?l.response&&l.response.data&&l.response.data[0]&&l.response.data[0].id?te.get(this.url+"/"+l.response.data[0].id).then(a=>{let i=_.cloneDeep(l);i.name=a&&a.data&&a.data.returnValue&&a.data.returnValue[0]&&a.data.returnValue[0].name||"文件"+_.indexOf(e,l),i.mimeType=a&&a.data&&a.data.returnValue&&a.data.returnValue[0]&&a.data.returnValue[0].mimeType||"unknown",t.push(i)}).catch(()=>{t.push({name:"文件"+_.indexOf(e,l)})}):t.push({name:"未知文件"}):t.push(l);this.fileDefaultList=t}else this.fileDefaultList=[]},immediate:!0,deep:!0}},methods:{clear(){this.fileList=[]},async getFileSrcList(e){let t=[];for(let l of e){let e=await T(l);t.push(e)}return t},clearManualItem(e){if(!this.disabled){let t=this.fileList;t.splice(e,1),this.fileList=t}},downloadDefaultFile(e){e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id&&window.open(this.url+"/"+e.response.data[0].id+"/download")},listExpand(e){this.manualUpload?T(e).then(t=>{S(e.type)?we(t):Ce("提示","文件不是图片，不可预览","info")}):e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id&&(S(e.mimeType)?we(this.url+"/"+e.response.data[0].id+"/download"):Ce("提示","文件不是图片，不可预览","info"))},downloadManualFile(e){T(e).then(t=>{I(e.name,t)})},handelManualUpload(e){if(this.manualUpload){if(e){let t=K(e.name);if(this.format.length>0&&this.format.indexOf(t)<0)return Ce("文件类型不被允许","支持类型："+(this.format.length>0&&String(this.format)||"无"),"warning"),!1;if(this.maxSize&&e.size>1024*this.maxSize)return Ce("文件过大","支持最大："+this.maxSize+"kb","warning"),!1;let l=this.fileList;l.push(e),this.fileList=l}return!1}return!0},uploadError(e,t,l){console.warn(e),Ce("上传出错","","error")},uploadSuccess(e,t,l){if(e&&0===e.code){let e=this.fileList;e.push(t),this.fileList=e}else Ce("上传失败",e&&e.message||"","error")},overSize(e,t){Ce("文件过大","支持最大："+this.maxSize+" kb","warning")},onFormatError(e,t){Ce("文件类型不被允许","支持类型："+(this.format.length>0&&String(this.format)||"无"),"warning")},onPreview(e){let t=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id,l=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].mimeType;t&&("String"===g(l)&&l.indexOf("image")>-1?we(this.url+"/"+t+"/download"):window.open(this.url+"/"+t+"/download"))},onRemove(e,t){let l=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id;this.deleteById(null,l)},deleteById(e,t){if(!this.disabled){const e=this.fileIdList;let l=e;l.splice(e.indexOf(t),1),this.fileList=l}}}},Ke=Te,Se=c(Ke,be,ve,!1,null,null,null),Be=Se.exports,Ie=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"tabSetF"},[l("div",{staticClass:"tabSetBt",on:{click:e.labelClick}},[l("Icon",{attrs:{type:"md-settings",size:"17"}}),l("span",[e._v("列表显示设置")])],1),l("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"tabSetCard",style:{top:e.top,right:e.right,width:e.width,backgroundColor:e.bg}},[l("div",{staticClass:"topCheck"},[l("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll(t)}}},[e._v("全选")]),l("span",{staticStyle:{cursor:"pointer",float:"right"},on:{click:e.save}},[e._v("确定")])],1),l("CheckboxGroup",{model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.groupX,(function(t,a){return l("Checkbox",{key:"tabSet_"+e.sKey+a,staticClass:"setItem",attrs:{label:t&&t.label,disabled:t&&t.disabled}})})),1)],1)])},Ve=[],_e={name:"tableSetting",model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},sKey:{type:String,required:!0},top:{type:String,default(){return"30px"}},right:{type:String,default(){return"0"}},width:{type:String,default(){return"150px"}},bg:{type:String,default(){return"#ccc"}},defaultCheck:{type:Boolean,default(){return!1}}},data(){return{indeterminate:!0,checkAll:!1,show:!1,groupT:[]}},computed:{groupX(){return this.value.length>this.groupT.length&&(this.groupT=y.a.cloneDeep(this.value)),this.groupT.map(e=>{let t={label:e&&e.title||"未知列"};return e&&e.disableShowSetting&&(t.disabled=!0),t})},disabledGroup(){return this.groupX.filter(e=>e.disabled)},checkAllGroup:{get(){return this.value.map(e=>e&&e.title||"未知列")},set(e){let t=this.groupT.filter(t=>{for(let l of e)if(l===t.title)return!0;return!1});this.$emit("subVal",t)}}},mounted(){let e=localStorage.getItem(this.sKey);e?this.checkAllGroup=JSON.parse(decodeURI(e)):this.defaultCheck&&(this.checkAllGroup=this.value.filter(e=>e.showSettingCheck).map(e=>e&&e.title||"未知列"))},watch:{checkAllGroup:{handler(e){this.checkAllGroupChange(e)},immediate:!0}},methods:{labelClick(){this.show||(this.show=!0)},save(){localStorage.setItem(this.sKey,encodeURI(JSON.stringify(this.checkAllGroup))),this.show=!1},handleCheckAll(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=this.groupX.map(e=>e.label):this.checkAllGroup=this.disabledGroup.map(e=>e.label)},checkAllGroupChange(e){e.length===this.groupX.length?(this.indeterminate=!1,this.checkAll=!0):e.length>this.disabledGroup.length?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)}}},$e=_e,Le=c($e,Ie,Ve,!1,null,null,null),Ae=Le.exports,Oe=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"containerIKJ",style:e.containerStyle},[l("Input",{ref:"mapInput",class:{mapInputIKJ:e.showMap},attrs:{placeholder:e.placeholder,disabled:e.disabled,icon:"ios-search"},model:{value:e.valueT.name,callback:function(t){e.$set(e.valueT,"name",t)},expression:"valueT.name"}}),l("div",{ref:e.vidT,style:e.mapStyle,attrs:{id:e.vidT}})],1)},De=[],Ge=l("5aeb"),Ne={name:"inputMap",model:{prop:"valProp",event:"update-value"},props:{valProp:{type:Object,default(){return null}},width:{type:[String,Number],default(){return"100%"}},height:{type:[String,Number],default(){return null}},placeholder:{type:String,default(){return"搜索"}},disabled:{type:Boolean,default(){return!1}},showMap:{type:Boolean,default(){return!0}}},data(){return{infoWindow:null}},computed:{valueT:{get(){let e;return e=this.valProp?this.valProp.name?y.a.cloneDeep(this.valProp):{...this.valProp,name:null}:{name:null},e},set(e){this.$emit("update-value",y.a.cloneDeep(e))}},vidT(){return"vidT"+Math.floor(1e9*Math.random())},widthT(){return y.a.isNumber(this.width)?this.width+"px":this.width},heightT(){return y.a.isNumber(this.height)?this.height+"px":this.height?this.height:y.a.isNumber(this.width)?.66*this.width+"px":"200px"},containerStyle(){return{width:this.widthT,position:"relative"}},mapStyle(){return{width:this.widthT,height:this.heightT,marginTop:"6px",opacity:this.showMap?1:0,position:this.showMap?"relative":"absolute",top:this.showMap?0:"-10000px"}}},mounted(){this.checkHeight()},methods:{checkHeight(){this.$refs[this.vidT]&&this.$refs[this.vidT].clientHeight<10||!this.$refs[this.vidT]?setTimeout(this.checkHeight,100):setTimeout(this.initMap,1e3)},initMap(){Ge["lazyAMapApiLoaderInstance"].load().then(()=>{this.mapX=new AMap.Map(this.vidT,{}).on("complete",()=>{this.geoCoder=new AMap.Geocoder,this.valProp&&this.valProp.lng&&this.valProp.lat&&this.createMarker({lng:this.valProp.lng,lat:this.valProp.lat,name:this.valProp.name}),new AMap.Autocomplete({input:this.$refs.mapInput.$el.children[1]}).on("select",e=>{e&&e.poi&&e.poi.name&&(e.poi.location&&e.poi.location.lng&&e.poi.location.lat?(this.createMarker({name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}),this.valueT={name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}):this.mapX.setCity(e.poi.name,()=>{let t=this.mapX.getCenter();this.createMarker({name:e.poi.name,lng:t.lng,lat:t.lat}),this.valueT={name:e.poi.name,lng:t.lng,lat:t.lat}})),this.$emit("on-change",this.valueT)})})})},createMarker({lng:e,lat:t,name:l}){this.mapX.clearMap();let a=new AMap.LngLat(e,t),i=new AMap.Marker({map:this.mapX,position:a,draggable:!0});this.mapX.add(i),this.getAddress(e,t),i.on("dragend",()=>{let a=i.getPosition();this.valueT={name:l||null,lng:a.lng,lat:a.lat},this.getAddress(e,t)}),i.on("click",e=>{this.infoWindow&&this.infoWindow.open(this.mapX,e.target.getPosition())}),this.mapX.setFitView()},getAddress(e,t){this.geoCoder.getAddress([e,t],(e,t)=>{"complete"===e&&"OK"===t.info&&t.regeocode&&t.regeocode.formattedAddress?this.infoWindow=new AMap.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+t.regeocode.formattedAddress+"</div>",offset:new AMap.Pixel(16,-45),closeWhenClickMap:!0}):(this.infoWindow=null,console.warn("地图获取位置信息失败",t))})}}},Xe=Ne,Me=c(Xe,Oe,De,!1,null,null,null),Pe=Me.exports,Ee=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tableBtnsG",class:{disabled:e.disabled},attrs:{title:e.title},on:{click:e.onClick}},[l("Icon",{attrs:{type:e.icon,size:e.size}})],1)},Re=[],Fe={name:"tableIconBtn",props:{icon:{type:String,default(){return"md-radio-button-on"}},title:{type:String,default(){return"按钮"}},has:{type:String},disabled:{type:Boolean,default(){return!1}},size:{type:Number,default(){return 24}}},methods:{onClick(e){this.disabled||this.$emit("click",e)}}},He=Fe,ze=c(He,Ee,Re,!1,null,null,null),je=ze.exports,Ue=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tabTopBtnsT",class:{disabled:e.disabled},style:{"font-size":e.txtSize},on:{click:e.click}},[l("Icon",{attrs:{type:e.icon,size:e.size}}),e._v(" "+e._s(e.name)+" ")],1)},qe=[],We={name:"iconTxtBtn",props:{name:{type:String,default(){return"按钮"}},icon:{type:String,default(){return"md-download"}},size:{type:Number,default(){return 17}},disabled:{type:Boolean,default(){return!1}},has:{type:String}},computed:{txtSize(){return Math.floor(this.size/17*12)+"px"}},methods:{click(e){this.disabled||this.$emit("click",e)}}},Je=We,Ye=c(Je,Ue,qe,!1,null,null,null),Qe=Ye.exports,Ze=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{style:e.getBg},[l("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"contentX"},[e._t("default")],2),l("div",{staticClass:"arrowA"},[l("div",{staticClass:"btA",on:{click:function(t){e.show=!e.show}}},[l("Icon",{attrs:{type:e.show?"ios-arrow-up":"ios-arrow-down",size:"20"}})],1)])])},et=[],tt={name:"showHidePanel",props:["bg"],data(){return{show:!0}},computed:{getBg(){return this.show?"background:"+this.bg||!1:""}}},lt=tt,at=c(lt,Ze,et,!1,null,null,null),it=at.exports,nt=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("Select",{style:e.labelSelectStyle,attrs:{disabled:Boolean(e.disabled),transfer:""},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}},e._l(e.selectOption,(function(t,a){return l("Option",{key:"selectInputOp"+t.value+a,style:{textAlign:e.labelTextAlign},attrs:{value:t.val}},[e._v(e._s(t.label))])})),1),l("Input",{style:e.inputStyle,attrs:{placeholder:e.placeholder,clearable:e.clearable,disabled:Boolean(e.disabled)},on:{"on-change":e.inputChange},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)},st=[],ot={name:"selectInput",model:{prop:"value",event:"subVal"},props:{value:{type:Object,default(){return{key:null,val:null}}},labelWidth:{type:Number,default(){return 160}},labelTextAlign:{type:String,default(){return"right"}},itemWidth:{type:Number,default(){return 200}},selectOption:{type:Array,default(){return[]}},placeholder:{type:String,default(){return"请输入"}},clearable:{type:Boolean,default(){return!1}},disabled:{type:Boolean,default(){return!1}}},computed:{selectVal:{get(){return this.value&&this.value.key||null},set(e){let t={key:e,val:null};this.selectVal&&this.selectVal!==e&&(t.beforeKey=this.selectVal),this.$emit("subVal",t),this.$emit("on-change",t)}},inputVal:{get(){return this.value&&this.value.val||null},set(e){let t={key:this.selectVal,val:e};this.$emit("subVal",t)}},labelSelectStyle(){return{width:this.labelWidth+"px",textAlign:this.labelTextAlign}},inputStyle(){return{width:this.itemWidth+"px"}}},methods:{inputChange(e){e&&e.target&&void 0!==e.target.value&&this.handleChange({key:this.selectVal,val:e.target.value},this)},handleChange:y.a.debounce((e,t)=>{t.$emit("on-change",e)},500)}},rt=ot,dt=c(rt,nt,st,!1,null,null,null),ct=dt.exports,ht=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("Cascader",{ref:"cascaderRT",attrs:{data:e.data,"change-on-select":"",transfer:"",disabled:e.disabled,"render-format":e.format,placeholder:e.placeholder,filterable:e.filterable},on:{"on-change":e.onChange},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})},ut=[],pt={name:"asyncCascader",model:{prop:"valProp",event:"subVal"},props:{url:{type:String,default(){return window.g&&window.g.mgrURL?window.g.mgrURL+"/umc/orgs":""}},valProp:{type:[Array,Number,String]},optionVal:{type:String,default:"id"},optionLabel:{type:String,default:"name"},separator:{type:String,default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default:!1},placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1}},data(){return{data:[]}},computed:{val:{get(){let e=this.valProp;return window._.isArray(e)?[].concat(e):window._.isNumber(e)?A({group:this.data,condition:t=>t.value===e,pathKey:"value"}):window._.isString(e)?e.split(this.separator):null===e?[]:void 0},set(e){if(this.onlyLastVal)window._.isEmpty(e)?(this.$emit("subVal",null),this.$emit("on-label-change",null)):this.$emit("subVal",window._.last(e));else{if(_.isEqual(this.valProp,e))return;this.$emit("subVal",[].concat(e))}}}},created(){this.getData()},methods:{getData(){this.url?this.$fetch.get(this.url).then(e=>{let t=null;e&&e.data&&e.data.records?t=e.data.records:e&&e.data?t=e.data:e&&(t=e),t?this.data=this.dataFilter(t):console.warn("级联数据错误，不能使用")}).catch(()=>{console.warn("拉取级联数据出错")}):console.error("没有用于拉取级联数据的有效接口地址")},dataFilter(e){let t=[];for(let l of e){let e={value:l[this.optionVal],label:l[this.optionLabel]};l.children&&!window._.isEmpty(l.children)&&(e.children=this.dataFilter(l.children)),t.push(e)}return t},format(e,t){return this.onlyLastLabel?window._.last(e):e.join(this.separator)},onChange(e,t){let l=null;window._.isEmpty(t)||(l=t.map(e=>e.label).join(this.separator)),this.$emit("on-label-change",l)}}},ft=pt,mt=c(ft,ht,ut,!1,null,null,null),yt=mt.exports,gt=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:e.editorId}})},bt=[],vt=l("8eed"),wt=l.n(vt),kt=(l("4d58"),{name:"Editor",model:{prop:"value",event:"input"},props:{value:{type:String,default(){return""}},valueType:{type:String,validator:e=>O(e,["html","text"]),default(){return"html"}},changeInterval:{type:Number,default(){return 200}},disabled:{type:Boolean,default(){return!1}}},computed:{editorId(){return"editor"+this._uid}},methods:{setHtml(e){this.editor.txt.html(e)}},mounted(){this.editor=new wt.a("#"+this.editorId),this.editor.customConfig.zIndex=100,this.editor.customConfig.menus=["head","bold","fontSize","italic","underline","foreColor","backColor","link","justify","image","table","undo","redo"],this.editor.customConfig.onchange=e=>{let t=this.editor.txt.text();this.$emit("input","html"===this.valueType?e:t),this.$emit("on-change","html"===this.valueType?e:t)},this.editor.customConfig.onchangeTimeout=this.changeInterval,this.editor.create(),this.value&&this.editor.txt.html(this.value),setTimeout(()=>{this.$watch(()=>this.disabled,e=>{e?this.editor.$textElem.attr("contenteditable",!1):this.editor.$textElem.attr("contenteditable",!0)},{immediate:!0})},10)}}),xt=kt,Ct=c(xt,gt,bt,!1,null,null,null),Tt=Ct.exports,Kt=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("al-cascader",{ref:"alCascaderRefLK",staticClass:"alCascaderMC",attrs:{level:e.level,disabled:e.disabled,placeholder:e.placeholder,transfer:e.transfer,searchable:e.filterable},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}})},St=[],Bt={name:"alCascaderMC",model:{prop:"value",event:"subVal"},props:{value:{type:[String,Number,Array],default(){return null}},level:{type:[Number,String],validator:e=>O(String(e),["0","1","2","3"]),default(){return 2}},disabled:{type:Boolean,default(){return!1}},transfer:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default(){return!0}},separator:{type:String,default(){return"/"}},placeholder:{type:String,default(){return"请选择"}}},computed:{valueT:{get(){if(this.value&&(y.a.isNumber(this.value)||y.a.isString(this.value))){let e=String(this.value).trim(),t=/^\d*$/;if(t.test(e)){let t=/000000$/,l=/^5002/,a=e.substr(0,2)+"0000",i=e.substr(0,4)+"00",n=e.substr(0,6);return l.test(e)&&(i="500100"),t.test(e)?[a,i,n]:[a,i,n,e]}return-1!==e.indexOf(this.separator)?e.split(this.separator):[e]}if(y.a.isArray(this.value))return y.a.cloneDeep(this.value);{let e=this.$refs.alCascaderRefLK;return e&&(e.select=[]),[]}},set(e){if(y.a.isEmpty(e))this.$emit("subVal",null),this.$emit("on-name-change",null);else{let t=y.a.last(e),l=null,a=null;if(t&&(l=t.code),l&&l.length<12&&(l+="000000"),y.a.isArray(e)&&(a=e.map(e=>e.name).join(this.separator)),l){if(l===this.value)return;this.$emit("subVal",l)}a&&this.$emit("on-name-change",a)}}}}},It=Bt,Vt=c(It,Kt,St,!1,null,null,null),_t=Vt.exports,$t=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("Tree",{staticClass:"checkboxTreeGA",attrs:{id:e.id,data:e.dataT,render:e.renderContent,"show-checkbox":""},on:{"on-check-change":e.updateVal,"on-toggle-expand":e.changeStyle}})},Lt=[],At={name:"checkboxTree",model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},expandAll:{type:Boolean,default:!1},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},inlineLeaf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{dataT:[],id:"CKT"+Math.floor(1e7*Math.random()+1e7)}},computed:{collectValT(){return"Array"===g(this.collectVal)?this.collectVal:"String"===g(this.collectVal)?[this.collectVal]:[]},valueT(){return"Array"===g(this.value)?this.value:[]}},watch:{data:{handler(e){let t=[];this.initData(e,t),this.dataT=t,this.inlineLeaf&&this.$nextTick(this.changeStyle)},immediate:!0,deep:!0},disabled:{handler(e){F({group:this.dataT,condition:t=>t.disableCheckbox!==e,key:"disableCheckbox",val:e}),this.inlineLeaf&&this.$nextTick(this.changeStyle)},immediate:!0}},methods:{initData(e,t=[]){for(let l of e){let e=!1;e=this.collectValT.length>1?void 0!==y.a.find(this.valueT,e=>e[this.collectValT[0]]===l[this.collectValT[0]]):-1!==this.valueT.indexOf(l[this.collectValT[0]]);let a={name:l[this.label],expand:Boolean(this.expandAll||l.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)a[t]=l[t];t.push(a),l.children&&l.children.length>0&&(a.children=[],this.initDataB(l.children,a.children))}},initDataB(e,t=[]){for(let l of e){let e=!1;e=this.collectValT.length>1?void 0!==y.a.find(this.valueT,e=>e[this.collectValT[0]]===l[this.collectValT[0]]):-1!==this.valueT.indexOf(l[this.collectValT[0]]);let a={name:l[this.label],expand:Boolean(this.expandAll||l.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)a[t]=l[t];t.push(a),l.children&&l.children.length>0&&(a.children=[],this.initData(l.children,a.children))}},renderContent(e,{root:t,node:l,data:a}){let i="",n=!0;if(a.children&&a.children.length>0){for(let e of a.children)if(void 0!==e.children){n=!1;break}n&&this.inlineLeaf&&(i="inlineChildXA")}return e("div",{style:{display:"inline-block",width:"100%"},class:i},[e("span",{style:{fontWeight:a.children?"bold":"normal"}},a.name)])},changeStyle(e){if(e)return void(e.expand&&this.$nextTick(this.changeStyle));let t=document.querySelectorAll("#"+this.id+" .inlineChildXA");if(t.length>0)for(let l of t){let e=l.parentNode,t=e.nextElementSibling;if(!t)return;if("BR"!==t.tagName){let l=e.parentNode,a=document.createElement("br");l.insertBefore(a,t),t=a.nextElementSibling,-1==t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}while(t.nextElementSibling)t=t.nextElementSibling,-1==t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}},updateVal(e){let t=[];if(this.leaf){for(let l of e)if(!l.children)if("Array"===g(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=l[t];t.push(e)}else t.push(l[this.collectVal])}else for(let l of e)if("Array"===g(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=l[t];t.push(e)}else t.push(l[this.collectVal]);this.$emit("subVal",t),this.$emit("on-change",y.a.cloneDeep(t))}}},Ot=At,Dt=c(Ot,$t,Lt,!1,null,null,null),Gt=Dt.exports,Nt=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"boxLPA"},[l("div",{staticClass:"headerJ"},[l("div",{staticClass:"firstT borderBoxAS"},[e._v(e._s(e.firstTitle))]),l("div",{staticClass:"secondT borderBoxAS"},[e._v(e._s(e.secondTitle))])]),e._l(e.dataT,(function(t,a){return l("div",{key:"checkboxJ"+a,staticClass:"bodyJ"},[l("div",{staticClass:"firstCol borderBoxAS"},[l("Checkbox",{attrs:{indeterminate:t.indeterminate,disabled:e.disabled},on:{"on-change":function(l){return e.checkAll(t,l)}},model:{value:t.checked,callback:function(l){e.$set(t,"checked",l)},expression:"item.checked"}},[e._v(e._s(t[e.label]))])],1),l("div",{staticClass:"secondCol borderBoxAS"},e._l(t.children,(function(t,a){return l("div",{key:"secItem"+a,staticClass:"secItem"},[l("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:t.checked,callback:function(l){e.$set(t,"checked",l)},expression:"secItem.checked"}},[e._v(e._s(t[e.label]))])],1)})),0)])}))],2)},Xt=[],Mt={name:"checkboxGroupTwoClass",model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String,default(){return"一级"}},secondTitle:{type:String,default(){return"二级"}},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=y.a.cloneDeep(this.data),t=y.a.cloneDeep(this.leafChecked);for(let l of e){let e=0;if(l.children&&!y.a.isEmpty(l.children))for(let a of l.children){for(let l=0,i=t.length;l<i;l++)if("Object"===g(t[l])){let i=!0;for(let e of this.collectVal)if(t[l][e]!==a[e]){i=!1;break}if(i){a.checked=!0,e++,t.splice(l,1);break}}else if(t[l]===a[this.collectVal]){a.checked=!0,e++,t.splice(l,1);break}!a.checked&&(a.checked=!1)}0===e?(l.checked=!1,l.indeterminate=!1):l.children&&e===l.children.length?(l.checked=!0,l.indeterminate=!1):(l.checked=!1,l.indeterminate=!0)}return e}},watch:{value:{handler(e,t){y.a.isEqual(this.leafChecked,e)||y.a.isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkAll(e,t){if(e.children)for(let l of e.children)l.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let l=[];for(let a of e){if(!t&&!this.leaf&&a.checked&&!1===a.indeterminate)if("Array"===g(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];l.push(e)}else"String"===g(this.collectVal)&&l.push(a[this.collectVal]);if(a.children)for(let e of a.children)if(e.checked)if("Array"===g(this.collectVal)){let t={};for(let l of this.collectVal)t[l]=e[l];l.push(t)}else"String"===g(this.collectVal)&&l.push(e[this.collectVal])}t?(this.leafChecked=l,this.leaf?(this.$emit("subVal",l),this.$emit("on-change",y.a.cloneDeep(l))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",l),this.$emit("on-change",y.a.cloneDepp(l)))}}},Pt=Mt,Et=c(Pt,Nt,Xt,!1,null,null,null),Rt=Et.exports,Ft=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"boxLPB"},[l("div",{staticClass:"headerF"},[l("div",{staticClass:"firstT borderBoxKa"},[e._v(e._s(e.firstTitle))]),l("div",{staticClass:"secondT borderBoxKa"},[e._v(e._s(e.secondTitle))]),l("div",{staticClass:"thirdT borderBoxKa"},[e._v(e._s(e.thirdTitle))])]),e._l(e.dataT,(function(t,a){return l("div",{key:"checkboxJ"+a,staticClass:"bodyF"},[l("div",{staticClass:"firstCol borderBoxKa"},[l("Checkbox",{attrs:{indeterminate:t.indeterminate,disabled:e.disabled},on:{"on-change":function(l){return e.checkChangeFirst(t,l)}},model:{value:t.checked,callback:function(l){e.$set(t,"checked",l)},expression:"item.checked"}},[e._v(e._s(t[e.label]))])],1),l("div",{staticClass:"rightBoxAL"},e._l(t.children,(function(t,a){return l("div",{key:"secItem"+a,staticClass:"rightBoxInner"},[l("div",{staticClass:"secondCol borderBoxKa"},[l("Checkbox",{attrs:{indeterminate:t.indeterminate,disabled:e.disabled},on:{"on-change":function(l){return e.checkChangeSecond(t,l)}},model:{value:t.checked,callback:function(l){e.$set(t,"checked",l)},expression:"secItem.checked"}},[e._v(e._s(t[e.label]))])],1),l("div",{staticClass:"thirdCol borderBoxKa"},e._l(t.children,(function(t,a){return l("div",{key:"thirdItem"+a,staticClass:"thirdItem"},[l("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:t.checked,callback:function(l){e.$set(t,"checked",l)},expression:"thirdItem.checked"}},[e._v(e._s(t[e.label]))])],1)})),0)])})),0)])}))],2)},Ht=[],zt={name:"checkboxGroupThreeClass",model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String,default(){return"一级"}},secondTitle:{type:String,default(){return"二级"}},thirdTitle:{type:String,default(){return"三级"}},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=y.a.cloneDeep(this.data),t=y.a.cloneDeep(this.leafChecked);for(let l of e){let e=0,a=0;if(l.children&&!y.a.isEmpty(l.children))for(let i of l.children){let l=0;if(i.children&&!y.a.isEmpty(i.children))for(let e of i.children){for(let a=0,i=t.length;a<i;a++)if("Object"===g(t[a])){let i=!0;for(let l of this.collectVal)if(t[a][l]!==e[l]){i=!1;break}if(i){e.checked=!0,l++,t.splice(a,1);break}}else if(t[a]===e[this.collectVal]){e.checked=!0,l++,t.splice(a,1);break}!e.checked&&(e.checked=!1)}0===l?(i.checked=!1,i.indeterminate=!1):i.children&&l===i.children.length?(i.checked=!0,i.indeterminate=!1,e++):(i.checked=!1,i.indeterminate=!0,a++)}0===e&&0===a?(l.checked=!1,l.indeterminate=!1):l.children&&e===l.children.length?(l.checked=!0,l.indeterminate=!1):(l.checked=!1,l.indeterminate=!0)}return e}},watch:{value:{handler(e,t){y.a.isEqual(this.leafChecked,e)||y.a.isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkChangeFirst(e,t){if(e.children)for(let l of e.children)if(l.checked=t,l.children)for(let e of l.children)e.checked=t;this.updateDataT()},checkChangeSecond(e,t){if(e.children)for(let l of e.children)l.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let l=[];for(let a of e){if(!t&&!this.leaf&&a.checked&&!1===a.indeterminate)if("Array"===g(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];l.push(e)}else"String"===g(this.collectVal)&&l.push(a[this.collectVal]);if(a.children)for(let e of a.children){if(!t&&!this.leaf&&e.checked&&!1===e.indeterminate)if("Array"===g(this.collectVal)){let t={};for(let l of this.collectVal)t[l]=e[l];l.push(t)}else"String"===g(this.collectVal)&&l.push(e[this.collectVal]);if(e.children)for(let t of e.children)if(t.checked)if("Array"===g(this.collectVal)){let e={};for(let l of this.collectVal)e[l]=t[l];l.push(e)}else"String"===g(this.collectVal)&&l.push(t[this.collectVal])}}t?(this.leafChecked=l,this.leaf?(this.$emit("subVal",l),this.$emit("on-change",y.a.cloneDeep(l))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",l),this.$emit("on-change",y.a.cloneDepp(l)))}}},jt=zt,Ut=c(jt,Ft,Ht,!1,null,null,null),qt=Ut.exports,Wt=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],staticClass:"fullScreenPopBoxAM"},[l("div",{staticClass:"headerAM",style:{color:e.headerColor,backgroundColor:e.headerBg,fontSize:e.hFontSize}},[l("span",{staticClass:"headerTxtAM"},[e._v(e._s(e.title))]),l("header-bt",{attrs:{icon:"md-return-left"},on:{click:e.close}},[e._v("返回")])],1),l("div",{staticClass:"contentAM"},[e._t("default")],2)])},Jt=[],Yt=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{class:{headerBtCTM:!0,withIconCTM:e.icon||e.withIcon,disabled:e.disabled},style:{color:e.color,borderLeftColor:e.borderColor},on:{click:e.click}},[e.icon?l("Icon",{attrs:{size:e.iconSize,type:e.icon}}):e._e(),e._t("default")],2)},Qt=[],Zt={name:"headerBt",props:{icon:{type:String},withIcon:{type:Boolean,default:!1},iconSize:{type:[Number,String],default:18},color:{type:String,default:"inherit"},borderColor:{type:String,default:"#fff"},disabled:{type:Boolean,default:!1}},methods:{click(e){this.disabled||this.$emit("click",e)}}},el=Zt,tl=c(el,Yt,Qt,!1,null,null,null),ll=tl.exports,al={name:"fullScreenPop",components:{headerBt:ll},props:{title:{type:String,default:"标题"},headerColor:{type:String},headerBg:{type:String},headerFontSize:{type:[String,Number],default:12}},data(){return{showPop:!1}},computed:{hFontSize(){return"Number"===g(this.headerFontSize)?this.headerFontSize+"px":this.headerFontSize}},methods:{open(){this.showPop=!0,this.$emit("on-open")},close(e){this.showPop=!1,this.$emit("on-close",!0===e)}}},il=al,nl=c(il,Wt,Jt,!1,null,null,null),sl=nl.exports,ol=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("Form",{key:e.formReRenderKey,ref:"formGroupXRef",staticClass:"formXN",attrs:{model:e.valGroup,rules:e.formRulesT,"label-width":e.labelWidth,inline:e.inline,"show-message":e.showMessage}},[e._l(e.formDataT,(function(t,a){return e.getFormItemIfVal(t)?l("FormItem",{key:"formItem"+a,staticClass:"relativeBox",class:{withInfo:Boolean(t.info),withTitle:Boolean(t.title),inlineFormItemXN:e.inline,noLabel:"selectInput"===t.type},style:e.formStyle,attrs:{label:"radio"!==t.type&&"checkbox"!==t.type?t.label:" ",prop:t.key||""}},["txt"===t.type?l("span",{class:{likeInputX:t.likeInput}},[e._v(e._s(t.valKey?e.valGroup[t.valKey]||"无":t.val))]):"inputNumber"===t.type?l("InputNumber",{style:e.itemStyle,attrs:{max:t.max||1/0,min:t.min||-1/0,precision:t.precision,step:t.step||1,placeholder:t.placeholder||"请输入",disabled:Boolean(t.disabled)||e.disabled,readonly:Boolean(t.readonly),editable:!1!==t.editable,"active-change":Boolean(t.activeChange),clearable:!1!==t.clearable},on:{"on-blur":function(l){return e.itemChange(l,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(l){e.$set(e.tempKeys,t.tempKey,l)},expression:"tempKeys[item.tempKey]"}}):"input"===t.type?l("Input",{style:e.itemStyle,attrs:{maxlength:t.maxLength||null,placeholder:t.placeholder||"请输入",disabled:Boolean(t.disabled)||e.disabled,clearable:!1!==t.clearable},on:{"on-blur":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(l){e.$set(e.tempKeys,t.tempKey,l)},expression:"tempKeys[item.tempKey]"}}):"select"===t.type?l("Select",{style:e.itemStyle,attrs:{filterable:(!0===t.filterable||!1===t.filterable)&&t.filterable,disabled:Boolean(t.disabled)||e.disabled,multiple:Boolean(t.multiple),placeholder:t.placeholder||"请选择",transfer:"",clearable:!1!==t.clearable},on:{"on-clear":function(l){return e.clearTempKeyItem(l,t.tempKey)},"on-change":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(l){e.$set(e.tempKeys,t.tempKey,l)},expression:"tempKeys[item.tempKey]"}},e._l(t.options,(function(e,a){return l("Option",{key:"option-"+t.key+a,attrs:{value:e.val,label:e.label||e.val,disabled:!!e.disabled}})})),1):"selectInput"===t.type?l("select-input",{attrs:{"label-width":e.labelWidth,"item-width":e.itemWidth,"select-option":t.options||[],placeholder:t.placeholder||"请输入",clearable:!1!==t.clearable,disabled:Boolean(t.disabled)||e.disabled},on:{"on-change":e.onSelectInputChange},model:{value:e.tempKeys[t.tempKey],callback:function(l){e.$set(e.tempKeys,t.tempKey,l)},expression:"tempKeys[item.tempKey]"}}):"alCascader"===t.type?l("al-cascader-m-c",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{level:t.level||0===t.level?t.level:2,disabled:Boolean(t.disabled)||e.disabled,filterable:!1!==t.filterable,placeholder:t.placeholder||"请选择"},on:{"on-name-change":function(l){return e.alNameChange(l,t)}},model:{value:e.valGroup[t.key],callback:function(l){e.$set(e.valGroup,t.key,l)},expression:"valGroup[item.key]"}}):"asyncCascader"===t.type?l("async-cascader",{style:e.itemStyle,attrs:{url:t.url||e.mgrUrl+"/umc/orgs","option-val":t.optionVal||"id","option-label":t.optionLabel||"name","only-last-val":!1!==t.onlyLastVal,"only-last-label":!1!==t.onlyLastLabel,separator:t.separator||"/",placeholder:t.placeholder||"请选择",filterable:Boolean(t.filterable),disabled:Boolean(t.disabled)||e.disabled},on:{"on-label-change":function(l){return e.asyncLabelChange(l,t)}},model:{value:e.valGroup[t.key],callback:function(l){e.$set(e.valGroup,t.key,l)},expression:"valGroup[item.key]"}}):"radio"===t.type?l("Radio",{attrs:{disabled:Boolean(t.disabled)||e.disabled},on:{"on-change":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.valGroup[t.key],callback:function(l){e.$set(e.valGroup,t.key,l)},expression:"valGroup[item.key]"}},[e._v(e._s(t.label))]):"radioGroup"===t.type?l("RadioGroup",{style:e.itemStyle,attrs:{type:t.buttonType?"button":null},on:{"on-change":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(l){e.$set(e.tempKeys,t.tempKey,l)},expression:"tempKeys[item.tempKey]"}},e._l(t.options,(function(a){return l("Radio",{key:"radioItem"+a.val,attrs:{label:a.val,border:Boolean(t.itemBorder),disabled:Boolean(t.disabled)||e.disabled||a.disabled}},[a.icon&&!t.buttonType?l("Icon",{attrs:{type:a.icon}}):e._e(),l("span",[e._v(e._s(a.label||a.val))])],1)})),1):"checkbox"===t.type?l("Checkbox",{attrs:{disabled:!!t.disabled},on:{"on-change":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.valGroup[t.key],callback:function(l){e.$set(e.valGroup,t.key,l)},expression:"valGroup[item.key]"}},[e._v(e._s(t.label))]):"checkboxGroup"===t.type?l("CheckboxGroup",{style:e.itemStyle,on:{"on-change":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.valGroup[t.key],callback:function(l){e.$set(e.valGroup,t.key,l)},expression:"valGroup[item.key]"}},e._l(t.options,(function(a){return l("Checkbox",{key:"checkItem"+a.val,attrs:{label:a.val,disabled:Boolean(t.disabled)||e.disabled||a.disabled}},[a.icon?l("Icon",{attrs:{type:a.icon}}):e._e(),l("span",[e._v(e._s(a.label||a.val))])],1)})),1):"textarea"===t.type?l("Input",{style:e.itemStyle,attrs:{type:"textarea",autosize:{minRows:2},maxlength:t.maxLength||null,placeholder:t.placeholder||"请输入",disabled:Boolean(t.disabled)||e.disabled,clearable:!1!==t.clearable},on:{"on-blur":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(l){e.$set(e.tempKeys,t.tempKey,l)},expression:"tempKeys[item.tempKey]"}}):"upload"===t.type?l("upload-group",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{url:t.url||e.uploadUrl,"manual-upload":Boolean(t.manualUpload),format:t.format||[],data:t.data,"max-size":t.maxSize||0,"show-img":Boolean(t.showImg),length:t.length||0,disabled:Boolean(t.disabled)||e.disabled,withCredentials:!1!==t.withCredentials},on:{"on-file-id-change":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.valGroup[t.key],callback:function(l){e.$set(e.valGroup,t.key,l)},expression:"valGroup[item.key]"}}):"date"===t.type?l("DatePicker",{style:e.itemStyle,attrs:{type:t.dateType,disabled:Boolean(t.disabled)||e.disabled,placement:"bottom-end",placeholder:t.placeholder||"选择日期",options:t.dateOptions||null,clearable:!1!==t.clearable,editable:!1,transfer:""},on:{"on-change":function(l){return e.itemChange(l,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(l){e.$set(e.tempKeys,t.tempKey,l)},expression:"tempKeys[item.tempKey]"}}):"editor"===t.type?l("editor",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{disabled:Boolean(t.disabled)||e.disabled},on:{"on-change":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.valGroup[t.key],callback:function(l){e.$set(e.valGroup,t.key,l)},expression:"valGroup[item.key]"}}):"inputMap"===t.type?l("input-map",{style:e.itemStyle,attrs:{placeholder:t.placeholder||"搜索",disabled:Boolean(t.disabled)||e.disabled,"show-map":!1!==t.showMap,height:t.mapHeight||"250px"},on:{"on-change":function(l){return e.reValidateAndChangeHandle(l,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(l){e.$set(e.tempKeys,t.tempKey,l)},expression:"tempKeys[item.tempKey]"}}):"custom"===t.type?l("div",{staticClass:"inlineBlock",style:e.itemStyle},[e._t(t.slotName,null,{valGroup:e.valGroup})],2):e._e(),Boolean(t.info)?l("div",{staticClass:"formInfoTxtXN"},[e._v(e._s(t.info))]):e._e(),Boolean(t.title)?l("div",{staticClass:"formTitleTxtXN"},[e._v(e._s(t.title))]):e._e()],1):e._e()})),e.showLongOkBt?l("FormItem",[l("Button",{style:e.itemStyle,attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.longOkBtTxt))])],1):e._e(),e.showInlineOkBt?l("Button",{class:{inlineFormBtXN:e.inline,okBtnXN:!0},attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.inlineOkBtTxt))]):e._e(),e.showInlineClearBt?l("Button",{class:{inlineFormBtXN:e.inline},attrs:{type:"dashed"},on:{click:e.clearForm}},[e._v(e._s(e.inlineClearBtTxt))]):e._e()],2)},rl=[],dl=l("c32d"),cl=l.n(dl),hl={name:"formR",props:{formData:{type:Array,default(){return[]}},formRules:{type:Object,default(){return{}}},showMessage:{type:Boolean,default(){return!0}},labelWidth:{type:Number,default(){return 160}},contentWidth:{type:String,default(){return"70%"}},itemWidth:{type:Number,default(){return 200}},inline:{type:Boolean,default(){return!1}},showLongOkBt:{type:Boolean,default(){return!1}},longOkBtTxt:{type:String,default(){return"确定"}},showInlineOkBt:{type:Boolean,default(){return!1}},inlineOkBtTxt:{type:String,default(){return"确定"}},showInlineClearBt:{type:Boolean,default(){return!1}},inlineClearBtTxt:{type:String,default(){return"清空"}},disabled:{type:Boolean,default(){return!1}},btnLoading:{type:Boolean,default(){return!1}}},data(){return{valGroup:{},formDataT:[],tempKeys:{},mgrUrl:window.g.mgrURL,selectInputKeys:[],showLoading:!1,formReRenderKey:Math.floor(1e8*Math.random()+1e3),clientHeightR:0,uploadUrl:window.g.mgrURL&&window.g.mgrURL+"/fsc/file"||"/file"}},computed:{formStyle(){return this.inline?{width:this.itemWidth+this.labelWidth+"px"}:{}},itemStyle(){return this.inline?{width:"100%"}:{width:this.contentWidth}},formRulesT(){let e=y.a.cloneDeep(this.formRules);for(let t in e)if(e.hasOwnProperty(t))if("Array"===g(e[t]))for(let l of e[t])l.message||l.validator||(l.message="该项为必填");else"Object"===g(e[t])&&(e[t].message&&!e[t].validator||(e[t].message="该项为必填"));return e},showingKeys(){let e=[];for(let t of this.formDataT)if(!0===t.showing&&t.key&&"selectInput"!==t.type&&(e.push(t.key),t.key2&&e.push(t.key2),t.collectLabel))if(y.a.isPlainObject(t.collectLabel)&&t.collectLabel.key)e.push(t.collectLabel.key);else if(y.a.isArray(t.collectLabel))for(let l of t.collectLabel)l.key&&e.push(l.key);return e.push(...this.selectInputKeys),e}},created(){this.initValGroup(),this.initFormDataT()},methods:{resetForm(){return new Promise(e=>{this.clearForm(),this.refreshFormDom().then(()=>{e()})})},reRenderForm(){return new Promise(e=>{this.tempKeys={},this.initValGroup(),this.initFormDataT(),this.refreshFormDom().then(()=>{e()})})},refreshFormDom(){return new Promise(e=>{this.formReRenderKey=Math.floor(1e8*Math.random()+1e3),setTimeout(()=>{e()},10)})},clearForm(){for(let e in this.valGroup)this.valGroup.hasOwnProperty(e)&&("Array"===g(this.valGroup[e])?this.$set(this.valGroup,e,[]):this.$set(this.valGroup,e,null));this.clearTempKeys()},clearTempKeys(){for(let e in this.tempKeys)this.tempKeys.hasOwnProperty(e)&&("Array"===g(this.tempKeys[e])?this.$set(this.tempKeys,e,[]):"Object"===g(this.tempKeys[e])&&this.tempKeys[e].hasOwnProperty("key")&&this.tempKeys[e].hasOwnProperty("val")?this.$set(this.tempKeys[e],"val",null):this.$set(this.tempKeys,e,null))},clearTempKeyItem(e){"Array"===g(this.tempKeys)?this.tempKeys[e]=[]:this.tempKeys[e]=null},getFormItemIfVal(e){if(!e.show)return this.$set(e,"showing",!0),!0;if("Object"===g(e.show))return this.returnIfVal(e,this.dealIfItem(e.show));if("Array"===g(e.show)){if(e.showOr){for(let t of e.show)if(!0===this.dealIfItem(t))return this.returnIfVal(e,!0);return this.returnIfVal(e,!1)}for(let t of e.show)if(!1===this.dealIfItem(t))return this.returnIfVal(e,!1);return this.returnIfVal(e,!0)}},dealIfItem(e){if("Array"===g(e.val)){for(let t of e.val){if((this.valGroup[e.key]||0===this.valGroup[e.key]||!1===this.valGroup[e.key])&&"."===t)return!0;if(this.valGroup[e.key]===t)return!0}return!1}return!1},returnIfVal(e,t){return t&&e.key&&(void 0!==e.defaultVal&&(e.tempKey?null===this.tempKeys[e.tempKey]&&("input"===e.type||"textarea"===e.type||"select"===e.type?this.tempKeys[e.tempKey]=e.defaultVal:"inputMap"===e.type&&(this.tempKeys[e.tempKey]={lng:e.defaultVal,lat:e.defaultVal2})):null===this.valGroup[e.key]&&this.$set(this.valGroup,e.key,e.defaultVal),e.key2&&void 0!==e.deafultVal2&&null===this.valGroup[e.key2]&&"inputMap"!==e.type&&(this.valGroup[e.key2]=e.defaultVal2)),e.tempKey&&this.tempKeysWatchHandle(this.tempKeys[e.tempKey],e)),this.$set(e,"showing",t),t},initFormDataT(){let e=y.a.cloneDeep(this.formData);for(let t of e)switch(t.type){case"selectInput":const l="selectInput"+Math.floor(1e8*Math.random());t.tempKey=l,this.$set(this.tempKeys,l,{key:t.key||null,val:t.defaultVal||null}),this.$watch(()=>this.tempKeys[l],e=>{this.tempKeysWatchHandle(e,t)},{immediate:!0});break;case"inputMap":const a="inputMap"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=a,this.$set(this.tempKeys,a,void 0!==t.defaultVal&&void 0!==t.defaultVal2?{lng:t.defaultVal,lat:t.defaultVal2}:{lng:null,lat:null}),this.$watch(()=>this.tempKeys[a],e=>{this.tempKeysWatchHandle(e,t)},{immediate:!0}));break;case"input":case"textarea":const i="inputT"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=i,this.$set(this.tempKeys,i,void 0!==t.defaultVal?t.defaultVal:null),this.$watch(()=>this.tempKeys[i],e=>{this.tempKeysWatchHandle(e,t)},{immediate:!0}));break;case"select":case"radioGroup":case"checkboxGroup":if(t.options||(t.options=[]),t.asyncOption)if(t.changeOption)if(y.a.isPlainObject(t.changeOption))t.changeOption.valKey&&t.changeOption.key&&this.$watch(()=>this.valGroup[t.changeOption.valKey],e=>{let l=y.a.cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,(e||0===e||!1===e)&&t.optionUrl){let a=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((a+"&"+t.changeOption.key+"="+e).replace(/\?&/,"?"),t,l)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),this.isValidValue(l)&&this.recoverVal(l,t)},{immediate:!0});else if(y.a.isArray(t.changeOption)){let e=!0;for(let l of t.changeOption)if(!l.valKey||!l.key){e=!1;break}e?this.$watch(()=>{let e="";for(let l of t.changeOption){let t=this.valGroup[l.valKey];if(t||0===t||!1===t)e+="&"+l.key+"="+t;else if(!l.notRequired)return!1}return e},e=>{let l=y.a.cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,e&&t.optionUrl){let a=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((a+e).replace(/\?&/,"?"),t,l)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),this.isValidValue(l)&&this.recoverVal(l,t)},{immediate:!0}):(t.options=[],t.localOption&&(t.options=[...t.localOption]))}else y.a.isBoolean(t.changeOption)&&this.$watch(()=>this.formData[y.a.indexOf(e,t)].optionUrl,e=>{let l=y.a.cloneDeep(this.tempKeys[t.tempKey]);this.tempKeys[t.tempKey]=null,e?this.initOption(e,t,l):(t.options=[],t.localOption&&(t.options=[...t.localOption]),this.isValidValue(l)&&this.recoverVal(l,t))},{immediate:!0});else this.initOption(t.optionUrl,t);else"String"===g(t.borrowOption)&&(t.options=y.a.find(e,{key:t.borrowOption}).options);if("checkboxGroup"!==t.type){const e="opEle"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=e,"select"===t.type&&t.multiple?this.$set(this.tempKeys,e,void 0!==t.defaultVal?t.defaultVal:[]):t.booleanVal?this.$set(this.tempKeys,e,void 0!==t.defaultVal?Boolean(t.defaultVal)?1:0:null):this.$set(this.tempKeys,e,void 0!==t.defaultVal?t.defaultVal:null),this.$watch(()=>this.tempKeys[e],e=>{this.tempKeysWatchHandle(e,t)},{immediate:!0}))}break;case"date":const n="date"+Math.floor(1e8*Math.random());t.tempKey=n,"date"===t.dateType||"datetime"===t.dateType?this.$set(this.tempKeys,n,null):"daterange"!==t.dateType&&"datetimerange"!==t.dateType||this.$set(this.tempKeys,n,[]),this.$watch(()=>this.tempKeys[n],e=>{this.tempKeysWatchHandle(e,t)});break}this.formDataT=e},initOption(e,t,l){te.get(e).then(e=>{let a;if(a=e&&e.data&&e.data.records?e.data.records||[]:e&&e.data?e.data||[]:e&&e||[],"Array"===g(a))if(t.optionLabel&&t.optionVal){let e=g(t.optionLabel);t.options.length=0,t.options.push(...a.map(l=>{let a={};if("Array"===e){let e="";t.optionLabel.forEach((t,a)=>{let i=String(l[t]);e+=1===a?"（"+i:a>1?"、"+i:i}),a={label:e+"）",val:l[t.optionVal]}}else a={label:l[t.optionLabel],val:l[t.optionVal]};if(t.collectLabel)if(y.a.isPlainObject(t.collectLabel))t.collectLabel.valKey&&"label"!==t.collectLabel.valKey&&(a[t.collectLabel.valKey]=l[t.collectLabel.valKey]);else if(y.a.isArray(t.collectLabel))for(let e of t.collectLabel)e.valKey&&"label"!==e.valKey&&(a[e.valKey]=l[e.valKey]);if(null!==a.val&&void 0!==a.val)return a}))}else t.options.length=0,t.options.push(...a);else t.options.length=0;t.localOption&&t.options.unshift(...t.localOption),this.isValidValue(l)&&this.recoverVal(l,t),t.disableOptionByOthers&&(y.a.isString(t.disableOptionByOthers)?this.$watch(()=>this.valGroup[t.disableOptionByOthers],e=>{this.clearTempKeyItem(t.tempKey);for(let l of t.options)l.disabled&&this.$set(l,"disabled",!1);if(e||0===e||!1===e)for(let l of t.options)l.val===e&&this.$set(l,"disabled",!0)},{immediate:!0}):y.a.isArray(t.disableOptionByOthers)&&this.$watch(()=>{let e=[];for(let l of t.disableOptionByOthers)l&&e.push(this.valGroup[l]);return e},e=>{this.clearTempKeyItem(t.tempKey);for(let l of t.options)l.disabled&&this.$set(l,"disabled",!1);if(e)for(let l of t.options)for(let t=0;t<e.length;t++)if(l.val===e[t]){this.$set(l,"disabled",!0),e.splice(t,1);break}},{immediate:!0}))})},recoverVal(e,t){y.a.isArray(t.options)&&-1!==y.a.findIndex(t.options,{val:e})&&(this.tempKeys[t.tempKey]=e)},initValGroup(){this.valGroup={};for(let e of this.formData)e.key&&("checkboxGroup"===e.type||"select"===e.type&&e.multiple?this.$set(this.valGroup,e.key,void 0!==e.defaultVal&&void 0===e.show?e.defaultVal:[]):(this.$set(this.valGroup,e.key,void 0!==e.defaultVal&&void 0===e.show?e.defaultVal:null),e.key2&&this.$set(this.valGroup,e.key2,void 0!==e.defaultVal2&&void 0===e.show?e.defaultVal2:null)))},tempKeysWatchHandle(e,t){if(t.showing)switch(t.type){case"selectInput":e&&(e.beforeKey&&delete this.valGroup[e.beforeKey],this.valGroup[e.key]=e.val);break;case"inputMap":e?(this.valGroup[t.key]=e.lng,this.valGroup[t.key2]=e.lat):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null);break;case"input":case"textarea":if(e||0===e){let l=/^-?\d+(.\d+)?$/;t.numberVal&&l.test(e)?this.valGroup[t.key]=Number(e):this.valGroup[t.key]=e}else this.valGroup[t.key]=null;break;case"select":case"radioGroup":if(t.booleanVal&&!t.multiple?this.valGroup[t.key]=void 0===e||""===e||null===e?null:Boolean(e):t.multiple?this.valGroup[t.key]=Object.assign([],e):this.valGroup[t.key]=e,t.collectLabel)if(y.a.isPlainObject(t.collectLabel)){if(t.collectLabel.key&&t.collectLabel.valKey)if(e||0===e||!1===e){for(let i of t.options)if(i.val===e){this.$set(this.valGroup,t.collectLabel.key,i[t.collectLabel.valKey]);break}}else this.valGroup[t.collectLabel.key]=null}else if(y.a.isArray(t.collectLabel))for(let i of t.collectLabel)if(i.key&&i.valKey)if(e||0===e||!1===e){for(let l of t.options)if(l.val===e){this.$set(this.valGroup,i.key,l[i.valKey]);break}}else this.valGroup[i.key]=null;break;case"date":const l=t.format||"YYYY-MM-DD",a=t.format||"YYYY-MM-DD HH:mm:ss";"date"===t.dateType?e?(this.valGroup[t.key]=cl()(e).format(l),t.addTime&&(this.valGroup[t.key]+=" 00:00:00")):this.valGroup[t.key]=null:"daterange"===t.dateType?e&&e[0]&&e[1]?(this.valGroup[t.key]=cl()(e[0]).format(l),this.valGroup[t.key2]=cl()(e[1]).format(l),t.addTime&&(this.valGroup[t.key]+=" 00:00:00",this.valGroup[t.key2]+=" 23:59:59")):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null):"datetime"===t.dateType?this.valGroup[t.key]=e?cl()(e).format(a):null:"datetimerange"===t.dateType&&(e&&e[0]&&e[1]?(this.valGroup[t.key]=cl()(e[0]).format(a),this.valGroup[t.key2]=cl()(e[1]).format(a)):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null));break}},setItemToValGroup(e,t){let l={};for(let a in this.valGroup)this.valGroup.hasOwnProperty(a)&&void 0!==e[a]&&(l[a]=e[a],delete e[a]);this.updateValGroup(l,t);for(let a in e)e.hasOwnProperty(a)&&this.$set(this.valGroup,a,e[a])},updateValGroup(e,t){this.updateTempKeys(e,t);for(let l in this.valGroup)if(this.valGroup.hasOwnProperty(l)&&void 0!==e[l]&&"--"!==e[l]){if("Array"===g(e[l]))e[l]=e[l].filter(e=>"--"!==e);else if("Object"===g(e[l]))for(let t in e[l])e[l].hasOwnProperty(t)&&"--"===e[l][t]&&(e[l][t]=null);this.valGroup[l]=e[l]}else t||(this.valGroup[l]="Array"===g(this.valGroup[l])?[]:null)},updateTempKeys(e,t){for(let l of this.formDataT)if((t&&(void 0!==e[l.key]||void 0!==e[l.key2])||!t)&&l.tempKey)switch(l.type){case"inputMap":y.a.isNumber(e[l.key])&&y.a.isNumber(e[l.key2])?this.tempKeys[l.tempKey]={lng:e[l.key],lat:e[l.key2]}:this.tempKeys[l.tempKey]={lng:null,lat:null};break;case"input":case"textarea":e[l.key]&&"--"!==e[l.key]||0===e[l.key]?this.tempKeys[l.tempKey]=e[l.key]:this.tempKeys[l.tempKey]=null;break;case"select":case"radioGroup":e[l.key]&&"--"!==e[l.key]||0===e[l.key]||!1===e[l.key]?l.multiple?this.$set(this.tempKeys,l.tempKey,[...e[l.key]]):l.booleanVal?this.$set(this.tempKeys,l.tempKey,Boolean(e[l.key])?1:0):this.$set(this.tempKeys,l.tempKey,e[l.key]):l.multiple?this.$set(this.tempKeys,l.tempKey,[]):this.$set(this.tempKeys,l.tempKey,null);break;case"date":"date"===l.dateType||"datetime"===l.dateType?this.tempKeys[l.tempKey]=e[l.key]&&"--"!==e[l.key]?e[l.key]:null:"daterange"!==l.dateType&&"datetimerange"!==l.dateType||(this.tempKeys[l.tempKey]=e[l.key]&&"--"!==e[l.key]&&e[l.key2]&&"--"!==e[l.key2]&&[e[l.key],e[l.key2]]||[]);break}},updateFormDataT(e){if("Array"===g(e))for(let t of e)(t.index||0===t.index)&&t.key&&void 0!==t.val&&this.$set(this.formDataT[t.index],t.key,t.val);else"Object"===g(e)&&(e.index||0===e.index)&&e.key&&void 0!==e.val&&this.$set(this.formDataT[e.index],e.key,e.val)},reValidate(e){setTimeout(()=>{this.$refs.formGroupXRef.validateField(e,()=>{})},1)},asyncLabelChange(e,t){t.key2&&this.$set(this.valGroup,t.key2,e),this.itemChange(e,t)},onSelectInputChange(e){e.beforeKey&&y.a.remove(this.selectInputKeys,t=>t===e.beforeKey),e.key&&(-1===this.selectInputKeys.indexOf(e.key)&&this.selectInputKeys.push(e.key),this.itemChange(null,e))},alNameChange(e,t){t.key2&&(this.valGroup[t.key2]=e),this.itemChange(e,t)},reValidateAndChangeHandle(e,t){this.itemChange(e,t),setTimeout(()=>{this.$refs.formGroupXRef.validateField(t.key)},0)},itemChange(e,t){setTimeout(()=>{this.clientHeightR!==this.$el.clientHeight&&(this.clientHeightR=this.$el.clientHeight,this.$emit("on-height-change",this.clientHeightR))},0),setTimeout(()=>{let l={event:e};if(t.key&&(l[t.key]=this.valGroup[t.key]),t.key2&&(l[t.key2]=this.valGroup[t.key2]),t.collectLabel&&t.collectLabel.key)l[t.collectLabel.key]=this.valGroup[t.collectLabel.key];else if(y.a.isArray(t.collectLabel))for(let e of t.collectLabel)l[e.key]=this.valGroup[e.key];this.$emit("on-item-change",l)},500)},validate(){this.$refs.formGroupXRef.validate()},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e))},submit(){this.disabled||this.$refs.formGroupXRef.validate(e=>{if(e){this.showLoading=!0;let e={};for(let t of this.showingKeys)e[t]=this.valGroup[t];this.$emit("on-submit",e)}})}}},ul=hl,pl=c(ul,ol,rl,!1,null,null,null),fl=pl.exports,ml=function(e){let t="previewImg"+Math.floor(1e7*Math.random());j["Modal"].info({closable:!1,"transition-names":["linear","fade"],render:l=>l("div",{class:"previewModal",attrs:{id:t}},[l("div",{class:"previewModalInner"},[l("img",{attrs:{src:e}}),l("Icon",{props:{type:"md-close",size:20},class:"previewModalDelete",on:{click(){j["Modal"].remove()}}})])])}),setTimeout(()=>{const e=document.getElementById(t).parentNode.parentNode.parentNode.parentNode,l=document.getElementById(t).parentNode.nextSibling;e.style.height="0",e.style.padding="0",l.style.display="none"},10)},yl=function(e,t,l,a){Ce({title:e||"提示",content:t||"确定执行该操作？",icon:l||"warning",buttons:["取消"]}).then(e=>{e&&a()})},gl=l("50ad"),bl=l.n(gl),vl=l("2364"),wl=l.n(vl);const kl={HelloR:u,btTablePage:ne,wellCard:he,tableTree:ge,uploadGroup:Be,tableSetting:Ae,inputMap:Pe,tableIconBtn:je,iconTxtBtn:Qe,showHidePanel:it,selectInput:ct,asyncCascader:yt,editor:Tt,alCascaderMC:_t,checkboxTree:Gt,checkboxGroupTwoClass:Rt,checkboxGroupThreeClass:qt,fullScreenPop:sl,headerBt:ll,formR:fl},xl={fullScreenImgPreview:ml,toHump:b,toLine:v,htmlEncode:x,htmlDecode:C,getFileSrc:T,getFileTypeByName:K,isImgByFile:S,getFileTypeIconByName:B,downloadFileReaderFile:I,fakeALinkClick:V,findPath:A,getStringWidth:P},Cl={messageBox:U,myTypeof:g,$fetch:te,trimObj:w,clearObj:k,formDataHeadConfig:$,toFormData:L,oneOf:O,fullScreenImgByDom:we,isValidValue:N,isNumberValue:X,isEmptyValue:E,tooltipManual:M,stringLength:R,decimalDigitsLimit:D,downloadFileByFormSubmit:G,$swalConfirm:yl,setValByOption:F},Tl={$swal:Ce},Kl=function(e,t={}){Kl.installed||(e.use(bl.a),e.use(wl.a),Object.keys(kl).forEach(t=>{e.component(t,kl[t])}),Object.keys(Cl).forEach(t=>{e.prototype.hasOwnProperty(t)||Object.defineProperty(e.prototype,t,{get(){return Cl[t]}})}),"undefined"!==typeof window&&Object.keys(Tl).forEach(e=>{window.hasOwnProperty(e)||Object.defineProperty(window,e,{get(){return Tl[e]}})}),console.log(),void 0===e.directive("has")&&(e.directive("has",{bind:function(t,l){l.value&&!e.prototype.$_has(l.value)&&(t.style.display="none")}}),e.prototype.$_has=function(e){let t=!1,l=sessionStorage.getItem("btnPermissions");if(void 0===l||null===l)return!1;let a=l.split(",");return a.indexOf(e)>-1&&(t=!0),t}))};"undefined"!==typeof window&&window.Vue&&Kl(window.Vue);const Sl=function(e){let t={},l=["store","changeFetchUrl"];l.forEach(l=>{e.hasOwnProperty(l)&&(t[l]=e[l])}),te.init(t)};var Bl={version:Object({NODE_ENV:"production",BASE_URL:""}).VERSION,install:Kl,init:Sl,...kl,...Cl,...Tl,...xl};t["default"]=Bl}})["default"]}));
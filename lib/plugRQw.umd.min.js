(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("view-design"),require("sweetalert"),require("axios")):"function"===typeof define&&define.amd?define(["view-design","sweetalert","axios"],t):"object"===typeof exports?exports["plugRQw"]=t(require("view-design"),require("sweetalert"),require("axios")):e["plugRQw"]=t(e["ViewUI"],e["swal"],e["axios"])})("undefined"!==typeof self?self:this,(function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"002d":function(t,n){t.exports=e},"1e60":function(e,n){e.exports=t},cebe:function(e,t){e.exports=n},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v("hello by ricky")])},i=[],a={name:"Hello"},s=a;function l(e,t,n,r,o,i,a,s){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),a?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):o&&(l=s?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(e,t){return l.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}var c=l(s,o,i,!1,null,null,null),d=c.exports,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btTablePage fullHeight"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTopRow,expression:"showTopRow"}],staticClass:"topBtn"},[e._t("tableSetting"),e._t("topMsg"),e._t("topBtnGroup")],2),n("div",{staticClass:"tableContainer fullHeight",class:{noTop:!e.showTopRow,noPage:e.noPage}},[n("div",{staticClass:"fullHeight relativeBox"},[n("div",{ref:"tableContainerLOI",staticClass:"fullFlowContent"},[n("Table",{ref:"TableXXX",class:{noBorderTable:e.noBorderTable,fullHeightTable:!e.fixedTable},attrs:{height:e.fixedTable&&e.tableContainerHeight||null,columns:e.columnsT,data:e.dataT,"highlight-row":e.radio||e.highlightRow},on:{"on-select":e.onSelect,"on-select-all":e.onSelectAll,"on-select-cancel":e.onSelectCancel,"on-select-all-cancel":e.onSelectAllCancel,"on-sort-change":e.onSortChange,"on-row-click":e.onRowClick}})],1)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.noPage,expression:"!noPage"}],staticClass:"pageContainer"},[n("Page",{attrs:{"page-size-opts":e.pageSizes,total:e.total,current:e.current,"page-size":e.pageSizeT,"show-sizer":"","show-total":"",size:"small"},on:{"update:current":function(t){e.current=t},"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1)])},h=[];function p(e){let t=Object.prototype.toString.call(e);return t.replace(/\[object |]/g,"")}function f(e){return e.replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))}function m(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function w(e){if("Object"===p(e)){for(let t in e)"String"==p(e[t])?e[t]=e[t].replace(/^\s+|\s+$/m,""):"Object"==p(e[t])&&w(e[t]);return e}return e}function g(e,t){if(t=t||[],"Array"===p(e))return e.forEach((t,n)=>{switch(p(t)){case"String":case"Number":case"Boolean":case"Date":e[n]=null;break;case"Array":case"Object":g(t);break}}),e;if("Object"===p(e)){for(let n in e)if(e.hasOwnProperty(n)){let r=!0;for(let e of t)if(e===n){r=!1;break}if(r)switch(p(e[n])){case"String":case"Number":case"Boolean":case"Date":e[n]=null;break;case"Array":case"Object":g(e[n]);break}}return e}return e}function b(e){let t=document.createElement("div");void 0!==t.textContent?t.textContent=e:t.innerText=e;let n=t.innerHTML;return t=null,n}function y(e){let t=document.createElement("div");t.innerHTML=e;let n=t.innerText||t.textContent;return t=null,n}function v(e){return new Promise(t=>{let n=new FileReader;n.readAsDataURL(e),n.onloadend=()=>{t(n.result)}})}function T(e){return e.split(".").pop().toLocaleLowerCase()||""}function x(e){return"String"===p(e)&&e.indexOf("image")>-1}function C(e){const t=T(e);let n="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1&&(n="ios-image"),["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1&&(n="ios-film"),["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1&&(n="ios-musical-notes"),["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1&&(n="md-document"),["numbers","csv","xls","xlsx"].indexOf(t)>-1&&(n="ios-stats"),["keynote","ppt","pptx"].indexOf(t)>-1&&(n="ios-videocam"),n}function O(e,t){let n=document.createElement("a");n.href=t,n.download=e,k(n)}function k(e){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}const S={headers:{"Content-Type":"multipart/form-data"}};function P(e){let t=new FormData;for(let n in e)e.hasOwnProperty(n)&&null!==e[n]&&t.append(n,e[n]);return t}function D({group:e,condition:t,pathKey:n,childKey:r="children",path:o=[]}){if(e&&_.isObject(e))if(_.isFunction(t)){if(_.isPlainObject(e)){for(let i in e)if(e.hasOwnProperty(i)){let a=e[i],s=_.cloneDeep(o);if(t(a))return n&&a[n]?s.push(a[n]):s.push(i),s;if(a[r]&&!_.isEmpty(a[r])){n&&a[n]?s.push(a[n]):s.push(i);let e=D({group:a[r],condition:t,pathKey:n,childKey:r,path:s});if(!_.isEmpty(e))return e}}}else if(_.isArray(e))for(let i of e){let a=_.cloneDeep(o);if(t(i))return n&&i[n]?a.push(i[n]):a.push(e.indexOf(i)),a;if(i[r]&&i[r].length>0){n&&i[n]?a.push(i[n]):a.push(e.indexOf(i));let o=D({group:i[r],condition:t,pathKey:n,childKey:r,path:a});if(!_.isEmpty(o))return o}}}else if(_.isPlainObject(e)){for(let i in e)if(e.hasOwnProperty(i)){let a=e[i],s=_.cloneDeep(o);if(a===t)return s.push(i),s;if(a[r]&&!_.isEmpty(a[r])){s.push(i);let e=D({group:a[r],condition:t,pathKey:n,childKey:r,path:s});if(!_.isEmpty(e))return e}}}else if(_.isArray(e))for(let i of e){let a=_.cloneDeep(o);if(i===t)return a.push(e.indexOf(i)),a;if(i[r]&&i[r].length>0){a.push(e.indexOf(i));let o=D({group:i[r],condition:t,pathKey:n,childKey:r,path:a});if(!_.isEmpty(o))return o}}return[]}function R(e,t){for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}function E(e,t=2){let n=new RegExp("(^-?\\d+.\\d{"+t+"})(\\d+$)"),r=e&&String(e)||"";return n.test(r)?Number(r.replace(n,"$1")):e}function N(e,t={},n="get"){let r=document.createElement("form"),o=document.getElementsByTagName("body")[0];if(o.appendChild(r),r.setAttribute("style","display:none"),r.setAttribute("target",""),r.setAttribute("method",n),r.setAttribute("action",e),_.isPlainObject(t)){for(let e in t)if(t.hasOwnProperty(e)&&(t[e]||0===t[e]||!1===t[e]||""===t[e])){let n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t[e]),r.appendChild(n)}r.submit(),setTimeout(()=>{o.removeChild(r)},8e3)}else console.error("请求数据格式有误，无法下载文件")}function B(e){return void 0!==e&&null!==e&&""!==e}function j(e){let t=/^-?\d+(.\d+)?$/;return t.test(e)}function I(e,t=!1,n=""){return function(r,o){let i;if("Array"===p(e)){let t=[];for(let n of e)t.push(o.row[n]);i=t.join(n)}else i=o.row[e];let a=X(i),s=o.column._width;return i&&a>s?r("Tooltip",{style:{width:"100%"},props:{content:i}},[r("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},i)]):r("span",t&&!B(i)?"--":i)}}function X(e,t=12){if("String"===p(e)&&e.length>0){let n=document.createElement("span");n.style.fontSize=t+"px",n.style.fontFamily="inherit",n.innerHTML=e,n.style.opacity="0",n.style.position="fixed",n.style.top="3000px",document.body.append(n);const r=n.clientWidth;return document.body.removeChild(n),r}return 0}function A(e){if(_.isPlainObject(e)){for(let t in e)if(e.hasOwnProperty(t)&&B(e[t]))return!1;return!0}if(_.isArray(e)){for(let t of e)if(B(t))return!1;return!0}return!B(e)}function $(e){return"String"===p(e)?e.replace(/[^\x00-\xff]/g,"01").length:"Number"===p(e)?(e+="",e.replace(/[^\x00-\xff]/g,"01").length):0}var M={name:"btTablePage",props:{url:{type:String,default(){return""}},searchData:{type:Object,default(){return{}}},columns:{type:Array,default(){return[]}},selection:{type:Boolean,default(){return!1}},selectionFixed:{validator:e=>R(e,["left","right",!1]),default(){return!1}},rowClickSelect:{type:Boolean,default(){return!0}},data:{type:Array,default(){return[]}},pageSize:{type:Number,default(){return 10}},sortable:{validator:e=>R(e,["custom",""]),default(){return""}},initData:{type:Boolean,default(){return!0}},highlightRow:{type:Boolean,default(){return!1}},rowClickNum:{type:Number,default(){return-1}},radio:{type:Boolean,default(){return!1}},tableEmptyTdHandle:{type:Boolean,default(){return!1}},noBorderTable:{type:Boolean,default(){return!1}},noPage:{type:Boolean,default(){return!1}},orderDefault:{type:String,default(){return"desc"}},orderKey:{type:String,default(){return"id"}},getDataLoading:{type:Boolean,default(){return!1}},showTopRow:{type:Boolean,default(){return!1}}},data(){return{dataT:this.data,searchDataT:window._.cloneDeep(this.searchData),pageSizeT:this.pageSize,current:1,total:0,selected:[],selectedIds:[],currentRowId:null,currentRowIndex:null,key:this.orderKey,order:this.orderDefault,tableContainerHeight:300}},computed:{columnsFixed(){for(let e of this.columns)if(e.fixed)return!0;return!1},fixedTable(){return this.selectionFixed||this.columnsFixed},queryData(){let e={...this.searchDataT,current:this.current,size:this.pageSizeT};return e[this.order]=m(this.key),e},columnsT(){let e=this.columns.filter(e=>"selection"!==e.type);if(this.selection&&!this.radio){let t={type:"selection",align:"center",width:60};this.selectionFixed&&(t.fixed=this.selectionFixed),e.unshift(t)}return"custom"===this.sortable&&e.forEach(e=>{e.key&&!0!==e.sortable&&!1!==e.sortable&&(e.sortable="custom")}),this.tableEmptyTdHandle&&e.forEach(e=>{e.key&&void 0===e.render&&(e.tooltip?e.render=this.tooltipManual(e.key,!0):e.render=(t,n)=>{let r=n.row[e.key];return t("span",""===r||null===r||void 0===r?"--":r)})}),e}},created(){this.initTable()},mounted(){if(this.firstGetHeight(),window.onresize){let e=window.onresize;window.onresize=window._.debounce(()=>{e(),this.handleResize()})}else window.onresize=window._.debounce(this.handleResize)},watch:{searchData:{handler(e){for(let t in e)if(e.hasOwnProperty(t)&&(void 0===this.searchDataT[t]||e[t]!==this.searchDataT[t])){this.searchDataT=window._.cloneDeep(e),this.current=1,this.getDataAndClickRow();break}},deep:!0}},methods:{firstGetHeight(){this.tableContainerHeight<50?setTimeout(this.firstGetHeight,100):setTimeout(this.getTableContainerHeight,10)},getTableContainerHeight(){this.tableContainerHeight=this.$refs.tableContainerLOI&&this.$refs.tableContainerLOI.clientHeight||0},handleResize(){this.getTableContainerHeight(),this.$refs.TableXXX&&this.$refs.TableXXX.handleResize()},initTable(){this.initData&&this.getDataAndClickRow()},addRow(e){this.dataT.unshift(window._.cloneDeep(e)),setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(0)},100)},setRowData(e,t,n){let r=null;if(window._.isBoolean(t)&&t?r=this.currentRowIndex:window._.isNumber(t)&&(r=t),null!==r){let t=this.dataT[r];for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);n&&setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(r)},10)}},deleteRow(e){this.dataT.splice(e,1),setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(0)},100)},clearSelect(){this.$refs.TableXXX.selectAll(!1)},clearTableData(){this.$set(this,"dataT",[]),this.clearPage(),this.current=1,this.total=0},clearSearchDataT(){this.searchDataT={}},getDataAndClickRow(e,t,n){e||-1!==this.rowClickNum?this.getTableData(t,n).then(t=>{this.dataT.length>0&&setTimeout(()=>{e?this.$refs.TableXXX.clickCurrentRow(this.currentRowIndex):this.$refs.TableXXX.clickCurrentRow(this.rowClickNum)},10)}):this.getTableData()},onSelect(e,t){let n=t.id;this.selectedIds.push(n),this.selected.push(t);for(let r=0;r<this.dataT.length;r++){let e=this.dataT[r];if(this.radio&&e.id!==n&&this.selectedIds.some(t=>t===e.id)){for(let t in this.selectedIds)if(this.selectedIds[t]===e.id){this.selectedIds.splice(t,1),this.selected.splice(t,1);break}this.$refs.TableXXX.toggleSelect(r)}}},onSelectAll(e){if(!this.radio){this.selectedIds=[],this.selected=window._.cloneDeep(e);for(let t of e)this.selectedIds.push(t.id)}},onSelectCancel(e,t){if(this.radio)this.$refs.TableXXX.toggleSelect(t);else for(let n in this.selectedIds)this.selectedIds[n]===t.id&&(this.selectedIds.splice(n,1),this.selected.splice(n,1))},onSelectAllCancel(e){this.radio||(this.selectedIds=[],this.selected=[])},getSelected(){return window._.cloneDeep(this.selected)},onRowClick(e,t){e.id!==this.currentRowId&&(this.selection&&this.rowClickSelect&&this.$refs.TableXXX.toggleSelect(t),this.$emit("on-row-click",e),this.currentRowId=e.id,this.currentRowIndex=t)},changePage(e){this.current=e,this.getDataAndClickRow()},pageSizeChange(e){this.pageSizeT=e,1===this.current&&this.getDataAndClickRow()},onSortChange({column:e,key:t,order:n}){this.key=t,this.order=n,this.current=1,this.getTableData()},clearPage(){this.selected=[],this.selectedIds=[],this.currentRowId=null,this.currentRowIndex=null},getTableData(e,t){return new Promise((n,r)=>{e&&(this.order=e),t&&(this.key=t),this.url&&""!==this.url?this.$fetch.get(this.url,this.queryData,null,[],{spin:this.getDataLoading}).then(e=>{this.clearPage(),e.data||null===e.data?(e.data.records||null===e.data.records?this.dataT=e.data.records||[]:e.data.page?(e.data.page.records||null===e.data.page.records)&&(this.dataT=e.data.page.records||[]):this.dataT=e.data||[],this.total=e.data.page&&e.data.page.total||e.data.total||e.total||0,n(e)):console.warn("请求返回数据有误，无法使用")}).catch(e=>{console.warn(e),this.clearPage()}):console.warn("没有有效的请求地址，无法获取表格数据")})}}},z=M,F=l(z,u,h,!1,null,null,null),H=F.exports,L=n("002d");function U({height:e,width:t=416,title:n,content:r,onOk:o,onOkPromise:i,okText:a,cancelText:s,noWarnIcon:l,footerAlign:c,cancelBt:d}){let u=e&&Number(e)-90>40?Number(e)-90+"px":0,h=u||"40px",f="String"===p(r);L["Modal"].warning({width:t,render:e=>e("div",{class:"customMessageBox",style:{height:h}},[e("div",{class:"containerN"},[e("div",{class:"titleN"},[e("span",n||"提示"),e("Button",{class:"fr closeN",props:{type:"text"},on:{click(){L["Modal"].remove()}}},[e("Icon",{props:{type:"ios-close",size:30}})])]),e("div",{class:"contentN",style:{textAlign:f?"center":"left"}},[e("Icon",{props:{type:"md-warning",size:40,color:"#669"},class:f&&!0!==l?"":"hide"}),e("div",{style:{display:f?"inline-block":"block",position:f?"relative":"unset",top:f?"-8px":"unset"}},r)]),e("div",{class:"footerN",style:{textAlign:c||"center"}},[e("Button",{class:"okBtN",props:{},on:{click(){"Function"===p(o)?i?o().then(()=>{L["Modal"].remove()}).catch(()=>{L["Modal"].remove()}):(o(),L["Modal"].remove()):L["Modal"].remove()}}},a||"确定"),e("Button",{class:["cancelBtN",!1===d&&"hide"],props:{},on:{click(){L["Modal"].remove()}}},s||"取消")])])])})}var K=n("1e60"),q=n.n(K),V=function(e,t,n){return new Promise((r,o)=>{switch(p(e)){case"Object":let i="确定",a="取消",s=!1,l="swalConfirmBt",c="swalCancelBt";e.type&&(e.icon=e.type)&&delete e.type,e.content&&(e.text=e.content)&&delete e.content,e.className=e.className||"swalBoxX",!1===e.button||(e.buttons&&"Object"===p(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(a=e.buttons.cancel.text)&&(s=!0),e.buttons.cancel.className&&(c=e.buttons.cancel.className),e.buttons.confirm.text&&(i=e.buttons.confirm.text),e.buttons.confirm.className&&(l=e.buttons.confirm.className)):e.buttons&&"Array"===p(e.buttons)&&(e.buttons[0]&&(!0!==e.buttons[0]&&(a=e.buttons[0]),s=!0),e.buttons[1]&&!0!==e.buttons[1]&&(i=e.buttons[1])),e.buttons={cancel:{text:a,value:null,visible:s,className:c,closeModal:!0},confirm:{text:i,value:!0,visible:!0,className:l,closeModal:!0}}),q()(e).then(e=>{r(e)}).catch(e=>{o(e)});break;case"String":let d={title:e,buttons:{confirm:{text:"确定",value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}},className:"swalBoxX"};t&&(d.text=t),n&&(d.icon=n),q()(d).then(e=>{r(e)}).catch(e=>{o(e)});break;case"Boolean":!1===e&&q.a.close();break}})},G=function(e){let t="previewImg"+Math.floor(1e7*Math.random());L["Modal"].info({closable:!1,"transition-names":["linear","fade"],render:n=>n("div",{class:"previewModal",attrs:{id:t}},[n("div",{class:"previewModalInner"},[n("img",{attrs:{src:e}}),n("Icon",{props:{type:"md-close",size:20},class:"previewModalDelete",on:{click(){L["Modal"].remove()}}})])])}),setTimeout(()=>{const e=document.getElementById(t).parentNode.parentNode.parentNode.parentNode,n=document.getElementById(t).parentNode.nextSibling;e.style.height="0",e.style.padding="0",n.style.display="none"},10)};function W(e){let t=window._.first(document.getElementsByTagName("body")),n=document.createElement("div");n.setAttribute("class","fullScreenImgByDom"),n.innerHTML=`<div class="previewInner"><img src="${e}" alt="全屏图片"><span class="ivu-icon ivu-icon-md-close" title="关闭预览"></span></div>`,n.querySelector(".ivu-icon-md-close").addEventListener("click",(function(){let e=window._.first(document.getElementsByTagName("body"));e&&e.removeChild(n)})),t.appendChild(n)}var Q=n("cebe"),Z=n.n(Q);const J=window.location.origin;let Y=Z.a.create({baseURL:J,withCredentials:!0});function ee(){console.info("未初始化,store为空，请在引入plug-r-qw后进行初始化操作（init({store:XXX,...})）")}function te(){Y.store?Y.store.dispatch("logout"):ee()}function ne(e,t,n,r){r&&r.spin&&(Y.store?Y.store.commit("MINUS_FETCH_COUNT"):ee());let o=!0,i=e&&e.data;if(i){n=n||[];for(let e of n)i=i[e],o=o&&i;return o?i:(console.warn(t||"请求失败"),!1)}return console.warn(t||"请求失败"),!1}function re(e,t,n,r,o,i,a){return new Promise((s,l)=>{switch(e){case"get":Y.get(t,{params:n}).then(e=>{let t=ne(e,r,o,i);t?s(t):(console.warn(r||"请求失败"),l(e))}).catch(e=>{ne({},r,o,i),console.warn("请求出错：",e),l(e)});break;case"delete":let e=a?"params":"data";Y.delete(t,{[e]:n}).then(e=>{let t=ne(e,r,o,i);t?s(t):(console.warn(r||"请求失败"),l(e))}).catch(e=>{ne({},r,o,i),console.warn("请求出错：",e),l(e)});break;case"post":Y.post(t,n,i).then(e=>{let t=ne(e,r,o,i);t?s(t):(console.warn(r||"请求失败"),l(e))}).catch(e=>{ne({},r,o,i),console.warn("请求出错：",e),l(e)});break;case"put":Y.put(t,n,i).then(e=>{let t=ne(e,r,o,i);t?s(t):(console.warn(r||"请求失败"),l(e))}).catch(e=>{ne({},r,o,i),console.warn("请求出错：",e),l(e)});break}})}function oe(e,t,n,r,o,i,a){return new Promise((s,l)=>{if(t){i=i||{},i&&i.spin&&(Y.store?Y.store.commit("ADD_FETCH_COUNT"):ee());let c,d=t;if(Y.changeUrl&&window&&window.g){const e=["mgr","dcc","crm","umc","wmc","amc","pmc","oa","mmc"];for(let n of e){let e=new RegExp("^/"+n+"(?=/.*$)","i");if(e.test(t)&&window.g[n+"URL"]){d=window.g[n+"URL"]+t.replace(e,"");break}}}if(i&&i.headers&&"multipart/form-data"===i.headers["Content-Type"])c=n;else if(c=window._.isArray(n)?[]:{},n&&!window._.isEmpty(n))if(window._.isArray(n))for(let e of n)(e||0===e||!1===e||""===e)&&c.push(e);else for(let e in n)n.hasOwnProperty(e)&&(n[e]||0===n[e]||!1===n[e]||""===n[e])&&(c[e]=n[e]);let u=e.toLowerCase();re(u,d,c,r,o,i,a).then(e=>{s(e)}).catch(e=>{l(e)})}else console.error("没有请求地址:url"),l("没有请求地址:url")})}Y.changeUrl=!1,Y.interceptors.request.use(e=>e,e=>Promise.reject(e)),Y.interceptors.response.use(e=>(e&&e.data&&403===e.data.code?U({content:"登录状态失效,请重新登录！",onOk:te}):e&&e.data&&409===e.data.code&&U({content:"该账号已在其他地方登录,点击确定退出。",onOk:te}),e),e=>e.response?(403===e.response.status?U({content:"登录状态失效,请重新登录！",onOk:te}):409===e.response.status&&U({content:"该账号已在其他地方登录,点击确定退出。",onOk:te}),e.response.data?Promise.reject(e.response.data):Promise.reject(e.response)):Promise.reject(e));var ie={init(e){e.hasOwnProperty("store")&&(Y.store=e.store),e.hasOwnProperty("changeFetchUrl")&&(Y.changeUrl=e.changeFetchUrl)},post(e,t={},n,r,o){return new Promise((i,a)=>{oe("post",e,t,n,r,o).then(e=>{i(e)}).catch(e=>{a(e)})})},put(e,t={},n,r,o){return new Promise((i,a)=>{oe("put",e,t,n,r,o).then(e=>{i(e)}).catch(e=>{a(e)})})},get(e,t={},n,r,o){return new Promise((i,a)=>{oe("get",e,t,n,r,o).then(e=>{i(e)}).catch(e=>{a(e)})})},delete(e,t={},n,r,o,i=!0){return new Promise((a,s)=>{oe("delete",e,t,n,r,o,i).then(e=>{a(e)}).catch(e=>{s(e)})})},all:Z.a.all,spread:Z.a.spread};const ae={HelloR:d,btTablePage:H},se={fullScreenImgPreview:G,toHump:f,toLine:m,htmlEncode:b,htmlDecode:y,getFileSrc:v,getFileTypeByName:T,isImgByFile:x,getFileTypeIconByName:C,downloadFileReaderFile:O,fakeALinkClick:k,findPath:D,getStringWidth:X},le={messageBox:U,myTypeof:p,$fetch:ie,trimObj:w,clearObj:g,formDataHeadConfig:S,toFormData:P,oneOf:R,fullScreenImgByDom:W,isValidValue:B,isNumberValue:j,isEmptyValue:A,tooltipManual:I,stringLength:$,decimalDigitsLimit:E,downloadFileByFormSubmit:N},ce={$swal:V},de=function(e,t={}){de.installed||(Object.keys(ae).forEach(t=>{e.component(t,ae[t])}),Object.keys(le).forEach(t=>{e.prototype.hasOwnProperty(t)||Object.defineProperty(e.prototype,t,{get(){return le[t]}})}),"undefined"!==typeof window&&Object.keys(ce).forEach(e=>{window.hasOwnProperty(e)||Object.defineProperty(window,e,{get(){return ce[e]}})}))};"undefined"!==typeof window&&window.Vue&&de(window.Vue);const ue=function(e){let t={},n=["store","changeFetchUrl"];n.forEach(n=>{e.hasOwnProperty(n)&&(t[n]=e[n])}),ie.init(t)};var he={version:Object({NODE_ENV:"production",BASE_URL:""}).VERSION,install:de,init:ue,...ae,...le,...ce,...se};t["default"]=he}})["default"]}));
//# sourceMappingURL=plugRQw.umd.min.js.map
(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("view-design"),require("sweetalert"),require("lodash"),require("axios")):"function"===typeof define&&define.amd?define(["view-design","sweetalert","lodash","axios"],t):"object"===typeof exports?exports["plugRQw"]=t(require("view-design"),require("sweetalert"),require("lodash"),require("axios")):e["plugRQw"]=t(e["ViewUI"],e["swal"],e["_"],e["axios"])})("undefined"!==typeof self?self:this,(function(e,t,n,i){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"002d":function(t,n){t.exports=e},"1e60":function(e,n){e.exports=t},"60bb":function(e,t){e.exports=n},cebe:function(e,t){e.exports=i},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(i){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";var i;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v("hello by ricky")])},r=[],l={name:"Hello"},a=l;function s(e,t,n,i,o,r,l,a){var s,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),l?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},c._ssrRegister=s):o&&(s=a?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(c.functional){c._injectStyles=s;var d=c.render;c.render=function(e,t){return s.call(t),d(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,s):[s]}return{exports:e,options:c}}var c=s(a,o,r,!1,null,null,null),d=c.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btTablePage fullHeight"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTopRow,expression:"showTopRow"}],staticClass:"topBtn"},[e._t("tableSetting"),e._t("topMsg"),e._t("topBtnGroup")],2),n("div",{staticClass:"tableContainer fullHeight",class:{noTop:!e.showTopRow,noPage:e.noPage}},[n("div",{staticClass:"fullHeight relativeBox"},[n("div",{ref:"tableContainerLOI",staticClass:"fullFlowContent"},[n("Table",{ref:"TableXXX",class:{noBorderTable:e.noBorderTable,fullHeightTable:!e.fixedTable},attrs:{height:e.fixedTable&&e.tableContainerHeight||null,columns:e.columnsT,data:e.dataT,"highlight-row":e.radio||e.highlightRow},on:{"on-select":e.onSelect,"on-select-all":e.onSelectAll,"on-select-cancel":e.onSelectCancel,"on-select-all-cancel":e.onSelectAllCancel,"on-sort-change":e.onSortChange,"on-row-click":e.onRowClick}})],1)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.noPage,expression:"!noPage"}],staticClass:"pageContainer"},[n("Page",{attrs:{"page-size-opts":e.pageSizes,total:e.total,current:e.current,"page-size":e.pageSizeT,"show-sizer":"","show-total":"",size:"small"},on:{"update:current":function(t){e.current=t},"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1)])},u=[];function p(e){let t=Object.prototype.toString.call(e);return t.replace(/\[object |]/g,"")}function f(e){return e.replace(/\_(\w)/g,(function(e,t){return t.toUpperCase()}))}function w(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function y(e){if("Object"===p(e)){for(let t in e)"String"==p(e[t])?e[t]=e[t].replace(/^\s+|\s+$/m,""):"Object"==p(e[t])&&y(e[t]);return e}return e}function m(e,t){if(t=t||[],"Array"===p(e))return e.forEach((t,n)=>{switch(p(t)){case"String":case"Number":case"Boolean":case"Date":e[n]=null;break;case"Array":case"Object":m(t);break}}),e;if("Object"===p(e)){for(let n in e)if(e.hasOwnProperty(n)){let i=!0;for(let e of t)if(e===n){i=!1;break}if(i)switch(p(e[n])){case"String":case"Number":case"Boolean":case"Date":e[n]=null;break;case"Array":case"Object":m(e[n]);break}}return e}return e}function g(e){let t=document.createElement("div");void 0!==t.textContent?t.textContent=e:t.innerText=e;let n=t.innerHTML;return t=null,n}function b(e){let t=document.createElement("div");t.innerHTML=e;let n=t.innerText||t.textContent;return t=null,n}function x(e){return new Promise(t=>{let n=new FileReader;n.readAsDataURL(e),n.onloadend=()=>{t(n.result)}})}function C(e){return e.split(".").pop().toLocaleLowerCase()||""}function v(e){return"String"===p(e)&&e.indexOf("image")>-1}function X(e){const t=C(e);let n="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1&&(n="ios-image"),["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1&&(n="ios-film"),["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1&&(n="ios-musical-notes"),["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1&&(n="md-document"),["numbers","csv","xls","xlsx"].indexOf(t)>-1&&(n="ios-stats"),["keynote","ppt","pptx"].indexOf(t)>-1&&(n="ios-videocam"),n}function T(e,t){let n=document.createElement("a");n.href=t,n.download=e,K(n)}function K(e){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}const k={headers:{"Content-Type":"multipart/form-data"}};function O(e){let t=new FormData;for(let n in e)e.hasOwnProperty(n)&&null!==e[n]&&t.append(n,e[n]);return t}function D({group:e,condition:t,pathKey:n,childKey:i="children",path:o=[]}){if(e&&_.isObject(e))if(_.isFunction(t)){if(_.isPlainObject(e)){for(let r in e)if(e.hasOwnProperty(r)){let l=e[r],a=_.cloneDeep(o);if(t(l))return n&&l[n]?a.push(l[n]):a.push(r),a;if(l[i]&&!_.isEmpty(l[i])){n&&l[n]?a.push(l[n]):a.push(r);let e=D({group:l[i],condition:t,pathKey:n,childKey:i,path:a});if(!_.isEmpty(e))return e}}}else if(_.isArray(e))for(let r of e){let l=_.cloneDeep(o);if(t(r))return n&&r[n]?l.push(r[n]):l.push(e.indexOf(r)),l;if(r[i]&&r[i].length>0){n&&r[n]?l.push(r[n]):l.push(e.indexOf(r));let o=D({group:r[i],condition:t,pathKey:n,childKey:i,path:l});if(!_.isEmpty(o))return o}}}else if(_.isPlainObject(e)){for(let r in e)if(e.hasOwnProperty(r)){let l=e[r],a=_.cloneDeep(o);if(l===t)return a.push(r),a;if(l[i]&&!_.isEmpty(l[i])){a.push(r);let e=D({group:l[i],condition:t,pathKey:n,childKey:i,path:a});if(!_.isEmpty(e))return e}}}else if(_.isArray(e))for(let r of e){let l=_.cloneDeep(o);if(r===t)return l.push(e.indexOf(r)),l;if(r[i]&&r[i].length>0){l.push(e.indexOf(r));let o=D({group:r[i],condition:t,pathKey:n,childKey:i,path:l});if(!_.isEmpty(o))return o}}return[]}function N(e,t){for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}function B(e,t=2){let n=new RegExp("(^-?\\d+.\\d{"+t+"})(\\d+$)"),i=e&&String(e)||"";return n.test(i)?Number(i.replace(n,"$1")):e}function S(e,t={},n="get"){let i=document.createElement("form"),o=document.getElementsByTagName("body")[0];if(o.appendChild(i),i.setAttribute("style","display:none"),i.setAttribute("target",""),i.setAttribute("method",n),i.setAttribute("action",e),_.isPlainObject(t)){for(let e in t)if(t.hasOwnProperty(e)&&(t[e]||0===t[e]||!1===t[e]||""===t[e])){let n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t[e]),i.appendChild(n)}i.submit(),setTimeout(()=>{o.removeChild(i)},8e3)}else console.error("请求数据格式有误，无法下载文件")}function P(e){return void 0!==e&&null!==e&&""!==e}function E(e){let t=/^-?\d+(.\d+)?$/;return t.test(e)}function A(e,t=!1,n=""){return function(i,o){let r;if("Array"===p(e)){let t=[];for(let n of e)t.push(o.row[n]);r=t.join(n)}else r=o.row[e];let l=R(r),a=o.column._width;return r&&l>a?i("Tooltip",{style:{width:"100%"},props:{content:r}},[i("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},r)]):i("span",t&&!P(r)?"--":r)}}function R(e,t=12){if("String"===p(e)&&e.length>0){let n=document.createElement("span");n.style.fontSize=t+"px",n.style.fontFamily="inherit",n.innerHTML=e,n.style.opacity="0",n.style.position="fixed",n.style.top="3000px",document.body.append(n);const i=n.clientWidth;return document.body.removeChild(n),i}return 0}function I(e){if(_.isPlainObject(e)){for(let t in e)if(e.hasOwnProperty(t)&&P(e[t]))return!1;return!0}if(_.isArray(e)){for(let t of e)if(P(t))return!1;return!0}return!P(e)}function j(e){return"String"===p(e)?e.replace(/[^\x00-\xff]/g,"01").length:"Number"===p(e)?(e+="",e.replace(/[^\x00-\xff]/g,"01").length):0}function M({group:e,condition:t,key:n,val:i,childKey:o="children"}){if("Array"!==p(e)||"Function"!==p(t)||"String"!==p(n)||"String"!==p(o))return!1;e.forEach(e=>{t(e)&&(e[n]=i),"Array"===p(e[o])&&e[o].length>0&&M({group:e[o],condition:t,key:n,val:i,childKey:o})})}var $={name:"btTablePage",props:{url:{type:String,default(){return""}},searchData:{type:Object,default(){return{}}},columns:{type:Array,default(){return[]}},selection:{type:Boolean,default(){return!1}},selectionFixed:{validator:e=>N(e,["left","right",!1]),default(){return!1}},rowClickSelect:{type:Boolean,default(){return!0}},data:{type:Array,default(){return[]}},pageSize:{type:Number,default(){return 10}},sortable:{validator:e=>N(e,["custom",""]),default(){return""}},initData:{type:Boolean,default(){return!0}},highlightRow:{type:Boolean,default(){return!1}},rowClickNum:{type:Number,default(){return-1}},radio:{type:Boolean,default(){return!1}},tableEmptyTdHandle:{type:Boolean,default(){return!1}},noBorderTable:{type:Boolean,default(){return!1}},noPage:{type:Boolean,default(){return!1}},orderDefault:{type:String,default(){return"desc"}},orderKey:{type:String,default(){return"id"}},getDataLoading:{type:Boolean,default(){return!1}},showTopRow:{type:Boolean,default(){return!1}}},data(){return{dataT:this.data,searchDataT:window._.cloneDeep(this.searchData),pageSizeT:this.pageSize,current:1,total:0,selected:[],selectedIds:[],currentRowId:null,currentRowIndex:null,key:this.orderKey,order:this.orderDefault,tableContainerHeight:300}},computed:{columnsFixed(){for(let e of this.columns)if(e.fixed)return!0;return!1},fixedTable(){return this.selectionFixed||this.columnsFixed},queryData(){let e={...this.searchDataT,current:this.current,size:this.pageSizeT};return e[this.order]=w(this.key),e},columnsT(){let e=this.columns.filter(e=>"selection"!==e.type);if(this.selection&&!this.radio){let t={type:"selection",align:"center",width:60};this.selectionFixed&&(t.fixed=this.selectionFixed),e.unshift(t)}return"custom"===this.sortable&&e.forEach(e=>{e.key&&!0!==e.sortable&&!1!==e.sortable&&(e.sortable="custom")}),this.tableEmptyTdHandle&&e.forEach(e=>{e.key&&void 0===e.render&&(e.tooltip?e.render=this.tooltipManual(e.key,!0):e.render=(t,n)=>{let i=n.row[e.key];return t("span",""===i||null===i||void 0===i?"--":i)})}),e}},created(){this.initTable()},mounted(){if(this.firstGetHeight(),window.onresize){let e=window.onresize;window.onresize=window._.debounce(()=>{e(),this.handleResize()})}else window.onresize=window._.debounce(this.handleResize)},watch:{searchData:{handler(e){for(let t in e)if(e.hasOwnProperty(t)&&(void 0===this.searchDataT[t]||e[t]!==this.searchDataT[t])){this.searchDataT=window._.cloneDeep(e),this.current=1,this.getDataAndClickRow();break}},deep:!0}},methods:{firstGetHeight(){this.tableContainerHeight<50?setTimeout(this.firstGetHeight,100):setTimeout(this.getTableContainerHeight,10)},getTableContainerHeight(){this.tableContainerHeight=this.$refs.tableContainerLOI&&this.$refs.tableContainerLOI.clientHeight||0},handleResize(){this.getTableContainerHeight(),this.$refs.TableXXX&&this.$refs.TableXXX.handleResize()},initTable(){this.initData&&this.getDataAndClickRow()},addRow(e){this.dataT.unshift(window._.cloneDeep(e)),setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(0)},100)},setRowData(e,t,n){let i=null;if(window._.isBoolean(t)&&t?i=this.currentRowIndex:window._.isNumber(t)&&(i=t),null!==i){let t=this.dataT[i];for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);n&&setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(i)},10)}},deleteRow(e){this.dataT.splice(e,1),setTimeout(()=>{this.$refs.TableXXX.clickCurrentRow(0)},100)},clearSelect(){this.$refs.TableXXX.selectAll(!1)},clearTableData(){this.$set(this,"dataT",[]),this.clearPage(),this.current=1,this.total=0},clearSearchDataT(){this.searchDataT={}},getDataAndClickRow(e,t,n){e||-1!==this.rowClickNum?this.getTableData(t,n).then(t=>{this.dataT.length>0&&setTimeout(()=>{e?this.$refs.TableXXX.clickCurrentRow(this.currentRowIndex):this.$refs.TableXXX.clickCurrentRow(this.rowClickNum)},10)}):this.getTableData()},onSelect(e,t){let n=t.id;this.selectedIds.push(n),this.selected.push(t);for(let i=0;i<this.dataT.length;i++){let e=this.dataT[i];if(this.radio&&e.id!==n&&this.selectedIds.some(t=>t===e.id)){for(let t in this.selectedIds)if(this.selectedIds[t]===e.id){this.selectedIds.splice(t,1),this.selected.splice(t,1);break}this.$refs.TableXXX.toggleSelect(i)}}},onSelectAll(e){if(!this.radio){this.selectedIds=[],this.selected=window._.cloneDeep(e);for(let t of e)this.selectedIds.push(t.id)}},onSelectCancel(e,t){if(this.radio)this.$refs.TableXXX.toggleSelect(t);else for(let n in this.selectedIds)this.selectedIds[n]===t.id&&(this.selectedIds.splice(n,1),this.selected.splice(n,1))},onSelectAllCancel(e){this.radio||(this.selectedIds=[],this.selected=[])},getSelected(){return window._.cloneDeep(this.selected)},onRowClick(e,t){e.id!==this.currentRowId&&(this.selection&&this.rowClickSelect&&this.$refs.TableXXX.toggleSelect(t),this.$emit("on-row-click",e),this.currentRowId=e.id,this.currentRowIndex=t)},changePage(e){this.current=e,this.getDataAndClickRow()},pageSizeChange(e){this.pageSizeT=e,1===this.current&&this.getDataAndClickRow()},onSortChange({column:e,key:t,order:n}){this.key=t,this.order=n,this.current=1,this.getTableData()},clearPage(){this.selected=[],this.selectedIds=[],this.currentRowId=null,this.currentRowIndex=null},getTableData(e,t){return new Promise((n,i)=>{e&&(this.order=e),t&&(this.key=t),this.url&&""!==this.url?this.$fetch.get(this.url,this.queryData,null,[],{spin:this.getDataLoading}).then(e=>{this.clearPage(),e.data||null===e.data?(e.data.records||null===e.data.records?this.dataT=e.data.records||[]:e.data.page?(e.data.page.records||null===e.data.page.records)&&(this.dataT=e.data.page.records||[]):this.dataT=e.data||[],this.total=e.data.page&&e.data.page.total||e.data.total||e.total||0,n(e)):console.warn("请求返回数据有误，无法使用")}).catch(e=>{console.warn(e),this.clearPage()}):console.warn("没有有效的请求地址，无法获取表格数据")})}}},H=$,F=s(H,h,u,!1,null,null,null),L=F.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flexColumnBox wellCard"},[n("div",{staticClass:"panelHeader notGrow"},[n("div",{staticClass:"fl",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.title))]),e._t("bts")],2),n("div",{staticClass:"growFlexItem relativeBox"},[n("div",{staticClass:"fullFlowContent"},[e._t("default")],2)])])},V=[],U={name:"wellCard",props:{title:{type:String,default(){return"标题"}}}},q=U,G=s(q,z,V,!1,null,null,null),W=G.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{key:e.updateDomKey,ref:"tabXY",attrs:{columns:e.columnsX,data:e.dataX,"highlight-row":e.highlightRow}})},Y=[],Z=n("60bb"),J=n.n(Z),ee={name:"tableTree",props:{columns:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},highlightRow:{type:Boolean,default(){return!1}},radio:{type:Boolean,default(){return!1}}},data(){return{dataX:[],noKey:1,updateDomKey:Math.floor(1e8*Math.random()+1e4)}},computed:{columnsX(){let e=this.columns.filter(e=>"selection"!==e.type);if(e[0]){let t=e[0].key;e[0].renderHeader=(e,t)=>e("div",{style:{paddingLeft:"20px"}},t.column.title),e[0].render=(e,n)=>e("div",{class:"tableTxtBt",style:{paddingLeft:20*(n.row.parentNoKey.length+1)+"px",textAlign:"left"}},[e("Checkbox",{props:{value:n.row.checkBox},directives:[{name:"show",value:this.radio}],on:{"on-change":e=>{!0===e?(this.setCollectionVal(this.dataX,{checkBox:!1}),this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[n.index].ownKey}),this.$emit("on-select",n.row)):this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[n.index].ownKey})},click:e=>{console.log(e),e.stopPort}}}),e("Icon",{props:{type:n.row.hideChild?"ios-arrow-forward":!1===n.row.hideChild?"ios-arrow-down":""},style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(n)}}}),e("span",{style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(n)}}}," "+n.row[t])])}return e}},mounted(){this.updateTab()},watch:{data(){this.updateTab()}},methods:{setCollectionVal(e,t){if(t&&P(t.checkBox)&&"Array"===p(e))if(t.ownKey)for(let n of e)n.ownKey===t.ownKey&&(n.checkBox=t.checkBox),"Array"===p(n.childrenXK)&&n.childrenXK.length>0&&this.setCollectionValB(n.childrenXK,t);else for(let n of e)n.checkBox=t.checkBox,"Array"===p(n.childrenXK)&&n.childrenXK.length>0&&this.setCollectionValB(n.childrenXK,t)},setCollectionValB(e,t){if(t&&P(t.checkBox)&&"Array"===p(e))if(t.ownKey)for(let n of e)n.ownKey===t.ownKey&&(n.checkBox=t.checkBox),"Array"===p(n.childrenXK)&&n.childrenXK.length>0&&this.setCollectionVal(n.childrenXK,t);else for(let n of e)n.checkBox=t.checkBox,"Array"===p(n.childrenXK)&&n.childrenXK.length>0&&this.setCollectionVal(n.childrenXK,t)},handleResize(){this.$refs.tabXY.handleResize()},updateTab(){let e=J.a.cloneDeep(this.data);this.addHideChildAttr(e),this.showDefault(e,J.a.cloneDeep(e)),this.dataX=J.a.cloneDeep(e)},showDefault(e,t){t.forEach((t,n)=>{if(!1===t.hideChild){let i=J.a.cloneDeep(t.childrenXK);e.splice(n+1,0,...i),this.showDefaultB(e,J.a.cloneDeep(i))}})},showDefaultB(e,t){t.forEach((t,n)=>{if(!1===t.hideChild){let i=J.a.cloneDeep(t.childrenXK);e.splice(n+1,0,...i),this.showDefault(e,J.a.cloneDeep(i))}})},showHideClick(e){if(e.row.hideChild){this.dataX[e.index].hideChild=!1;let t=J.a.cloneDeep(e.row.childrenXK);this.dataX.splice(e.index+1,0,...t),this.openChild(e.row.childrenXK,e.index+1)}else!1===e.row.hideChild&&this.hideChildNode(e)},openChild(e,t){e.forEach((e,n)=>{if(!1===e.hideChild){let i=J.a.cloneDeep(e.childrenXK);this.dataX.splice(t+n+1,0,...i),this.openChild(e.childrenXK,t+n+1)}})},addHideChildAttr(e,t){for(let n of e)n.ownKey=this.noKey,this.noKey++,n.parentNoKey=n.parentNoKey||[],void 0!==t&&n.parentNoKey.push(...t),n.children&&(n.childrenXK=n.children,delete n.children),"Array"===this.myTypeof(n.childrenXK)&&n.childrenXK.length>0&&(!1!==n.hideChild&&(n.hideChild=!0),this.addHideChildAttrB(n.childrenXK,[n.ownKey,...n.parentNoKey]))},addHideChildAttrB(e,t){for(let n of e)n.ownKey=this.noKey,this.noKey++,n.parentNoKey=n.parentNoKey||[],void 0!==t&&n.parentNoKey.push(...t),n.children&&(n.childrenXK=n.children,delete n.children),"Array"===this.myTypeof(n.childrenXK)&&n.childrenXK.length>0&&(!1!==n.hideChild&&(n.hideChild=!0),this.addHideChildAttr(n.childrenXK,[n.ownKey,...n.parentNoKey]))},hideChildNode(e){let t=this.getChildCount(e.row.ownKey);t&&this.dataX.splice(e.index+1,t),M({group:[this.dataX[e.index]],condition:e=>!1===e.hideChild,key:"hideChild",val:!0,childKey:"childrenXK"})},addLocalNode(e,t){return new Promise((n,i)=>{!J.a.isInteger(e)||e<0?i("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&i("无效的索引序号index!"),J.a.isPlainObject(t)&&!J.a.isEmpty(t)||i("节点数据异常，无法添加节点！");let o=this.dataX[e];!1!==o.hideChild&&(o.hideChild=!1);let r=[o.ownKey,...o.parentNoKey],l={...t,ownKey:++this.noKey,parentNoKey:r};for(let e of this.dataX){let t=r.indexOf(e.ownKey);if(t>-1){void 0===e.childrenXK&&(e.childrenXK=[]);let n=e.childrenXK,i=e;for(let o=0;o<t+1;o++){if(o===t){n.push(J.a.cloneDeep(l)),void 0===e.hideChild&&(e.hideChild=!0);break}i=J.a.find(i.childrenXK,e=>-1!==r.indexOf(e.ownKey)),void 0===i.hideChild&&(i.hideChild=!0),void 0===i.childrenXK&&(i.childrenXK=[]),n=i.childrenXK}}}this.dataX.splice(e+1+this.getChildCount(o.ownKey),0,J.a.cloneDeep(l)),this.updateDomKey=Math.floor(1e8*Math.random()+1e4),n(J.a.cloneDeep(l))})},editLocalNode(e,t){return new Promise((n,i)=>{!J.a.isInteger(e)||e<0?i("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&i("无效的索引序号index!"),J.a.isPlainObject(t)&&!J.a.isEmpty(t)||i("节点数据异常，无法添加节点！");let o=this.dataX[e],r=Object.assign(o,t);this.dataX[e]=r;for(let e of this.dataX){let t=r.parentNoKey.indexOf(e.ownKey);if(t>-1){let n=e.childrenXK;for(let e=0;e<t+1;e++){if(e===t){let e=J.a.findIndex(n,e=>e.ownKey===r.ownKey);e>-1&&(n[e]=J.a.cloneDeep(r));break}{let e=J.a.find(n,e=>-1!==r.parentNoKey.indexOf(e.ownKey));n=e.childrenXK}}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),n(J.a.cloneDeep(r))})},deleteLocalNode(e){return new Promise((t,n)=>{!J.a.isInteger(e)||e<0?n("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&n("无效的索引序号index!");let i=this.dataX[e];this.dataX.splice(e,1),this.deleteLocalChildNode(i.ownKey,e);for(let e of this.dataX){let t=i.parentNoKey.indexOf(e.ownKey);if(t>-1){let n=e.childrenXK,o=e;for(let e=0;e<t+1;e++){if(e===t){let e=J.a.findIndex(n,e=>e.ownKey===i.ownKey);e>-1&&(n.splice(e,1),0===n.length&&(o.hideChild=null));break}o=J.a.find(n,e=>-1!==i.parentNoKey.indexOf(e.ownKey)),n=o.childrenXK}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),t(J.a.cloneDeep(this.dataX))})},deleteLocalChildNode(e,t){let n=this.getChildCount(e);n&&this.dataX.splice(t,n)},getChildCount(e){let t=0;for(let n of this.dataX)-1!==n.parentNoKey.indexOf(e)&&t++;return t}}},te=ee,ne=s(te,Q,Y,!1,null,null,null),ie=ne.exports,oe=n("002d");function re({height:e,width:t=416,title:n,content:i,onOk:o,onOkPromise:r,okText:l,cancelText:a,noWarnIcon:s,footerAlign:c,cancelBt:d}){let h=e&&Number(e)-90>40?Number(e)-90+"px":0,u=h||"40px",f="String"===p(i);oe["Modal"].warning({width:t,render:e=>e("div",{class:"customMessageBox",style:{height:u}},[e("div",{class:"containerN"},[e("div",{class:"titleN"},[e("span",n||"提示"),e("Button",{class:"fr closeN",props:{type:"text"},on:{click(){oe["Modal"].remove()}}},[e("Icon",{props:{type:"ios-close",size:30}})])]),e("div",{class:"contentN",style:{textAlign:f?"center":"left"}},[e("Icon",{props:{type:"md-warning",size:40,color:"#669"},class:f&&!0!==s?"":"hide"}),e("div",{style:{display:f?"inline-block":"block",position:f?"relative":"unset",top:f?"-8px":"unset"}},i)]),e("div",{class:"footerN",style:{textAlign:c||"center"}},[e("Button",{class:"okBtN",props:{},on:{click(){"Function"===p(o)?r?o().then(()=>{oe["Modal"].remove()}).catch(()=>{oe["Modal"].remove()}):(o(),oe["Modal"].remove()):oe["Modal"].remove()}}},l||"确定"),e("Button",{class:["cancelBtN",!1===d&&"hide"],props:{},on:{click(){oe["Modal"].remove()}}},a||"取消")])])])})}var le=n("1e60"),ae=n.n(le),se=function(e,t,n){return new Promise((i,o)=>{switch(p(e)){case"Object":let r="确定",l="取消",a=!1,s="swalConfirmBt",c="swalCancelBt";e.type&&(e.icon=e.type)&&delete e.type,e.content&&(e.text=e.content)&&delete e.content,e.className=e.className||"swalBoxX",!1===e.button||(e.buttons&&"Object"===p(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(l=e.buttons.cancel.text)&&(a=!0),e.buttons.cancel.className&&(c=e.buttons.cancel.className),e.buttons.confirm.text&&(r=e.buttons.confirm.text),e.buttons.confirm.className&&(s=e.buttons.confirm.className)):e.buttons&&"Array"===p(e.buttons)&&(e.buttons[0]&&(!0!==e.buttons[0]&&(l=e.buttons[0]),a=!0),e.buttons[1]&&!0!==e.buttons[1]&&(r=e.buttons[1])),e.buttons={cancel:{text:l,value:null,visible:a,className:c,closeModal:!0},confirm:{text:r,value:!0,visible:!0,className:s,closeModal:!0}}),ae()(e).then(e=>{i(e)}).catch(e=>{o(e)});break;case"String":let d={title:e,buttons:{confirm:{text:"确定",value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}},className:"swalBoxX"};t&&(d.text=t),n&&(d.icon=n),ae()(d).then(e=>{i(e)}).catch(e=>{o(e)});break;case"Boolean":!1===e&&ae.a.close();break}})},ce=function(e){let t="previewImg"+Math.floor(1e7*Math.random());oe["Modal"].info({closable:!1,"transition-names":["linear","fade"],render:n=>n("div",{class:"previewModal",attrs:{id:t}},[n("div",{class:"previewModalInner"},[n("img",{attrs:{src:e}}),n("Icon",{props:{type:"md-close",size:20},class:"previewModalDelete",on:{click(){oe["Modal"].remove()}}})])])}),setTimeout(()=>{const e=document.getElementById(t).parentNode.parentNode.parentNode.parentNode,n=document.getElementById(t).parentNode.nextSibling;e.style.height="0",e.style.padding="0",n.style.display="none"},10)};function de(e){let t=window._.first(document.getElementsByTagName("body")),n=document.createElement("div");n.setAttribute("class","fullScreenImgByDom"),n.innerHTML=`<div class="previewInner"><img src="${e}" alt="全屏图片"><span class="ivu-icon ivu-icon-md-close" title="关闭预览"></span></div>`,n.querySelector(".ivu-icon-md-close").addEventListener("click",(function(){let e=window._.first(document.getElementsByTagName("body"));e&&e.removeChild(n)})),t.appendChild(n)}var he=n("cebe"),ue=n.n(he);const pe=window.location.origin;let fe=ue.a.create({baseURL:pe,withCredentials:!0});function we(){console.info("未初始化,store为空，请在引入plug-r-qw后进行初始化操作（init({store:XXX,...})）")}function ye(){fe.store?fe.store.dispatch("logout"):we()}function me(e,t,n,i){i&&i.spin&&(fe.store?fe.store.commit("MINUS_FETCH_COUNT"):we());let o=!0,r=e&&e.data;if(r){n=n||[];for(let e of n)r=r[e],o=o&&r;return o?r:(console.warn(t||"请求失败"),!1)}return console.warn(t||"请求失败"),!1}function ge(e,t,n,i,o,r,l){return new Promise((a,s)=>{switch(e){case"get":fe.get(t,{params:n}).then(e=>{let t=me(e,i,o,r);t?a(t):(console.warn(i||"请求失败"),s(e))}).catch(e=>{me({},i,o,r),console.warn("请求出错：",e),s(e)});break;case"delete":let e=l?"params":"data";fe.delete(t,{[e]:n}).then(e=>{let t=me(e,i,o,r);t?a(t):(console.warn(i||"请求失败"),s(e))}).catch(e=>{me({},i,o,r),console.warn("请求出错：",e),s(e)});break;case"post":fe.post(t,n,r).then(e=>{let t=me(e,i,o,r);t?a(t):(console.warn(i||"请求失败"),s(e))}).catch(e=>{me({},i,o,r),console.warn("请求出错：",e),s(e)});break;case"put":fe.put(t,n,r).then(e=>{let t=me(e,i,o,r);t?a(t):(console.warn(i||"请求失败"),s(e))}).catch(e=>{me({},i,o,r),console.warn("请求出错：",e),s(e)});break}})}function be(e,t,n,i,o,r,l){return new Promise((a,s)=>{if(t){r=r||{},r&&r.spin&&(fe.store?fe.store.commit("ADD_FETCH_COUNT"):we());let c,d=t;if(fe.changeUrl&&window&&window.g){const e=["mgr","dcc","crm","umc","wmc","amc","pmc","oa","mmc"];for(let n of e){let e=new RegExp("^/"+n+"(?=/.*$)","i");if(e.test(t)&&window.g[n+"URL"]){d=window.g[n+"URL"]+t.replace(e,"");break}}}if(r&&r.headers&&"multipart/form-data"===r.headers["Content-Type"])c=n;else if(c=window._.isArray(n)?[]:{},n&&!window._.isEmpty(n))if(window._.isArray(n))for(let e of n)(e||0===e||!1===e||""===e)&&c.push(e);else for(let e in n)n.hasOwnProperty(e)&&(n[e]||0===n[e]||!1===n[e]||""===n[e])&&(c[e]=n[e]);let h=e.toLowerCase();ge(h,d,c,i,o,r,l).then(e=>{a(e)}).catch(e=>{s(e)})}else console.error("没有请求地址:url"),s("没有请求地址:url")})}fe.changeUrl=!1,fe.interceptors.request.use(e=>e,e=>Promise.reject(e)),fe.interceptors.response.use(e=>(e&&e.data&&403===e.data.code?re({content:"登录状态失效,请重新登录！",onOk:ye}):e&&e.data&&409===e.data.code&&re({content:"该账号已在其他地方登录,点击确定退出。",onOk:ye}),e),e=>e.response?(403===e.response.status?re({content:"登录状态失效,请重新登录！",onOk:ye}):409===e.response.status&&re({content:"该账号已在其他地方登录,点击确定退出。",onOk:ye}),e.response.data?Promise.reject(e.response.data):Promise.reject(e.response)):Promise.reject(e));var xe={init(e){e.hasOwnProperty("store")&&(fe.store=e.store),e.hasOwnProperty("changeFetchUrl")&&(fe.changeUrl=e.changeFetchUrl)},post(e,t={},n,i,o){return new Promise((r,l)=>{be("post",e,t,n,i,o).then(e=>{r(e)}).catch(e=>{l(e)})})},put(e,t={},n,i,o){return new Promise((r,l)=>{be("put",e,t,n,i,o).then(e=>{r(e)}).catch(e=>{l(e)})})},get(e,t={},n,i,o){return new Promise((r,l)=>{be("get",e,t,n,i,o).then(e=>{r(e)}).catch(e=>{l(e)})})},delete(e,t={},n,i,o,r=!0){return new Promise((l,a)=>{be("delete",e,t,n,i,o,r).then(e=>{l(e)}).catch(e=>{a(e)})})},all:ue.a.all,spread:ue.a.spread};const Ce={HelloR:d,btTablePage:L,wellCard:W,tableTree:ie},ve={fullScreenImgPreview:ce,toHump:f,toLine:w,htmlEncode:g,htmlDecode:b,getFileSrc:x,getFileTypeByName:C,isImgByFile:v,getFileTypeIconByName:X,downloadFileReaderFile:T,fakeALinkClick:K,findPath:D,getStringWidth:R},Xe={messageBox:re,myTypeof:p,$fetch:xe,trimObj:y,clearObj:m,formDataHeadConfig:k,toFormData:O,oneOf:N,fullScreenImgByDom:de,isValidValue:P,isNumberValue:E,isEmptyValue:I,tooltipManual:A,stringLength:j,decimalDigitsLimit:B,downloadFileByFormSubmit:S,setValByOption:M},Te={$swal:se},Ke=function(e,t={}){Ke.installed||(Object.keys(Ce).forEach(t=>{e.component(t,Ce[t])}),Object.keys(Xe).forEach(t=>{e.prototype.hasOwnProperty(t)||Object.defineProperty(e.prototype,t,{get(){return Xe[t]}})}),"undefined"!==typeof window&&Object.keys(Te).forEach(e=>{window.hasOwnProperty(e)||Object.defineProperty(window,e,{get(){return Te[e]}})}))};"undefined"!==typeof window&&window.Vue&&Ke(window.Vue);const ke=function(e){let t={},n=["store","changeFetchUrl"];n.forEach(n=>{e.hasOwnProperty(n)&&(t[n]=e[n])}),xe.init(t)};var _e={version:Object({NODE_ENV:"production",BASE_URL:""}).VERSION,install:Ke,init:ke,...Ce,...Xe,...Te,...ve};t["default"]=_e}})["default"]}));
//# sourceMappingURL=plugRQw.umd.min.js.map
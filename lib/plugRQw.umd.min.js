(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("view-design"),require("echarts"),require("sweetalert"),require("vue-json-viewer"),require("vue-amap"),require("lodash"),require("vue"),require("wangeditor"),require("moment"),require("axios"),require("ar-cascader"),require("xss")):"function"===typeof define&&define.amd?define(["view-design","echarts","sweetalert","vue-json-viewer","vue-amap","lodash","vue","wangeditor","moment","axios","ar-cascader","xss"],t):"object"===typeof exports?exports["plugRQw"]=t(require("view-design"),require("echarts"),require("sweetalert"),require("vue-json-viewer"),require("vue-amap"),require("lodash"),require("vue"),require("wangeditor"),require("moment"),require("axios"),require("ar-cascader"),require("xss")):e["plugRQw"]=t(e["ViewUI"],e["echarts"],e["swal"],e["JsonView"],e["VueAMap"],e["_"],e["Vue"],e["wangEditor"],e["moment"],e["axios"],e["arCascader"],e["xss"])})("undefined"!==typeof self?self:this,(function(e,a,i,l,r,s,o,n,d,c,h,u){return function(e){var t={};function a(i){if(t[i])return t[i].exports;var l=t[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(i,l,function(t){return e[t]}.bind(null,l));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s="fb15")}({"002d":function(t,a){t.exports=e},"164e":function(e,t){e.exports=a},"1e60":function(e,t){e.exports=i},2364:function(e,t){e.exports=l},"54b3":function(e,t,a){},"5aeb":function(e,t){e.exports=r},"60bb":function(e,t){e.exports=s},8875:function(e,t,a){var i,l,r;(function(a,s){l=[],i=s,r="function"===typeof i?i.apply(t,l):i,void 0===r||(e.exports=r)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(p){var a,i,l,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,o=r.exec(p.stack)||s.exec(p.stack),n=o&&o[1]||!1,d=o&&o[2]||!1,c=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");n===c&&(a=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(d-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),l=a.replace(i,"$1").trim());for(var u=0;u<h.length;u++){if("interactive"===h[u].readyState)return h[u];if(h[u].src===n)return h[u];if(n===c&&h[u].innerHTML&&h[u].innerHTML.trim()===l)return h[u]}return null}}return e}))},"8bbf":function(e,t){e.exports=o},"8eed":function(e,t){e.exports=n},"95e8":function(e,t,a){},"9cbc":function(e,t,a){"use strict";var i=a("95e8"),l=a.n(i);l.a},c32d:function(e,t){e.exports=d},cebe:function(e,t){e.exports=c},e900:function(e,t){e.exports=h},efde:function(e,t){e.exports=u},f16a:function(e,t,a){"use strict";var i=a("54b3"),l=a.n(i);l.a},f8bc:function(e){e.exports=JSON.parse('{"color":["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],"backgroundColor":"rgba(0,0,0,0)","textStyle":{},"title":{"textStyle":{"color":"#333333"},"subtextStyle":{"color":"#666666"}},"line":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"radar":{"itemStyle":{"normal":{"borderWidth":"2"}},"lineStyle":{"normal":{"width":"2"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true},"bar":{"itemStyle":{"normal":{"barBorderWidth":0,"barBorderColor":"#ccc"},"emphasis":{"barBorderWidth":0,"barBorderColor":"#ccc"}}},"pie":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"scatter":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"boxplot":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"parallel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"sankey":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"funnel":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"gauge":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"},"emphasis":{"borderWidth":0,"borderColor":"#ccc"}}},"candlestick":{"itemStyle":{"normal":{"color":"#edafda","color0":"transparent","borderColor":"#d680bc","borderColor0":"#8fd3e8","borderWidth":"2"}}},"graph":{"itemStyle":{"normal":{"borderWidth":0,"borderColor":"#ccc"}},"lineStyle":{"normal":{"width":1,"color":"#aaa"}},"symbolSize":"6","symbol":"emptyCircle","smooth":true,"color":["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],"label":{"normal":{"textStyle":{"color":"#eeeeee"}}}},"map":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"geo":{"itemStyle":{"normal":{"areaColor":"#f3f3f3","borderColor":"#516b91","borderWidth":0.5},"emphasis":{"areaColor":"rgba(165,231,240,1)","borderColor":"#516b91","borderWidth":1}},"label":{"normal":{"textStyle":{"color":"#000"}},"emphasis":{"textStyle":{"color":"rgb(81,107,145)"}}}},"categoryAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"valueAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"logAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"timeAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#cccccc"}},"axisTick":{"show":false,"lineStyle":{"color":"red"}},"axisLabel":{"show":true,"textStyle":{"color":"#333333"}},"splitLine":{"show":true,"lineStyle":{"color":["#eeeeee"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},"toolbox":{"iconStyle":{"normal":{"borderColor":"#999"},"emphasis":{"borderColor":"#666"}}},"legend":{"textStyle":{"color":"#333333"}},"tooltip":{"axisPointer":{"lineStyle":{"color":"#cccccc","width":1},"crossStyle":{"color":"#cccccc","width":1}}},"timeline":{"lineStyle":{"color":"#8fd3e8","width":1},"itemStyle":{"normal":{"color":"#8fd3e8","borderWidth":1},"emphasis":{"color":"#8fd3e8"}},"controlStyle":{"normal":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5},"emphasis":{"color":"#8fd3e8","borderColor":"#8fd3e8","borderWidth":0.5}},"checkpointStyle":{"color":"#8fd3e8","borderColor":"rgba(138,124,168,0.37)"},"label":{"normal":{"textStyle":{"color":"#8fd3e8"}},"emphasis":{"textStyle":{"color":"#8fd3e8"}}}},"visualMap":{"color":["#516b91","#59c4e6","#a5e7f0"]},"dataZoom":{"backgroundColor":"rgba(0,0,0,0)","dataBackgroundColor":"rgba(255,255,255,0.3)","fillerColor":"rgba(167,183,204,0.4)","handleColor":"#a7b7cc","handleSize":"100%","textStyle":{"color":"#333"}},"markPoint":{"label":{"normal":{"textStyle":{"color":"#eeeeee"}},"emphasis":{"textStyle":{"color":"#eeeeee"}}}}}')},fb15:function(e,a,i){"use strict";if(i.r(a),"undefined"!==typeof window){var l=window.document.currentScript,r=i("8875");l=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var s=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(i.p=s[1])}var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v("Greetings from Ricky.")])},n=[],d={name:"Hello"},c=d;function h(e,t,a,i,l,r,s,o){var n,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=a,d._compiled=!0),i&&(d.functional=!0),r&&(d._scopeId="data-v-"+r),s?(n=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),l&&l.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=n):l&&(n=o?function(){l.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:l),n)if(d.functional){d._injectStyles=n;var c=d.render;d.render=function(e,t){return n.call(t),c(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,n):[n]}return{exports:e,options:d}}var u=h(c,o,n,!1,null,null,null),p=u.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"btTablePage fullHeight"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTopRow,expression:"showTopRow"}],staticClass:"topBtn"},[e._t("tableSetting"),e._t("topMsg"),e._t("topBtnGroup")],2),a("div",{staticClass:"tableContainer fullHeight",class:{noTop:!e.showTopRow,noPage:e.noPage}},[a("div",{staticClass:"fullHeight relativeBox"},[a("div",{ref:"tableContainerLOI",staticClass:"fullFlowContent"},[a("Table",e._g(e._b({ref:"TableXXX",class:{noBorderTable:e.noBorderTable,fullHeightTable:!e.fixedTable,lightHeadO:e.lightHead},attrs:{height:e.fixedTable&&e.tableContainerHeight||null,columns:e.columnsT,data:e.dataS,"highlight-row":e.radio||e.highlightRow},on:{"on-select":e.onSelect,"on-selection-change":e.selectionHandle,"on-sort-change":e.onSortChange,"on-row-click":e.onRowClick}},"Table",e.$attrs,!1),e.$listeners))],1)])]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.noPage,expression:"!noPage"}],staticClass:"pageContainer"},[a("Page",{attrs:{"page-size-opts":e.pageSizes,total:e.total,current:e.current,"page-size":e.pageSizeT,"show-sizer":"","show-total":"",size:"small"},on:{"update:current":function(t){e.current=t},"on-change":e.changePage,"on-page-size-change":e.pageSizeChange}})],1)])},m=[],y=i("60bb"),g=i.n(y),b=i("1e60"),v=i.n(b),w={r:{locale:"zh-CN",testMsg:"测试国际化",confirm:"确定",cancel:"取消",clear:"清空",info:{title:"提示",text:"确定执行该操作？"},http:{403:"登录状态失效,请重新登录！",409:"该账号已在其他地方登录,点击确定退出。"},pSelect:"请选择",pInput:"请输入",selectDate:"选择日期",search:"搜索",level:{1:"一级",2:"二级",3:"三级"},unknown:"未知",title:"标题",required:"该项为必填",back:"返回",button:"按钮",check:"查询",adSearch:"高级查询",all:"全选",tabSetting:" 列表显示设置",delete:"删除",fView:"全屏预览",download:"点击下载",file:"文件",selectFile:"选择文件",notImg:"文件不是图片，不可预览",wrongFileType:"文件类型不被允许",supportType:"支持类型：",none:"无",fileIsBig:"文件过大",supportSize:"支持最大：",uploadError:"上传出错",uploadFail:"上传失败",closePreview:"关闭预览",fullImg:"全屏图片",preview:"预览",searchFor:"当前搜索：",noMore:"没有更多数据了",optionLabel:"选项",getDataError:"拉取数据出错",add:"添加",remove:"移除",addAll:"全部添加",removeAll:"全部移除",added:"已添加",notAdded:"未添加",success:"成功",failed:"失败",error:"出错",pageNotFound:"页面没找到",notFoundMsg:"您访问的页面不存在，点击下面按钮返回上一个页面。",hideMenu:"隐藏菜单",showMenu:"显示菜单"}},k=i("8bbf"),x=i.n(k),S=function(e){return C(e)&&!T(e)};function C(e){return!!e&&"object"===typeof e}function T(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||L(e)}var K="function"===typeof Symbol&&Symbol.for,B=K?Symbol.for("react.element"):60103;function L(e){return e.$$typeof===B}function $(e){return Array.isArray(e)?[]:{}}function I(e,t){return!1!==t.clone&&t.isMergeableObject(e)?A($(e),e,t):e}function _(e,t,a){return e.concat(t).map((function(e){return I(e,a)}))}function O(e,t,a){var i={};return a.isMergeableObject(e)&&Object.keys(e).forEach((function(t){i[t]=I(e[t],a)})),Object.keys(t).forEach((function(l){a.isMergeableObject(t[l])&&e[l]?i[l]=A(e[l],t[l],a):i[l]=I(t[l],a)})),i}function A(e,t,a){a=a||{},a.arrayMerge=a.arrayMerge||_,a.isMergeableObject=a.isMergeableObject||S;var i=Array.isArray(t),l=Array.isArray(e),r=i===l;return r?i?a.arrayMerge(e,t,a):O(e,t,a):I(t,a)}A.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,a){return A(e,a,t)}),{})};var D=A,R=D;const V=/(%|)\{([0-9a-zA-Z_]+)\}/g;function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=function(e,...t){return 1===t.length&&"object"===typeof t[0]&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(V,(a,i,l,r)=>{let s;return"{"===e[r-1]&&"}"===e[r+a.length]?l:(s=M(t,l)?t[l]:null,null===s||void 0===s?"":s)})};let G=w,F=!1,P=function(){const e=Object.getPrototypeOf(this||x.a).$t;if("function"===typeof e&&x.a.locale)return F||(F=!0,x.a.locale(x.a.config.lang,R(G,x.a.locale(x.a.config.lang)||{},{clone:!0}))),e.apply(this,arguments)};const E=function(e,t){let a=P.apply(this,arguments);if(null!==a&&void 0!==a)return a;const i=e.split(".");let l=G;for(let r=0,s=i.length;r<s;r++){const e=i[r];if(a=l[e],r===s-1)return N(a,t);if(!a)return"";l=a}return""},X=function(e){G=e||G},z=function(e){P=e||P};var H={use:X,t:E,i18n:z},j=function(e,t,a){const i=(...e)=>E.apply(this,e);return new Promise((l,r)=>{switch(U(e)){case"Object":let s=i("r.confirm"),o=i("r.cancel"),n=!1,d="swalConfirmBt",c="swalCancelBt";const h=/^HTML.*Element$/;e.type&&(e.icon=e.type)&&delete e.type,e.className=e.className||"swalBoxX",e.text&&h.test(U(e.text))&&(e.content=e.text,delete e.text),e.content&&"String"===U(e.content)&&(e.text=e.content,delete e.content),!1!==e.button&&(e.buttons&&"Object"===U(e.buttons)?e.buttons.cancel&&(e.buttons.cancel.text&&(o=e.buttons.cancel.text)&&(n=!0),e.buttons.cancel.className&&(c=e.buttons.cancel.className),e.buttons.confirm.text&&(s=e.buttons.confirm.text),e.buttons.confirm.className&&(d=e.buttons.confirm.className)):e.buttons&&"Array"===U(e.buttons)&&(e.buttons[0]&&(!0!==e.buttons[0]&&(o=e.buttons[0]),n=!0),e.buttons[1]&&!0!==e.buttons[1]&&(s=e.buttons[1])),e.buttons={confirm:{text:s,value:!0,visible:!0,className:d},cancel:{text:o,value:null,visible:n,className:c}}),v()(e).then(t=>{t&&"Function"===U(e.onOk)&&e.onOk(),l(t)}).catch(e=>{r(e)});break;case"String":let u={title:e,buttons:{confirm:{text:i("r.confirm"),value:!0,visible:!0,className:"swalConfirmBt",closeModal:!0}},className:"swalBoxX"};if(t)switch(U(t)){case"String":u.text=t;break;case"HTMLElement":u.content=t;break}a&&(u.icon=a),v()(u).then(e=>{l(e)}).catch(e=>{r(e)});break;case"Boolean":!1===e&&v.a.close();break;default:throw new TypeError("swal第一个参数类型有误，仅支持Object/String/false")}})};function U(e){let t=Object.prototype.toString.call(e);return t.replace(/\[object |]/g,"")}function W(e){return e.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}))}function q(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function J(e){let t=U(e);if("Object"===t){for(let a in e)if(e.hasOwnProperty(a)){let t=U(e[a]);"String"===t?e[a]=e[a].trim():"Object"!==t&&"Array"!==t||J(e[a])}}else if("Array"===t)for(let a=0,i=e.length;a<i;a++){let t=U(e[a]);"String"===t?e[a]=e[a].trim():"Array"!==t&&"Object"!==t||J(e[a])}return e}function Y(e,t=[]){if("Array"===U(e))return e.forEach((t,a)=>{switch(U(t)){case"String":case"Number":case"Boolean":case"Date":e[a]=null;break;case"Array":case"Object":Y(t);break}}),e;if("Object"===U(e)){for(let a in e)if(e.hasOwnProperty(a)){let i=!0;for(let e of t)if(e===a){i=!1;break}if(i)switch(U(e[a])){case"String":case"Number":case"Boolean":case"Date":e[a]=null;break;case"Array":case"Object":Y(e[a]);break}}return e}return e}function Q(e){let t=document.createElement("div");void 0!==t.textContent?t.textContent=e:t.innerText=e;let a=t.innerHTML;return t=null,a}function Z(e){let t=document.createElement("div");t.innerHTML=e;let a=t.innerText||t.textContent;return t=null,a}function ee(e){return new Promise(t=>{let a=new FileReader;a.readAsDataURL(e),a.onloadend=()=>{t(a.result)}})}function te(e){return e.split(".").pop().toLocaleLowerCase()||""}function ae(e){return"String"===U(e)&&e.indexOf("image")>-1}function ie(e){const t=te(e);let a="ios-document-outline";return["gif","jpg","jpeg","png","bmp","webp"].indexOf(t)>-1?a="ios-image":["mp4","m3u8","rmvb","avi","swf","3gp","mkv","flv"].indexOf(t)>-1?a="ios-film":["mp3","wav","wma","ogg","aac","flac"].indexOf(t)>-1?a="ios-musical-notes":["doc","txt","docx","pages","epub","pdf"].indexOf(t)>-1?a="md-document":["numbers","csv","xls","xlsx"].indexOf(t)>-1?a="ios-stats":["keynote","ppt","pptx"].indexOf(t)>-1&&(a="ios-videocam"),a}function le(e,t){let a=document.createElement("a");a.href=t,a.download=e,re(a)}function re(e){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}const se={headers:{"Content-Type":"multipart/form-data"}};function oe(e){let t=new FormData;for(let a in e)e.hasOwnProperty(a)&&null!==e[a]&&t.append(a,e[a]);return t}function ne({group:e,condition:t,pathKey:a,childKey:i="children",path:l=[]}){if(e&&g.a.isObject(e))if(g.a.isFunction(t)){if(g.a.isPlainObject(e)){let r=e,s=g.a.cloneDeep(l);if(t(r))return a&&r[a]&&s.push(r[a]),s;if(r[i]&&!g.a.isEmpty(r[i])){a&&r[a]&&s.push(r[a]);let e=ne({group:r[i],condition:t,pathKey:a,childKey:i,path:s});if(!g.a.isEmpty(e))return e}}else if(g.a.isArray(e))for(let r of e){let s=g.a.cloneDeep(l);if(t(r))return a&&r[a]?s.push(r[a]):s.push(e.indexOf(r)),s;if(r[i]&&r[i].length>0){a&&r[a]?s.push(r[a]):s.push(e.indexOf(r));let l=ne({group:r[i],condition:t,pathKey:a,childKey:i,path:s});if(!g.a.isEmpty(l))return l}}}else if(g.a.isArray(e))for(let r of e){let a=g.a.cloneDeep(l);if(r===t)return a.push(e.indexOf(r)),a}return[]}function de(e,t,a){if(!e||!t)return!1;let i,l="notFoundC",r=function(e,t){if("Array"===U(e)){if("Function"===U(t)&&t(e))return l=e,[];for(let a of e){if("notFoundC"!==l)break;if("Function"===U(t)&&t(a)||a===t)return l=a,[e.indexOf(a)];if("Array"===U(a)||"Object"===U(a)){let i=r(a,t);if(void 0!==i)return[e.indexOf(a),...i]}}}else if("Object"===U(e)){if("Function"===U(t)&&t(e))return l=e,[];for(let a in e){if("notFoundC"!==l)break;if(e.hasOwnProperty(a)){if("Function"===U(t)&&t(a)||e[a]===t)return l=e[a],[a];if("Object"===U(e[a])||"Array"===U(e[a])){let i=r(e[a],t);if(void 0!==i)return[a,...i]}}}}};return i=r(e,t),a?i||!1:"notFoundC"!==l&&l}function ce(e,t){for(let a=0,i=t.length;a<i;a++)if(e===t[a])return!0;return!1}function he(e,t=2){let a=new RegExp("(^-?d+.d{"+t+"})(d+$)"),i=e&&String(e)||"";return a.test(i)?Number(i.replace(a,"$1")):e}function ue(e,t={},a="get"){let i=document.createElement("form"),l=document.getElementsByTagName("body")[0];l.appendChild(i),i.setAttribute("style","display:none"),i.setAttribute("target",""),i.setAttribute("method",a);let r=e;if(window&&window.g){let t=Object.keys(window.g).filter(e=>e.indexOf("URL")>-1).map(e=>e.replace("URL",""));for(let a of t){let t=new RegExp("^/"+a+"(?=/.*$)","i");if(t.test(e)&&window.g[a+"URL"]){r=window.g[a+"URL"]+e.replace(t,"");break}}}if(i.setAttribute("action",r),g.a.isPlainObject(t)){for(let a in t)if(t.hasOwnProperty(a)&&(t[a]||0===t[a]||!1===t[a]||""===t[a])){let e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",a),e.setAttribute("value",t[a]),i.appendChild(e)}i.submit();let e=setTimeout(()=>{l.removeChild(i),clearTimeout(e),e=null},8e3)}else console.error("请求数据格式有误，无法下载文件")}function pe(e,t={},a="get"){!t.hasOwnProperty("columns")||""!==t["columns"]&&null!==t["columns"]&&void 0!==t["columns"]?ue(e,t,a):j.call(this,{title:"需要导出的列不能为空",type:"warning"})}function fe(e,t,a=!1){let i;if(e&&"Array"===U(t)){let a=localStorage.getItem(e);a?(a=JSON.parse(decodeURI(a)),i=t.filter(e=>e.key&&-1!==a.indexOf(e.title)).map(e=>e.key)):i=t.map(e=>e.key)}else i=[];return a||(i=String(i)),i}function me(e){return void 0!==e&&null!==e&&""!==e}function ye(e){let t=/^-?\d+(.\d+)?$/;return t.test(e)}function ge(e,t=!1,a=""){return function(i,l){let r;if("Array"===U(e)){let t=[];for(let a of e)me(l.row[a])&&t.push(l.row[a]);r=t.join(a)}else r="Function"===U(e)?e(l):l.row[e];let s=be(r),o=l.column._width;return r&&s>o?i("Tooltip",{style:{width:"100%"},props:{content:r,maxWidth:2*o}},[i("span",{style:{width:"100%",display:"inline-block","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","vertical-align":"top"}},r)]):i("span",t&&!me(r)?"--":r)}}function be(e,t=12){if("String"===U(e)&&e.length>0){let a=document.createElement("span");a.style.fontSize=t+"px",a.style.fontFamily="inherit",a.innerHTML=e,a.style.opacity="0",a.style.position="fixed",a.style.top="3000px",document.body.append(a);const i=a.clientWidth;return document.body.removeChild(a),i}return 0}function ve(e){if(g.a.isPlainObject(e)){for(let t in e)if(e.hasOwnProperty(t)&&me(e[t]))return!1;return!0}if(g.a.isArray(e)){for(let t of e)if(me(t))return!1;return!0}return!me(e)}function we(e){return"String"===U(e)?e.replace(/[^\x00-\xff]/g,"01").length:"Number"===U(e)?(e+="",e.replace(/[^\x00-\xff]/g,"01").length):0}function ke({group:e,condition:t,key:a,val:i,childKey:l="children"}){if("Array"!==U(e)||"Function"!==U(t)||"String"!==U(a)||"String"!==U(l))return!1;e.forEach(e=>{t(e)&&("Function"===U(i)?e[a]=i(e[a]):e[a]=i),"Array"===U(e[l])&&e[l].length>0&&ke({group:e[l],condition:t,key:a,val:i,childKey:l})})}function xe(e){let t=sessionStorage.getItem("btnPermissions");return!!t&&t.indexOf(e)>-1}function Se(e){return""===e?null:e}function Ce(e){return"Number"===U(e)&&"NaN"===String(e)}function Te(e,t,a){if("Object"!==U(e))return e;let i=Object.assign(e,{}),l="";for(let r in i)if(i.hasOwnProperty(r)){let e=i[r];void 0===e||""===e||"String"===U(e)&&""===e.trim()||null===e||Ce(e)?a?t?l+=r+"=&":i[r]="":delete i[r]:t&&(l+=r+"="+e+"&")}return t?l.length>0?l.substr(0,l.length-1):"":i}function Ke(e){e=e||window.Event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Be(e){let t;if(g.a.isArray(e)){t=[];for(let a of e)g.a.isArray(a)||g.a.isPlainObject(a)?t.push(Be(a)):me(a)&&t.push(a)}else if(g.a.isPlainObject(e)){t={};for(let a in e)e.hasOwnProperty(a)&&(g.a.isArray(e[a]||g.a.isPlainObject(e[a]))?t[a]=Be(e[a]):me(e[a])&&(t[a]=e[a]))}return t}function Le(e){const t=window.open();t.document.write(e);const a=setTimeout(()=>{t.print(),window.clearTimeout(a)},10)}function $e(e){let t=[],a=e;while(e=e.previousSibling)1===e.nodeType&&t.push(e);while(a=a.nextSibling)1===a.nodeType&&t.push(a);return t}var Ie=i("cebe"),_e=i.n(Ie),Oe=i("002d");function Ae({height:e,width:t=416,title:a,content:i,onOk:l,onCancel:r,okText:s,cancelText:o,noWarnIcon:n,footerAlign:d,cancelBt:c}){const h=(...e)=>E.apply(this,e);let u=e&&Number(e)-90>100?Number(e)-90+"px":0,p=u||"100px";i=i||h("r.info.text");let f="String"===U(i);Oe["Modal"].warning({width:t,render:e=>e("div",{class:"customMessageBox",style:{height:p}},[e("div",{class:"containerN"},[e("div",{class:"titleN"},[e("span",a||h("r.info.title")),e("Button",{class:"fr closeN",props:{type:"text"},on:{click(){Oe["Modal"].remove()}}},[e("i",{class:"ivu-icon ivu-icon-ios-close",style:{fontSize:"30px"}})])]),e("div",{class:"contentN",style:{textAlign:f?"center":"left"}},[e("i",{class:f&&!0!==n?"ivu-icon ivu-icon-ios-alert-outline":"hide",style:{fontSize:"60px",color:"#f8bb86"}}),e("div",{class:"msgBoxConO"},i)]),e("div",{class:"footerN",style:{textAlign:d||"center"}},[e("Button",{class:"okBtN",on:{click(){Oe["Modal"].remove(),"Function"===U(l)&&l()}}},[e("i",{class:"ivu-load-loop ivu-icon ivu-icon-ios-loading"}),e("span",s||h("r.confirm"))]),e("Button",{class:["cancelBtN",!1===c&&"hide"],on:{click(){Oe["Modal"].remove(),"Function"===U(r)&&r()}}},o||h("r.cancel"))])])])})}const De=window.location.origin;let Re=_e.a.create({baseURL:De,withCredentials:!0});function Ve(){console.info("store为空，请在安装插件时传入store实例：Vue.use(plugRQw,{store:store})")}function Me(){Re.store?Re.store.dispatch("logout"):Ve()}function Ne(e,t,a,i){i&&i.spin&&(Re.store?Re.store.commit("MINUS_FETCH_COUNT"):Ve());let l=!0,r=e&&e.data;if(r){a=a||[];for(let e of a)r=r[e],l=l&&r;return l?r:(t&&console.warn(t),!1)}return t&&console.warn(t),!1}function Ge(e,t,a,i,l,r,s){return new Promise((o,n)=>{switch(e){case"get":Re.get(t,{params:a}).then(e=>{let t=Ne(e,i,l,r);t?o(t):n(e)}).catch(e=>{Ne({},i,l,r),n(e)});break;case"delete":let e=s?"params":"data";Re.delete(t,{[e]:a}).then(e=>{let t=Ne(e,i,l,r);t?o(t):n(e)}).catch(e=>{Ne({},i,l,r),n(e)});break;case"post":Re.post(t,a,r).then(e=>{let t=Ne(e,i,l,r);t?o(t):n(e)}).catch(e=>{Ne({},i,l,r),n(e)});break;case"put":Re.put(t,a,r).then(e=>{let t=Ne(e,i,l,r);t?o(t):n(e)}).catch(e=>{Ne({},i,l,r),n(e)});break;default:}})}function Fe(e,t,a,i,l,r={},s){return new Promise((o,n)=>{if(t){r&&r.spin&&(Re.store?Re.store.commit("ADD_FETCH_COUNT"):Ve());let d,c=t;if(window&&window.g){let e=Object.keys(window.g).filter(e=>e.indexOf("URL")>-1).map(e=>e.replace("URL",""));for(let a of e){let e=new RegExp("^/"+a+"(?=/.*$)","i");if(e.test(t)&&window.g[a+"URL"]){c=window.g[a+"URL"]+t.replace(e,"");break}}}if(r&&r.headers&&"multipart/form-data"===r.headers["Content-Type"])d=a;else if(d=g.a.isArray(a)?[]:{},a&&!g.a.isEmpty(a))if(g.a.isArray(a))for(let e of a)(e||0===e||!1===e||""===e&&!r.noEmptyStr)&&d.push(e);else for(let e in a)a.hasOwnProperty(e)&&(a[e]||0===a[e]||!1===a[e]||""===a[e]&&!r.noEmptyStr)&&(d[e]=a[e]);let h=e.toLowerCase();Ge(h,c,d,i,l,r,s).then(e=>{o(e)}).catch(e=>{n(e)})}else console.error("没有请求地址:url"),n("没有请求地址:url")})}Re.interceptors.request.use(e=>e,e=>Promise.reject(e)),Re.interceptors.response.use(e=>(e&&e.data&&(403===e.data.code||409===e.data.code)&&Ae({content:E("r.http."+e.data.code),onOk:Me}),e),e=>(e&&e.response&&(403===e.response.status||409===e.response.status)&&Ae({content:E("r.http."+e.response.status),onOk:Me}),console.warn("请求出错：",e),Promise.reject(e)));var Pe={init(e){Re.store=e},post(e,t={},a,i,l){return new Promise((r,s)=>{Fe("post",e,t,a,i,l).then(e=>{r(e)}).catch(e=>{s(e)})})},put(e,t={},a,i,l){return new Promise((r,s)=>{Fe("put",e,t,a,i,l).then(e=>{r(e)}).catch(e=>{s(e)})})},get(e,t={},a,i,l){return new Promise((r,s)=>{Fe("get",e,t,a,i,l).then(e=>{r(e)}).catch(e=>{s(e)})})},delete(e,t={},a,i,l,r=!0){return new Promise((s,o)=>{Fe("delete",e,t,a,i,l,r).then(e=>{s(e)}).catch(e=>{o(e)})})},all:_e.a.all,spread:_e.a.spread,config:Re};let Ee=[],Xe=[];const ze=function(e){e&&e.beforeEach?e.beforeEach((e,t,a)=>{Ee.map(e=>{window.clearTimeout(e)}),Xe.map(e=>{window.clearInterval(e)}),Ee.length=0,Xe.length=0,a()}):console.warn("安装库plug-r-qw时未传入router，调用该库的定时器方法产生的定时器将不能自动销毁，请传入router：Vue.use(plugRQw,{router,...})")},He=function(e,t){let a=window.setTimeout(e,t);return Ee.push(a),a},je=function(e,t){let a=window.setInterval(e,t);return Xe.push(a),a};var Ue={init:ze,setTimeout:He,setInterval:je},We={name:"btTablePage",props:{url:{type:String,default:""},searchData:{type:Object,default(){return{}}},columns:{type:Array,default(){return[]}},dataHandler:{type:Function},selection:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},selectionFixed:{validator:e=>ce(e,["left","right",!1]),default:!1},rowClickSelect:{type:Boolean,default:!0},data:{type:Array,default(){return[]}},pageSize:{type:Number,default:10},sortable:{validator:e=>ce(e,["custom",""]),default:""},initData:{type:Boolean,default:!0},highlightRow:{type:Boolean,default:!1},rowClickNum:{type:Number,default:-1},tableEmptyTdHandle:{type:Boolean,default:!1},noBorderTable:{type:Boolean,default:!1},noPage:{type:Boolean,default:!1},orderDefault:{type:String,default:"desc"},orderKey:{type:String,default:"id"},orderKeyFormat:{validator:e=>ce(e,["underline","camelcase"]),default:"underline"},getDataLoading:{type:Boolean,default:!1},showTopRow:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1}},data(){return{pageSizes:this.pageSizes||[10,20,30,40],dataT:this.data,pageSizeT:this.pageSize,current:1,total:0,selected:[],currentKey:null,currentIndex:null,key:this.orderKey,order:this.orderDefault,tableContainerHeight:300}},computed:{columnsFixed(){for(let e of this.columns)if(e.fixed)return!0;return!1},fixedTable(){return this.selectionFixed||this.columnsFixed},queryData(){let e={...this.searchData,current:this.current,size:this.pageSizeT};return"custom"===this.sortable&&("underline"===this.orderKeyFormat?e[this.order]=q(this.key):"camelcase"===this.orderKeyFormat&&(e[this.order]=W(this.key))),e},columnsT(){let e=this.columns.filter(e=>"selection"!==e.type);if(this.selection||this.radio){let t;t=this.radio?{title:" ",width:65,render:(e,t)=>e("Radio",{props:{value:t.row.btChecked}})}:{type:"selection",width:60},this.selectionFixed&&(t.fixed=this.selectionFixed),e.unshift(t)}return e.forEach(e=>{"custom"===this.sortable?e.key&&!0!==e.sortable&&!1!==e.sortable&&(e.sortable="custom"):e.sortable=!1,e.align||(e.align="center")}),this.tableEmptyTdHandle&&e.forEach(e=>{e.key&&void 0===e.render&&(e.tooltip?e.render=ge(e.key,!0):e.render=(t,a)=>{let i=a.row[e.key];return t("span",""===i||null===i||void 0===i?"--":i)})}),e},dataS:{get(){return this.dataT.map((e,t)=>({btKey:"bt-"+t,btChecked:!1,...e}))},set(e){this.dataT=e}},selectedIds(){return this.selected.map(e=>e.id)},selectedKeys(){return this.selected.map(e=>e.btKey)}},created(){this.initTable()},mounted(){if(this.firstGetHeight(),window.onresize){let e=window.onresize;window.onresize=g.a.debounce(()=>{e(),this.handleResize()})}else window.onresize=g.a.debounce(this.handleResize)},watch:{searchData:{handler(){this.search()},deep:!0}},methods:{firstGetHeight(){this.tableContainerHeight<50?He(this.firstGetHeight,100):He(this.getTableContainerHeight,10)},getTableContainerHeight(){this.tableContainerHeight=this.$refs.tableContainerLOI&&this.$refs.tableContainerLOI.clientHeight||0},handleResize(){this.getTableContainerHeight(),this.$refs.TableXXX&&this.$refs.TableXXX.handleResize()},initTable(){this.initData&&this.getDataAndClickRow()},addRow(e){this.dataT.unshift(g.a.cloneDeep(e)),He(()=>{this.$refs.TableXXX.clickCurrentRow(0)},100)},setRowData(e,t,a){let i=null;if(g.a.isBoolean(t)&&t?i=this.currentIndex:g.a.isNumber(t)&&(i=t),null!==i){let t=this.dataT[i];for(let a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);a&&He(()=>{this.$refs.TableXXX.clickCurrentRow(i)},10)}},deleteRow(e){this.dataT.splice(e,1),He(()=>{this.$refs.TableXXX.clickCurrentRow(0)},100)},clearSelect(){if(this.radio){if(this.selectedKeys.length>0){let e=this.selectedKeys[0].split("-")[1];this.$set(this.dataS[e],"btChecked",!1)}}else this.$refs.TableXXX.selectAll(!1);this.selected.length>0&&(this.selected=[],this.$emit("on-selection-change",[])),this.currentKey=null,this.currentIndex=null},clearTableData(){this.$set(this,"dataT",[]),this.clearSelect(),this.current=1,this.total=0},search(){this.current=1,this.getDataAndClickRow()},getDataAndClickRow(e,t,a){this.radio&&(e||-1!==this.rowClickNum)?this.getTableData(t,a,e).then(()=>{this.dataT.length>0&&He(()=>{e?this.$refs.TableXXX.clickCurrentRow(this.currentIndex||0):this.$refs.TableXXX.clickCurrentRow(this.rowClickNum)},10)}):this.getTableData()},onRowClick(e,t){e.btChecked&&this.radio||(this.selection||this.radio)&&this.rowClickSelect&&this.$refs.TableXXX.toggleSelect(t)},onSelect(e,t){this.currentKey=t.btKey,this.currentIndex=Number(t.btKey.split("-")[1]),this.radio&&this.$set(this.dataT[this.currentIndex],"btChecked",!0)},selectionHandle(e){if(this.radio)for(let t of this.dataS)t.btKey!==this.currentKey&&this.$set(this.dataT[Number(t.btKey.split("-")[1])],"btChecked",!1);this.selected=e},getSelected(){return g.a.cloneDeep(this.selected)},changePage(e){this.current=e,this.getDataAndClickRow()},pageSizeChange(e){this.pageSizeT=e,1===this.current&&this.getDataAndClickRow()},onSortChange({key:e,order:t}){"normal"===t?(this.key=this.orderKey,this.order=this.orderDefault):(this.key=e,this.order=t),this.current=1,this.getTableData()},getTableData(e,t,a){return new Promise(i=>{e&&(this.order=e),t&&(this.key=t),this.url&&""!==this.url?Pe.get(this.url,this.queryData,null,[],{spin:this.getDataLoading}).then(l=>{let r;a||this.clearSelect(),r="Function"===U(this.dataHandler)?this.dataHandler(l):l,r.data?(r.data.records||null===r.data.records?this.dataT=r.data.records||[]:r.data.page?(r.data.page.records||null===r.data.page.records)&&(this.dataT=r.data.page.records||[]):r.data.data?(r.data.data.records||null===r.data.data.records)&&(this.dataT=r.data.data.records||[]):this.dataT=r.data,this.total=r.data.page&&r.data.page.total||r.data.data&&r.data.data.total||r.data.total||r.total||0,0===this.total&&this.current>1&&this.dataT&&0===this.dataT.length?this.current=1:this.current>1&&this.total<=(this.current-1)*this.pageSizeT&&(this.current--,this.$nextTick((function(){this.getTableData(e,t)}))),this.$emit("on-data-change",r),i(r)):(console.warn("请求返回数据有误，无法使用"),this.clearTableData(),this.$emit("on-data-change",r))}).catch(e=>{console.warn(e),this.clearSelect(),this.clearTableData(),this.$emit("on-data-change",e)}):console.warn("没有有效的请求地址，无法获取表格数据")})}}},qe=We,Je=h(qe,f,m,!1,null,null,null),Ye=Je.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:e.wellStyle},[a("div",{staticClass:"flexColumnBox wellCardR"},[a("div",{staticClass:"panelHeader notGrow"},[a("div",{staticClass:"fl",staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.title||e.t("r.title")))]),a("div",{staticClass:"btsF"},[e._t("bts")],2)]),a("div",{staticClass:"growFlexItem relativeBox"},[a("div",{staticClass:"fullFlowContent"},[e._t("default")],2)])])])},Ze=[],et={methods:{t(...e){return E.apply(this,e)}}},tt={name:"wellCard",mixins:[et],props:{title:{type:String},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},inline:{type:Boolean,default:!1}},computed:{wellStyle(){let e={};this.inline&&(e.display="inline-block");let t=["width","height"];for(let a of t)"String"===U(this[a])?e[a]=this[a]:"Number"===U(this[a])&&this[a]>0&&(e[a]=this[a]+"px");return e}}},at=tt,it=h(at,Qe,Ze,!1,null,null,null),lt=it.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Table",{key:e.updateDomKey,ref:"tabXY",class:{tableTreeKM:!0,lightHeadO:e.lightHead},attrs:{columns:e.columnsX,data:e.dataX,"highlight-row":e.highlightRow}})},st=[],ot={name:"tableTree",props:{columns:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},highlightRow:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},lightHead:{type:Boolean,default:!1}},data(){return{dataX:[],noKey:1,updateDomKey:Math.floor(1e8*Math.random()+1e4)}},computed:{columnsX(){let e=this.columns.filter(e=>"selection"!==e.type);if(e[0]){let t=e[0].key;e[0].renderHeader=(e,t)=>e("div",{style:{paddingLeft:"20px"}},t.column.title),e[0].render=(e,a)=>e("div",{class:"tableTxtBt",style:{paddingLeft:20*(a.row.parentNoKey.length+1)+"px",textAlign:"left"}},[e("Checkbox",{props:{value:a.row.checkBox},directives:[{name:"show",value:this.radio}],on:{"on-change":e=>{!0===e?(this.setCollectionVal(this.dataX,{checkBox:!1}),this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[a.index].ownKey}),this.$emit("on-select",a.row)):this.setCollectionVal(this.dataX,{checkBox:e,ownKey:this.dataX[a.index].ownKey})},click:e=>{e.preventDefault()}}}),e("Icon",{props:{type:a.row._hideChild?"ios-arrow-forward":!1===a.row._hideChild?"ios-arrow-down":""},style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(a.index)}}}),e("span",{style:{cursor:"pointer"},on:{click:()=>{this.showHideClick(a.index)}}}," "+a.row[t])])}return e}},mounted(){this.updateTab()},watch:{data(){this.updateTab()}},methods:{setCollectionVal(e,t){if(t&&me(t.checkBox)&&"Array"===U(e))if(t.ownKey)for(let a of e)a.ownKey===t.ownKey&&(a.checkBox=t.checkBox),"Array"===U(a.childrenXK)&&a.childrenXK.length>0&&this.setCollectionValB(a.childrenXK,t);else for(let a of e)a.checkBox=t.checkBox,"Array"===U(a.childrenXK)&&a.childrenXK.length>0&&this.setCollectionValB(a.childrenXK,t)},setCollectionValB(e,t){if(t&&me(t.checkBox)&&"Array"===U(e))if(t.ownKey)for(let a of e)a.ownKey===t.ownKey&&(a.checkBox=t.checkBox),"Array"===U(a.childrenXK)&&a.childrenXK.length>0&&this.setCollectionVal(a.childrenXK,t);else for(let a of e)a.checkBox=t.checkBox,"Array"===U(a.childrenXK)&&a.childrenXK.length>0&&this.setCollectionVal(a.childrenXK,t)},handleResize(){this.$refs.tabXY.handleResize()},updateTab(){let e=g.a.cloneDeep(this.data);this.addHideChildAttr(e),this.dataX=g.a.cloneDeep(e),this.showDefault()},showDefault(){for(let e=0,t=this.dataX.length;e<t;e++){let t=this.dataX[e];if(!1===t.hideChild&&!0===t._hideChild){this.showHideClick(e);break}}},showHideClick(e){if(this.dataX[e]._hideChild){this.dataX[e]._hideChild=!1;let t=g.a.cloneDeep(this.dataX[e].childrenXK);this.dataX.splice(e+1,0,...t),this.showDefault()}else!1===this.dataX[e]._hideChild&&this.hideChildNode(e)},addHideChildAttr(e,t){for(let a of e)a.ownKey=this.noKey,this.noKey++,a.parentNoKey=a.parentNoKey||[],void 0!==t&&a.parentNoKey.push(...t),a.children&&(a.childrenXK=a.children,delete a.children),"Array"===this.myTypeof(a.childrenXK)&&a.childrenXK.length>0&&(!1!==a._hideChild&&(a._hideChild=!0),this.addHideChildAttrB(a.childrenXK,[a.ownKey,...a.parentNoKey]))},addHideChildAttrB(e,t){for(let a of e)a.ownKey=this.noKey,this.noKey++,a.parentNoKey=a.parentNoKey||[],void 0!==t&&a.parentNoKey.push(...t),a.children&&(a.childrenXK=a.children,delete a.children),"Array"===this.myTypeof(a.childrenXK)&&a.childrenXK.length>0&&(!1!==a._hideChild&&(a._hideChild=!0),this.addHideChildAttr(a.childrenXK,[a.ownKey,...a.parentNoKey]))},hideChildNode(e){let t=this.getChildCount(this.dataX[e].ownKey);t&&this.dataX.splice(e+1,t),ke({group:[this.dataX[e]],condition:e=>!1===e._hideChild,key:"_hideChild",val:!0,childKey:"childrenXK"})},addLocalNode(e,t){return new Promise((a,i)=>{!g.a.isInteger(e)||e<0?i("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&i("无效的索引序号index!"),g.a.isPlainObject(t)&&!g.a.isEmpty(t)||i("节点数据异常，无法添加节点！");let l=this.dataX[e];!1!==l._hideChild&&(l._hideChild=!1);let r=[l.ownKey,...l.parentNoKey],s={...t,ownKey:++this.noKey,parentNoKey:r};for(let e of this.dataX){let t=r.indexOf(e.ownKey);if(t>-1){void 0===e.childrenXK&&(e.childrenXK=[]);let a=e.childrenXK,i=e;for(let l=0;l<t+1;l++){if(l===t){a.push(g.a.cloneDeep(s)),void 0===e._hideChild&&(e._hideChild=!0);break}i=g.a.find(i.childrenXK,e=>-1!==r.indexOf(e.ownKey)),void 0===i._hideChild&&(i._hideChild=!0),void 0===i.childrenXK&&(i.childrenXK=[]),a=i.childrenXK}}}this.dataX.splice(e+1+this.getChildCount(l.ownKey),0,g.a.cloneDeep(s)),this.updateDomKey=Math.floor(1e8*Math.random()+1e4),a(g.a.cloneDeep(s))})},editLocalNode(e,t){return new Promise((a,i)=>{!g.a.isInteger(e)||e<0?i("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&i("无效的索引序号index!"),g.a.isPlainObject(t)&&!g.a.isEmpty(t)||i("节点数据异常，无法添加节点！");let l=this.dataX[e],r=Object.assign(l,t);this.dataX[e]=r;for(let e of this.dataX){let t=r.parentNoKey.indexOf(e.ownKey);if(t>-1){let a=e.childrenXK;for(let e=0;e<t+1;e++){if(e===t){let e=g.a.findIndex(a,e=>e.ownKey===r.ownKey);e>-1&&(a[e]=g.a.cloneDeep(r));break}{let e=g.a.find(a,e=>-1!==r.parentNoKey.indexOf(e.ownKey));a=e.childrenXK}}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),a(g.a.cloneDeep(r))})},deleteLocalNode(e){return new Promise((t,a)=>{!g.a.isInteger(e)||e<0?a("索引序号index必须是正整数或0!"):e>this.dataX.length-1&&a("无效的索引序号index!");let i=this.dataX[e];this.dataX.splice(e,1),this.deleteLocalChildNode(i.ownKey,e);for(let e of this.dataX){let t=i.parentNoKey.indexOf(e.ownKey);if(t>-1){let a=e.childrenXK,l=e;for(let e=0;e<t+1;e++){if(e===t){let e=g.a.findIndex(a,e=>e.ownKey===i.ownKey);e>-1&&(a.splice(e,1),0===a.length&&(l._hideChild=null));break}l=g.a.find(a,e=>-1!==i.parentNoKey.indexOf(e.ownKey)),a=l.childrenXK}}}this.updateDomKey=Math.floor(1e8*Math.random()+1e4),t(g.a.cloneDeep(this.dataX))})},deleteLocalChildNode(e,t){let a=this.getChildCount(e);a&&this.dataX.splice(t,a)},getChildCount(e){let t=0;for(let a of this.dataX)-1!==a.parentNoKey.indexOf(e)&&t++;return t}}},nt=ot,dt=h(nt,rt,st,!1,null,null,null),ct=dt.exports,ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Upload",{attrs:{name:"files",action:e.urlT,"before-upload":e.handelManualUpload,"on-error":e.uploadError,"on-success":e.uploadSuccess,"on-exceeded-size":e.overSize,"on-preview":e.onPreview,"on-remove":e.onRemove,"on-format-error":e.onFormatError,data:e.data,"max-size":e.maxSize,"show-upload-list":!1,"with-credentials":e.withCredentials,format:e.format,multiple:e.multiple||!1,disabled:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)}},[a("Button",{class:{disabledR:e.length>0&&e.fileList.length>=e.length||Boolean(e.disabled)},attrs:{icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.t("r.selectFile")))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"img"===e.previewType&&e.fileIdList.length>0,expression:"previewType === 'img' && fileIdList.length>0"}],staticClass:"previewBoxM"},e._l(e.fileIdList,(function(t){return e.manualUpload||null===t?e._e():a("div",{key:t,staticClass:"previewImg"},[a("img",{attrs:{src:e.url+"/"+t+"/download?preview=true",alt:t}}),a("div",{staticClass:"deleteModal"},[a("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:e.t("r.fView")},on:{click:function(a){return e.fullScreenImgByDom(e.url+"/"+t+"/download?preview=true")}}}),a("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:e.t("r.delete")},on:{click:function(a){return e.deleteById(a,t)}}})],1)])})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"localImg"===e.previewType&&e.fileSrcList.length>0,expression:"previewType === 'localImg' && fileSrcList.length>0"}],staticClass:"previewBoxM"},e._l(e.fileSrcList,(function(t,i){return e.manualUpload&&null!==t?a("div",{key:"manualImg"+i,staticClass:"previewImg"},[a("img",{attrs:{src:t,alt:"manualImg"+i}}),a("div",{staticClass:"deleteModal"},[a("Icon",{staticClass:"previewExpand",attrs:{type:"ios-expand",size:"40",title:e.t("r.fView")},on:{click:function(a){return e.fullScreenImgByDom(t)}}}),a("Icon",{staticClass:"previewDelete",attrs:{type:"ios-trash-outline",size:"40",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(i)}}})],1)]):e._e()})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"localList"===e.previewType&&e.fileList.length>0,expression:"previewType === 'localList'&& fileList.length>0"}],staticClass:"customFileListM"},e._l(e.fileList,(function(t,i){return e.manualUpload&&null!==t?a("p",{key:"manualItem"+i,staticClass:"customFileListItem"},[t.name?a("Icon",{attrs:{type:e.getFileTypeIconByName(t.name)}}):e._e(),a("span",{staticClass:"upNameT",attrs:{title:e.t("r.download")},on:{click:function(a){return e.downloadManualFile(t)}}},[e._v(e._s(e.getName(t)))]),a("span",{staticClass:"btBoxJ"},[e.showPreview(t)?a("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"14",title:e.t("r.fView")},on:{click:function(a){return e.listExpand(t)}}}):e._e(),a("Icon",{staticClass:"listBtH",attrs:{type:"ios-close",size:"22",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(i)}}})],1)],1):e._e()})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:"list"===e.previewType&&e.fileDefaultList.length>0,expression:"previewType === 'list' && fileDefaultList.length>0"}],staticClass:"customFileListM"},e._l(e.fileDefaultList,(function(t,i){return e.manualUpload||null===t?e._e():a("p",{key:"defaultItem"+i,staticClass:"customFileListItem"},[a("Icon",{attrs:{type:e.getFileTypeIconByName(t.name)}}),a("span",{staticClass:"upNameT",attrs:{title:e.t("r.download")},on:{click:function(a){return e.downloadDefaultFile(t)}}},[e._v(e._s(t.name||e.t("r.file")+(i+1)))]),a("span",{staticClass:"btBoxJ"},[e.showPreview(t)?a("Icon",{staticClass:"listBtH",attrs:{type:"md-qr-scanner",size:"14",title:e.t("r.fView")},on:{click:function(a){return e.listExpand(t)}}}):e._e(),a("Icon",{staticClass:"listBtH",attrs:{type:"ios-close",size:"22",title:e.t("r.delete")},on:{click:function(t){return e.clearManualItem(i)}}})],1)],1)})),0)],1)},ut=[];function pt(e){const t=(...e)=>E.apply(this,e),a=t("r.closePreview"),i=t("r.fullImg");let l=g.a.first(document.getElementsByTagName("body")),r=document.createElement("div");r.setAttribute("class","fullScreenImgByDom"),r.innerHTML=`<div class="previewInner"><img src="${e}" alt="${i}" ><i class="ivu-icon ivu-icon-md-close" title="${a}" ></i></div>`,r.querySelector(".ivu-icon-md-close").addEventListener("click",(function(){let e=g.a.first(document.getElementsByTagName("body"));e&&e.removeChild(r)})),l.appendChild(r)}var ft={name:"uploadGroup",mixins:[et],model:{prop:"fileIdListProp",event:"on-file-id-change"},props:{fileIdListProp:{type:[Array,Number,String,File],default(){return[]}},url:{type:String,default(){return window.g&&window.g.mgrURL?window.g.mgrURL+"/web/v1/fsc/file":""}},data:{type:Object,default(){return{appId:0,moduleId:0,typeId:0}}},manualUpload:{type:Boolean,default:!1},maxSize:{type:Number,default:0},length:{type:Number,default:0},showUploadList:{type:Boolean,default:!0},withCredentials:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},format:{type:Array,default(){return[]}},showImg:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{getFileTypeIconByName:ie,fullScreenImgByDom:pt,fileSrcList:[],fileDefaultList:[]}},computed:{previewType(){return!this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"img":this.manualUpload&&this.showImg&&this.fileListItemIsIMG?"localImg":!this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?this.manualUpload||!this.showUploadList||this.showImg&&this.fileListItemIsIMG?void 0:"list":"localList"},urlT(){return this.manualUpload?"//jsonplaceholder.typicode.com/posts/":this.url},fileList:{get(){if(this.manualUpload)return this.fileIdList;{let e=[];for(let t of this.fileIdList)e.push({response:{data:[{id:t}]}});return e}},set(e){if(this.manualUpload)this.fileIdList=e;else{let t=[];for(let a of e)a.response&&a.response.data&&a.response.data[0]&&(a.response.data[0].id||0===a.response.data[0].id)&&t.push(a.response.data[0].id);this.fileIdList=t}}},fileIdList:{get(){switch(U(this.fileIdListProp)){case"Number":return[this.fileIdListProp];case"String":return-1!==this.fileIdListProp.indexOf("--")?[]:/^\d*$/.test(this.fileIdListProp)?[Number(this.fileIdListProp)]:[this.fileIdListProp];case"Array":return this.fileIdListProp.filter(e=>"--"!==e);case"File":return[this.fileIdListProp];default:return[]}},set(e){if(1===this.length){let t=g.a.first(e);this.$emit("on-file-id-change",t||0===t?t:null)}else this.$emit("on-file-id-change",g.a.cloneDeep(e))}},fileListItemIsIMG(){let e;e=this.manualUpload?this.fileList:this.fileDefaultList;for(let t of e){let e;if(e=this.manualUpload?t&&t.type:t&&t.mimeType,!e||e&&!ae(e))return!1}return!0}},watch:{fileList:{async handler(e){if("localImg"===this.previewType)e&&e.length>0?this.fileSrcList=await this.getFileSrcList(e):this.fileSrcList=[];else if(e&&e.length>0&&"localList"!==this.previewType){let t=[];for(let a of e)void 0===a.name?a.response&&a.response.data&&a.response.data[0]&&a.response.data[0].id?Pe.get(this.url+"/"+a.response.data[0].id).then(i=>{let l=g.a.cloneDeep(a);l.name=i&&i.data&&i.data.returnValue&&i.data.returnValue[0]&&i.data.returnValue[0].name||this.t("r.file")+g.a.indexOf(e,a),l.mimeType=i&&i.data&&i.data.returnValue&&i.data.returnValue[0]&&i.data.returnValue[0].mimeType||"unknown",t.push(l)}).catch(()=>{t.push({name:this.t("r.file")+g.a.indexOf(e,a)})}):t.push({name:this.t("r.unknown")}):t.push(a);this.fileDefaultList=t}else this.fileDefaultList=[]},immediate:!0,deep:!0}},methods:{clear(){this.fileList=[]},getName(e){return e.name||e.split&&g.a.last(e.split("/"))||e},async getFileSrcList(e){let t=[];for(let a of e){let e=await ee(a);t.push(e)}return t},clearManualItem(e){if(!this.disabled){let t=this.fileList;t.splice(e,1),this.fileList=t}},downloadDefaultFile(e){e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id&&window.open(this.url+"/"+e.response.data[0].id+"/download")},showPreview(e){return this.manualUpload?e.type&&ae(e.type):e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id&&e.mimeType&&ae(e.mimeType)},listExpand(e){this.manualUpload?ee(e).then(e=>{pt(e)}):pt(this.url+"/"+e.response.data[0].id+"/download?preview=true")},downloadManualFile(e){"String"===U(e)&&e.indexOf("http")>-1?window.open(e):"File"===U(e)&&ee(e).then(t=>{le(e.name,t)})},handelManualUpload(e){if(this.manualUpload){if(e){let t=te(e.name);if(this.format.length>0&&this.format.indexOf(t)<0)return j(this.t("r.wrongFileType"),this.t("r.supportType")+(this.format.length>0&&String(this.format)||this.t("r.none")),"warning"),!1;if(this.maxSize&&e.size>1024*this.maxSize)return j(this.t("r.fileIsBig"),this.t("r.supportSize")+this.maxSize+"kb","warning"),!1;let a=this.fileList;a.push(e),this.fileList=a}return!1}return!0},uploadError(e,t,a){console.warn(e),j(this.t("r.uploadError"),"","error")},uploadSuccess(e,t,a){if(e&&0===e.code){let e=this.fileList;e.push(t),this.fileList=e}else j(this.t("r.uploadFail"),e&&e.message||"","error")},overSize(e,t){j(this.t("r.fileIsBig"),this.t("r.supportSize")+this.maxSize+" kb","warning")},onFormatError(e,t){j(this.t("r.wrongFileType"),this.t("r.supportType")+(this.format.length>0&&String(this.format)||this.t("r.none")),"warning")},onPreview(e){let t=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id,a=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].mimeType;t&&("String"===U(a)&&a.indexOf("image")>-1?pt(this.url+"/"+t+"/download?preview=true"):window.open(this.url+"/"+t+"/download?preview=true"))},onRemove(e,t){let a=e&&e.response&&e.response.data&&e.response.data[0]&&e.response.data[0].id;this.deleteById(null,a)},deleteById(e,t){if(!this.disabled&&-1!==this.fileIdList.indexOf(t)){const e=this.fileIdList;let a=this.fileList;a.splice(e.indexOf(t),1),this.fileList=a}}}},mt=ft,yt=h(mt,ht,ut,!1,null,null,null),gt=yt.exports,bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabSetF"},[a("div",{staticClass:"tabSetBt",on:{click:e.labelClick}},[a("Icon",{attrs:{type:"md-settings",size:"17"}}),a("span",[e._v(e._s(e.t("r.tabSetting")))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"tabSetCard",style:{top:e.top,right:e.right,width:e.width,backgroundColor:e.bg}},[a("div",{staticClass:"topCheck"},[a("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll(t)}}},[e._v(e._s(e.t("r.all")))]),a("span",{staticStyle:{cursor:"pointer",float:"right"},on:{click:e.save}},[e._v(e._s(e.t("r.confirm")))])],1),a("CheckboxGroup",{model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},e._l(e.groupX,(function(t,i){return a("Checkbox",{key:"tabSet_"+e.sKey+i,staticClass:"setItem",attrs:{label:t&&t.label,disabled:t&&t.disabled}})})),1)],1)])},vt=[],wt={name:"tableSetting",mixins:[et],model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},sKey:{type:String,required:!0},top:{type:String,default:"30px"},right:{type:String,default:"0"},width:{type:String,default:"150px"},bg:{type:String,default:"#ccc"},defaultCheck:{type:Boolean,default:!1}},data(){return{indeterminate:!0,checkAll:!1,show:!1,groupT:[],locale:null}},computed:{groupX(){let e=this.t("r.unknown");return this.value.length>this.groupT.length&&(this.groupT=g.a.cloneDeep(this.value)),this.groupT.map(t=>{let a={label:t&&t.title||e};return t&&t.disableShowSetting&&(a.disabled=!0),a})},disabledGroup(){return this.groupX.filter(e=>e.disabled)},checkAllGroup:{get(){let e=this.t("r.unknown");return this.value.map(t=>t&&t.title||e)},set(e){let t=this.groupT.filter(t=>{for(let a of e)if(a===t.title)return!0;return!1});this.$emit("subVal",t)}}},created(){this.$root&&this.$root.$i18n&&this.$root.$i18n.locale?this.locale=this.$root.$i18n.locale:this.$root&&this.$root.$lang&&(this.locale=this.$root.$lang)},mounted(){let e,t=this.t("r.unknown");e=this.locale?localStorage.getItem(this.sKey+"_"+this.locale):localStorage.getItem(this.sKey),e?this.checkAllGroup=JSON.parse(decodeURI(e)):this.defaultCheck&&(this.checkAllGroup=this.value.filter(e=>e.showSettingCheck).map(e=>e&&e.title||t))},watch:{checkAllGroup:{handler(e){this.checkAllGroupChange(e)},immediate:!0}},methods:{labelClick(){this.show||(this.show=!0)},save(){this.locale?localStorage.setItem(this.sKey+"_"+this.locale,encodeURI(JSON.stringify(this.checkAllGroup))):localStorage.setItem(this.sKey,encodeURI(JSON.stringify(this.checkAllGroup))),this.show=!1},handleCheckAll(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=this.groupX.map(e=>e.label):this.checkAllGroup=this.disabledGroup.map(e=>e.label)},checkAllGroupChange(e){e.length===this.groupX.length?(this.indeterminate=!1,this.checkAll=!0):e.length>this.disabledGroup.length?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)}}},kt=wt,xt=h(kt,bt,vt,!1,null,null,null),St=xt.exports,Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"containerIKJ",style:e.containerStyle},[a("Input",{ref:"mapInput",class:{mapInputIKJ:e.showMap},attrs:{placeholder:e.placeholder||e.t("r.search"),disabled:e.disabled,icon:"ios-search"},model:{value:e.valueT.name,callback:function(t){e.$set(e.valueT,"name",t)},expression:"valueT.name"}}),a("div",{ref:e.vidT,style:e.mapStyle,attrs:{id:e.vidT}})],1)},Tt=[],Kt=i("5aeb"),Bt={name:"inputMap",mixins:[et],model:{prop:"valProp",event:"update-value"},props:{valProp:{type:Object,default:null},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:null},placeholder:{type:String},disabled:{type:Boolean,default:!1},showMap:{type:Boolean,default:!0}},data(){return{infoWindow:null}},computed:{valueT:{get(){let e;return e=this.valProp?this.valProp.name?g.a.cloneDeep(this.valProp):{...this.valProp,name:null}:{name:null},e},set(e){this.$emit("update-value",g.a.cloneDeep(e))}},vidT(){return"vidT"+Math.floor(1e9*Math.random())},widthT(){return g.a.isNumber(this.width)?this.width+"px":this.width},heightT(){return g.a.isNumber(this.height)?this.height+"px":this.height?this.height:g.a.isNumber(this.width)?.66*this.width+"px":"200px"},containerStyle(){return{width:this.widthT,position:"relative"}},mapStyle(){return{width:this.widthT,height:this.heightT,marginTop:"6px",opacity:this.showMap?1:0,position:this.showMap?"relative":"absolute",top:this.showMap?0:"-10000px"}}},mounted(){this.checkHeight()},methods:{checkHeight(){this.$refs[this.vidT]&&this.$refs[this.vidT].clientHeight<10||!this.$refs[this.vidT]?He(this.checkHeight,100):He(this.initMap,1e3)},initMap(){Kt["lazyAMapApiLoaderInstance"].load().then(()=>{this.mapX=new AMap.Map(this.vidT,{}).on("complete",()=>{this.geoCoder=new AMap.Geocoder,this.valProp&&this.valProp.lng&&this.valProp.lat&&this.createMarker({lng:this.valProp.lng,lat:this.valProp.lat,name:this.valProp.name}),new AMap.Autocomplete({input:this.$refs.mapInput.$el.children[1]}).on("select",e=>{e&&e.poi&&e.poi.name&&(e.poi.location&&e.poi.location.lng&&e.poi.location.lat?(this.createMarker({name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}),this.valueT={name:e.poi.name,lng:e.poi.location.lng,lat:e.poi.location.lat}):this.mapX.setCity(e.poi.name,()=>{let t=this.mapX.getCenter();this.createMarker({name:e.poi.name,lng:t.lng,lat:t.lat}),this.valueT={name:e.poi.name,lng:t.lng,lat:t.lat}})),this.$emit("on-change",this.valueT)})})})},createMarker({lng:e,lat:t,name:a}){this.mapX.clearMap();let i=new AMap.LngLat(e,t),l=new AMap.Marker({map:this.mapX,position:i,draggable:!0});this.mapX.add(l),this.getAddress(e,t),l.on("dragend",()=>{let i=l.getPosition();this.valueT={name:a||null,lng:i.lng,lat:i.lat},this.getAddress(e,t)}),l.on("click",e=>{this.infoWindow&&this.infoWindow.open(this.mapX,e.target.getPosition())}),this.mapX.setFitView()},getAddress(e,t){this.geoCoder.getAddress([e,t],(e,t)=>{"complete"===e&&"OK"===t.info&&t.regeocode&&t.regeocode.formattedAddress?this.infoWindow=new AMap.InfoWindow({isCustom:!0,content:'<div class="mapInfoWindowIKJ">'+t.regeocode.formattedAddress+"</div>",offset:new AMap.Pixel(16,-45),closeWhenClickMap:!0}):(this.infoWindow=null,console.warn("地图获取位置信息失败",t))})}}},Lt=Bt,$t=h(Lt,Ct,Tt,!1,null,null,null),It=$t.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tableBtnsG",class:{disabled:e.disabled},attrs:{title:e.title||e.t("r.button")},on:{click:e.onClick}},[a("Icon",{attrs:{type:e.icon,size:e.size}})],1)},Ot=[],At={name:"tableIconBtn",mixins:[et],props:{icon:{type:String,default(){return"md-radio-button-on"}},title:{type:String},has:{type:String},disabled:{type:Boolean,default(){return!1}},size:{type:Number,default(){return 24}}},methods:{onClick(e){this.disabled||this.$emit("click",e)}}},Dt=At,Rt=h(Dt,_t,Ot,!1,null,null,null),Vt=Rt.exports,Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"has",rawName:"v-has",value:e.has,expression:"has"}],staticClass:"tabTopBtnsT",class:{disabled:e.disabled},style:{"font-size":e.txtSize},on:{click:e.click}},[a("Icon",{attrs:{type:e.icon,size:e.size}}),e._v(" "+e._s(e.name||e.t("r.button"))+" ")],1)},Nt=[],Gt={name:"iconTxtBtn",mixins:[et],props:{name:{type:String},icon:{type:String,default:"md-download"},size:{type:Number,default:17},disabled:{type:Boolean,default:!1},has:{type:String}},computed:{txtSize(){return Math.floor(this.size/17*12)+"px"}},methods:{click(e){this.disabled||this.$emit("click",e)}}},Ft=Gt,Pt=h(Ft,Mt,Nt,!1,null,null,null),Et=Pt.exports,Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:e.getBg},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"contentX"},[e._t("default")],2),a("div",{staticClass:"arrowA"},[a("div",{staticClass:"btA",on:{click:function(t){e.show=!e.show}}},[a("Icon",{attrs:{type:e.show?"ios-arrow-up":"ios-arrow-down",size:"20"}})],1)])])},zt=[],Ht={name:"showHidePanel",props:["bg"],data(){return{show:!0}},computed:{getBg(){return this.show?"background:"+this.bg||!1:""}}},jt=Ht,Ut=h(jt,Xt,zt,!1,null,null,null),Wt=Ut.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Select",{style:e.labelSelectStyle,attrs:{disabled:Boolean(e.disabled),transfer:""},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}},e._l(e.selectOption,(function(t,i){return a("Option",{key:"selectInputOp"+t.value+i,style:{textAlign:e.labelTextAlign},attrs:{value:t.val}},[e._v(e._s(t.label))])})),1),a("Input",{style:e.inputStyle,attrs:{placeholder:e.placeholder||e.t("r.pInput"),clearable:e.clearable,disabled:Boolean(e.disabled)},on:{"on-change":e.inputChange},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)},Jt=[],Yt={name:"selectInput",mixins:[et],model:{prop:"value",event:"subVal"},props:{value:{type:Object,default(){return{key:null,val:null}}},labelWidth:{type:Number,default:160},labelTextAlign:{type:String,default:"right"},itemWidth:{type:Number,default:200},selectOption:{type:Array,default(){return[]}},placeholder:{type:String},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{selectVal:{get(){return this.value&&this.value.key||null},set(e){let t={key:e,val:null};this.selectVal&&this.selectVal!==e&&(t.beforeKey=this.selectVal),this.$emit("subVal",t),this.$emit("on-change",t)}},inputVal:{get(){return this.value&&this.value.val||null},set(e){let t={key:this.selectVal,val:e};this.$emit("subVal",t)}},labelSelectStyle(){return{width:this.labelWidth+"px",textAlign:this.labelTextAlign}},inputStyle(){return{width:this.itemWidth+"px"}}},methods:{inputChange(e){e&&e.target&&void 0!==e.target.value&&this.handleChange({key:this.selectVal,val:e.target.value},this)},handleChange:g.a.debounce((e,t)=>{t.$emit("on-change",e)},500)}},Qt=Yt,Zt=h(Qt,qt,Jt,!1,null,null,null),ea=Zt.exports,ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Cascader",{ref:"cascaderRT",attrs:{data:e.data,"change-on-select":"",transfer:"",disabled:e.disabled,"render-format":e.format,placeholder:e.placeholder||e.t("r.pSelect"),filterable:e.filterable},on:{"on-change":e.onChange},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}})},aa=[],ia={name:"asyncCascader",mixins:[et],model:{prop:"valProp",event:"subVal"},props:{url:{type:String,default(){return window.g&&window.g.mgrURL?window.g.mgrURL+"/web/v1/umc/orgs":""}},valProp:{type:[Array,Number,String]},optionVal:{type:String,default:"id"},optionLabel:{type:String,default:"name"},optionFilter:{type:Function},separator:{type:String,default:"/"},onlyLastVal:{type:Boolean,default:!0},onlyLastLabel:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default:!1},placeholder:{type:String},disabled:{type:Boolean,default:!1}},data(){return{data:[]}},computed:{val:{get(){let e=this.valProp;return g.a.isArray(e)?[].concat(e):g.a.isNumber(e)?ne({group:this.data,condition:t=>t.value===e,pathKey:"value"}):g.a.isString(e)?e.split(this.separator):null===e?[]:void 0},set(e){if(this.onlyLastVal)g.a.isEmpty(e)?(this.$emit("subVal",null),this.$emit("on-label-change",null)):this.$emit("subVal",g.a.last(e));else{if(g.a.isEqual(this.valProp,e))return;this.$emit("subVal",[].concat(e))}}}},created(){this.getData()},methods:{getData(){this.url?this.$fetch.get(this.url).then(e=>{let t=null;e&&e.data&&e.data.records?t=e.data.records:e&&e.data?t=e.data:e&&(t=e),t?("Function"===U(this.optionFilter)&&(t=this.optionFilter(t)),this.data=this.dataFilter(t)):console.warn("级联数据错误，不能使用")}).catch(()=>{console.warn("拉取级联数据出错")}):console.error("没有用于拉取级联数据的有效接口地址")},dataFilter(e){let t=[];for(let a of e){let e={value:a[this.optionVal],label:a[this.optionLabel]};a.children&&!g.a.isEmpty(a.children)&&(e.children=this.dataFilter(a.children)),t.push(e)}return t},format(e,t){return this.onlyLastLabel?g.a.last(e):e.join(this.separator)},onChange(e,t){let a=null;g.a.isEmpty(t)||(a=t.map(e=>e.label).join(this.separator)),this.$emit("on-label-change",a)}}},la=ia,ra=h(la,ta,aa,!1,null,null,null),sa=ra.exports,oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:e.editorId}})},na=[],da=i("8eed"),ca=i.n(da),ha=i("efde"),ua=i.n(ha);const{$:pa,BtnMenu:fa}=ca.a;var ma={name:"Editor",mixins:[et],model:{prop:"value",event:"input"},props:{value:{type:String,default:""},valueType:{type:String,validator:e=>ce(e,["html","text"]),default:"html"},focus:{type:Boolean,default:!1},changeInterval:{type:Number,default:800},colors:{type:Array,default(){return["#000000","#eeece0","#1c487f","#4d80bf","#c24f4a","#8baa4a","#7b5ba1","#46acc8","#f9963b","#ffffff"]}},fontNames:{type:Array,default(){return["黑体","仿宋","楷体","标楷体","华文仿宋","华文楷体","宋体","微软雅黑","Arial","Tahoma","Verdana","Times New Roman","Courier New"]}},uploadImgMaxSize:{type:Number,default:104857.6},uploadImgMaxLength:{type:Number,default:10},uploadImgShowBase64:{type:Boolean,default:!0},uploadImgServe:{type:Object},showLinkImg:{type:Boolean,default:!0},placeholder:{type:String,default:"请输入正文"},previewClass:{type:String,default:"r-editor-view"},disabled:{type:Boolean,default:!1}},data(){return{editor:null,valueT:""}},computed:{editorId(){return"editor"+this._uid}},created(){let e=g.a.cloneDeep(ua.a.whiteList);for(let t in e)e.hasOwnProperty(t)&&"Array"===U(e[t])&&e[t].unshift("style");this.xssP=new ua.a.FilterXSS({whiteList:e})},mounted(){this.editor=new ca.a("#"+this.editorId);const e=this.t("r.preview"),t=this.previewHandler;class a extends fa{constructor(t){const a=pa(`<div class="w-e-menu" title="${e}"><i class="ivu-icon ivu-icon-ios-eye" style="font-size: 22px;"></i></div>`);super(a,t)}clickHandler(){t()}tryChangeActive(){}}if(this.editor.menus.extend("viewMenuKey",a),this.editor.config.placeholder=this.placeholder,this.editor.config.zIndex=100,this.editor.config.menus=["head","bold","fontSize","fontName","italic","underline","indent","lineHeight","foreColor","backColor","link","list","justify","quote","emoticon","image","table","splitLine","undo","redo","viewMenuKey"],this.editor.config.focus=this.focus,this.editor.config.colors=this.colors,this.editor.config.fontNames=this.fontNames,this.editor.config.uploadImgMaxSize=this.uploadImgMaxSize,this.editor.config.uploadImgMaxLength=this.uploadImgMaxLength,this.editor.config.showLinkImg=this.showLinkImg,this.editor.config.menuTooltipPosition="down","Object"===U(this.uploadImgServe)||!1===this.uploadImgShowBase64){let e;this.editor.config.uploadImgShowBase64=!1,e="Object"===U(this.uploadImgServe)?g.a.cloneDeep(this.uploadImgServe):{},"Function"===U(e.customUploadImg)?this.editor.config.customUploadImg=e.customUploadImg:this.editor.config.customUploadImg=(t,a)=>{e=Object.assign({params:{},url:window&&window.g&&window.g.mgrURL+"/web/v1/fsc/file"||""},e);let i=Object.assign({appId:0,moduleId:0,typeId:0},e.params),l=new FormData;for(let e in i)i.hasOwnProperty(e)&&null!==i[e]&&l.append(e,i[e]);for(let e of t)l.append("files",e);Pe.post(e.url,l,null,[],{spain:!0,headers:{"Content-Type":"multipart/form-data"}}).then(t=>{if(t&&t.data&&"Array"===U(t.data))for(let i of t.data)me(i.id)&&a(`${e.url}/${i.id}/download`);else this.$swal(this.t("r.uploadFail"),t&&t.message||"","error")}).catch(()=>{this.$swal(this.t("r.uploadError"),"","error")})},this.editor.config.withCredentials=!0}else this.editor.config.uploadImgShowBase64=this.uploadImgShowBase64;this.editor.config.customAlert=e=>{j.apply(this,[this.t("r.uploadFail"),e||"","warning"])},this.editor.config.onchange=e=>{let t=this.editor.txt.text(),a=this.xssP.process(e);this.valueT="html"===this.valueType?a:t,this.value!==this.valueT&&(this.$emit("input","html"===this.valueType?a:t),this.$emit("on-change","html"===this.valueType?a:t))},this.editor.config.onchangeTimeout=this.changeInterval,this.editor.create(),this.value&&this.editor.txt.html(this.xssP.process(this.value)),He(()=>{this.$watch(()=>this.disabled,e=>{e?this.editor.$textElem.attr("contenteditable",!1):this.editor.$textElem.attr("contenteditable",!0)},{immediate:!0}),this.$watch(()=>this.value,e=>{e!==this.valueT&&this.setHtml(e)})},10)},beforeDestroy(){let e=document.getElementById(this.editorId+"preview");e&&document.getElementsByTagName("body")[0].removeChild(e),this.editor.destroy(),this.editor=null},methods:{setHtml(e){this.editor.txt.html(this.xssP.process(e))},previewHandler(){const e=this.editorId+"preview";let t=document.getElementById(e),a=localStorage.getItem("editorPreviewW")||300,i=localStorage.getItem("editorPreviewH")||500;if(t){let e=t.children[0].children[1].children[0],l=t.children[0].children[1];e.innerHTML=this.value,e.style.width=a+"px",l.style.height=i+"px",t.style.display="block"}else{const l=document.getElementsByTagName("body");t=document.createElement("div"),t.setAttribute("id",e),t.setAttribute("class","editor-preview-mask"),t.innerHTML=`<div class="editor-preview-body"><div class="editor-preview-head"><div><span>宽</span><input type="number" value="${a}" min="200"><span>高</span><input type="number" value="${i}" min="300"></div><i class="ivu-icon ivu-icon-md-close"></i></div><div class="editor-preview-out-wall"><div class="editor-preview-wall ${this.previewClass}"></div></div></div>`;let r=t.children[0].children[1],s=t.children[0].children[1].children[0],o=t.children[0].children[0].children[0].children[1];const n=40,d=70,c=e=>{if(e&&"keyup"===e.type){let t=!1;if(t=e.key?"Enter"!==e.key:13!==e.keyCode,t)return}let t=e.target.value;if(t=Number(t),s.style&&s.style.width===t+"px")return;const a=l[0].clientWidth;t<200?(t=200,e.target.value=200):t>a-n&&(t=a-n,e.target.value=a-n),s.style.width=t+"px",localStorage.setItem("editorPreviewW",t)};o.addEventListener("blur",c),o.addEventListener("keyup",c);let h=t.children[0].children[0].children[0].children[3];const u=e=>{if(e&&"keyup"===e.type){let t=!1;if(t=e.key?"Enter"!==e.key:13!==e.keyCode,t)return}let t=e.target.value;if(t=Number(t),r.style&&r.style.height===t+"px")return;const a=l[0].clientHeight;t<300?(t=300,e.target.value=300):t>a-d&&(t=a-d,e.target.value=a-d),r.style.height=t+"px",localStorage.setItem("editorPreviewH",t)};h.addEventListener("blur",u),h.addEventListener("keyup",u);let p=t.children[0].children[0].children[1];p.addEventListener("click",e=>{t.style.display="none"}),s.innerHTML=this.value,s.style.width=a+"px",r.style.height=i+"px",l[0].append(t)}}}},ya=ma,ga=h(ya,oa,na,!1,null,null,null),ba=ga.exports,va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ar-cascader",e._g(e._b({ref:"alCascaderRefLK",staticClass:"alCascaderMC",attrs:{level:e.level,disabled:e.disabled,placeholder:e.placeholder||e.t("r.pSelect"),transfer:e.transfer,searchable:e.filterable},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},"ar-cascader",e.$attrs,!1),e.$listeners))},wa=[],ka={name:"alCascaderMC",mixins:[et],model:{prop:"value",event:"subVal"},props:{value:{type:[String,Number,Array],default(){return null}},level:{type:[Number,String],validator:e=>ce(String(e),["0","1","2"]),default(){return 2}},disabled:{type:Boolean,default(){return!1}},transfer:{type:Boolean,default(){return!0}},filterable:{type:Boolean,default(){return!0}},separator:{type:String,default(){return"/"}},placeholder:{type:String}},computed:{valueT:{get(){if(this.value&&(g.a.isNumber(this.value)||g.a.isString(this.value))){let e=String(this.value).trim(),t=/^\d*$/;if(t.test(e)){let t=/000000$/,a=/^5002/,i=e.substr(0,2)+"0000",l=e.substr(0,4)+"00",r=e.substr(0,6);return a.test(e)&&(l="500100"),t.test(e)?[i,l,r]:[i,l,r,e]}return-1!==e.indexOf(this.separator)?e.split(this.separator):[e]}if(g.a.isArray(this.value))return g.a.cloneDeep(this.value);{let e=this.$refs.alCascaderRefLK;return e&&(e.select=[]),[]}},set(e){if(g.a.isEmpty(e))this.$emit("subVal",null),this.$emit("on-name-change",null);else{let t=g.a.last(e),a=null,i=null;if(t&&(a=t.code),a&&a.length<12&&(a+="000000"),g.a.isArray(e)&&(i=e.map(e=>e.name).join(this.separator)),a){if(a===this.value)return;this.$emit("subVal",a)}i&&this.$emit("on-name-change",i)}}}}},xa=ka,Sa=h(xa,va,wa,!1,null,null,null),Ca=Sa.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.initTree?a("Tree",{staticClass:"checkboxTreeGA",attrs:{id:e.id,data:e.dataT,render:e.renderContent,"show-checkbox":""},on:{"on-check-change":e.updateVal,"on-toggle-expand":e.changeStyle}}):e._e()},Ka=[],Ba={name:"checkboxTree",model:{prop:"value",event:"subVal"},props:{value:{type:Array,default(){return[]}},data:{type:Array,default(){return[]}},expandAll:{type:Boolean,default:!1},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},inlineLeaf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{initTree:!0,dataT:[],id:"CKT"+Math.floor(1e7*Math.random()+1e7),valueE:[]}},computed:{collectValT(){return"Array"===U(this.collectVal)?this.collectVal:"String"===U(this.collectVal)?[this.collectVal]:[]},valueT(){return"Array"===U(this.value)?this.value:[]}},watch:{data:{handler(e){this.initTree=!1;let t=[];this.initData(e,t),this.dataT=t,this.$nextTick((function(){this.initTree=!0,this.inlineLeaf&&this.$nextTick(this.changeStyle)}))},immediate:!0,deep:!0},valueT(e){let t,a="s";"Array"===U(this.collectVal)&&this.collectVal[0]?(t=this.collectVal[0],a="a"):t=this.collectVal,t&&JSON.stringify(e)!==JSON.stringify(this.valueE)?(ke({group:this.dataT,condition:e=>!0===e.checked,key:"checked",val:!1}),ke("a"===a?{group:this.dataT,condition:a=>-1!==g.a.findIndex(e,[t,a[t]]),key:"checked",val:!0}:{group:this.dataT,condition:a=>-1!==e.indexOf(a[t]),key:"checked",val:!0})):this.valueE=[]},disabled:{handler(e){ke({group:this.dataT,condition:t=>t.disableCheckbox!==e,key:"disableCheckbox",val:e}),this.inlineLeaf&&this.$nextTick(this.changeStyle)},immediate:!0}},methods:{initData(e,t=[]){for(let a of e){let e=!1;e=this.collectValT.length>1?void 0!==g.a.find(this.valueT,e=>e[g.a.head(this.collectValT)]===a[g.a.head(this.collectValT)]):-1!==this.valueT.indexOf(a[g.a.head(this.collectValT)]);let i={name:a[this.label],expand:Boolean(this.expandAll||a.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)i[t]=a[t];t.push(i),a.children&&a.children.length>0&&(i.children=[],this.initDataB(a.children,i.children))}},initDataB(e,t=[]){for(let a of e){let e=!1;e=this.collectValT.length>1?void 0!==g.a.find(this.valueT,e=>e[g.a.head(this.collectValT)]===a[g.a.head(this.collectValT)]):-1!==this.valueT.indexOf(a[g.a.head(this.collectValT)]);let i={name:a[this.label],expand:Boolean(this.expandAll||a.expand),checked:e,disableCheckbox:this.disabled};for(let t of this.collectValT)i[t]=a[t];t.push(i),a.children&&a.children.length>0&&(i.children=[],this.initData(a.children,i.children))}},renderContent(e,{root:t,node:a,data:i}){let l="",r=!0;if(i.children&&i.children.length>0){for(let e of i.children)if(void 0!==e.children){r=!1;break}r&&this.inlineLeaf&&(l="inlineChildXA")}return e("div",{style:{display:"inline-block",width:"100%"},class:l},[e("span",{style:{fontWeight:i.children?"bold":"normal"}},i.name)])},changeStyle(e){if(e)return void(e.expand&&this.$nextTick(this.changeStyle));let t=document.querySelectorAll("#"+this.id+" .inlineChildXA");if(t.length>0)for(let a of t){let e=a.parentNode,t=e.nextElementSibling;if(!t)return;if("BR"!==t.tagName){let a=e.parentNode,i=document.createElement("br");a.insertBefore(i,t),t=i.nextElementSibling,-1===t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}while(t.nextElementSibling)t=t.nextElementSibling,-1===t.className.indexOf("inlineTreeNodeF")&&t.setAttribute("class",t.className+" inlineTreeNodeF")}},updateVal(e){let t=[];if(this.leaf){for(let a of e)if(!a.children)if("Array"===U(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];t.push(e)}else t.push(a[this.collectVal])}else for(let a of e)if("Array"===U(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=a[t];t.push(e)}else t.push(a[this.collectVal]);this.valueE=t,this.$emit("subVal",t),this.$emit("on-change",g.a.cloneDeep(t))}}},La=Ba,$a=h(La,Ta,Ka,!1,null,null,null),Ia=$a.exports,_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"boxLPA"},[a("div",{staticClass:"headerJ"},[a("div",{staticClass:"firstT borderBoxAS"},[e._v(e._s(e.firstTitle||e.t("r.level.1")))]),a("div",{staticClass:"secondT borderBoxAS"},[e._v(e._s(e.secondTitle||e.t("r.level.2")))])]),e._l(e.dataT,(function(t,i){return a("div",{key:"checkboxJ"+i,staticClass:"bodyJ"},[a("div",{staticClass:"firstCol borderBoxAS"},[a("Checkbox",{attrs:{indeterminate:t.indeterminate,disabled:e.disabled},on:{"on-change":function(a){return e.checkAll(t,a)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(e._s(t[e.label]))])],1),a("div",{staticClass:"secondCol borderBoxAS"},e._l(t.children,(function(t,i){return a("div",{key:"secItem"+i,staticClass:"secItem"},[a("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"secItem.checked"}},[e._v(e._s(t[e.label]))])],1)})),0)])}))],2)},Oa=[],Aa={name:"checkboxGroupTwoClass",mixins:[et],model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String},secondTitle:{type:String},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=g.a.cloneDeep(this.data),t=g.a.cloneDeep(this.leafChecked);for(let a of e){let e=0;if(a.children&&!g.a.isEmpty(a.children))for(let i of a.children){for(let a=0,l=t.length;a<l;a++)if("Object"===U(t[a])){let l=!0;for(let e of this.collectVal)if(t[a][e]!==i[e]){l=!1;break}if(l){i.checked=!0,e++,t.splice(a,1);break}}else if(t[a]===i[this.collectVal]){i.checked=!0,e++,t.splice(a,1);break}!i.checked&&(i.checked=!1)}0===e?(a.checked=!1,a.indeterminate=!1):a.children&&e===a.children.length?(a.checked=!0,a.indeterminate=!1):(a.checked=!1,a.indeterminate=!0)}return e}},watch:{value:{handler(e,t){g.a.isEqual(this.leafChecked,e)||g.a.isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkAll(e,t){if(e.children)for(let a of e.children)a.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let a=[];for(let i of e){if(!t&&!this.leaf&&i.checked&&!1===i.indeterminate)if("Array"===U(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=i[t];a.push(e)}else"String"===U(this.collectVal)&&a.push(i[this.collectVal]);if(i.children)for(let e of i.children)if(e.checked)if("Array"===U(this.collectVal)){let t={};for(let a of this.collectVal)t[a]=e[a];a.push(t)}else"String"===U(this.collectVal)&&a.push(e[this.collectVal])}t?(this.leafChecked=a,this.leaf?(this.$emit("subVal",a),this.$emit("on-change",g.a.cloneDeep(a))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",a),this.$emit("on-change",g.a.cloneDeep(a)))}}},Da=Aa,Ra=h(Da,_a,Oa,!1,null,null,null),Va=Ra.exports,Ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"boxLPB"},[a("div",{staticClass:"headerF"},[a("div",{staticClass:"firstT borderBoxKa"},[e._v(e._s(e.firstTitle||e.t("r.level.1")))]),a("div",{staticClass:"secondT borderBoxKa"},[e._v(e._s(e.secondTitle||e.t("r.level.2")))]),a("div",{staticClass:"thirdT borderBoxKa"},[e._v(e._s(e.thirdTitle||e.t("r.level.3")))])]),e._l(e.dataT,(function(t,i){return a("div",{key:"checkboxJ"+i,staticClass:"bodyF"},[a("div",{staticClass:"firstCol borderBoxKa"},[a("Checkbox",{attrs:{indeterminate:t.indeterminate,disabled:e.disabled},on:{"on-change":function(a){return e.checkChangeFirst(t,a)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v(e._s(t[e.label]))])],1),a("div",{staticClass:"rightBoxAL"},e._l(t.children,(function(t,i){return a("div",{key:"secItem"+i,staticClass:"rightBoxInner"},[a("div",{staticClass:"secondCol borderBoxKa"},[a("Checkbox",{attrs:{indeterminate:t.indeterminate,disabled:e.disabled},on:{"on-change":function(a){return e.checkChangeSecond(t,a)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"secItem.checked"}},[e._v(e._s(t[e.label]))])],1),a("div",{staticClass:"thirdCol borderBoxKa"},e._l(t.children,(function(t,i){return a("div",{key:"thirdItem"+i,staticClass:"thirdItem"},[a("Checkbox",{attrs:{disabled:e.disabled},on:{"on-change":e.updateDataT},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"thirdItem.checked"}},[e._v(e._s(t[e.label]))])],1)})),0)])})),0)])}))],2)},Na=[],Ga={name:"checkboxGroupThreeClass",mixins:[et],model:{prop:"value",event:"subVal"},props:{data:{type:Array,default(){return[]}},value:{type:Array,default(){return[]}},firstTitle:{type:String},secondTitle:{type:String},thirdTitle:{type:String},label:{type:String,default:"name"},collectVal:{type:[String,Array],default:"id"},leaf:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{leafChecked:[]}},computed:{dataT(){let e=g.a.cloneDeep(this.data),t=g.a.cloneDeep(this.leafChecked);for(let a of e){let e=0,i=0;if(a.children&&!g.a.isEmpty(a.children))for(let l of a.children){let a=0;if(l.children&&!g.a.isEmpty(l.children))for(let e of l.children){for(let i=0,l=t.length;i<l;i++)if("Object"===U(t[i])){let l=!0;for(let a of this.collectVal)if(t[i][a]!==e[a]){l=!1;break}if(l){e.checked=!0,a++,t.splice(i,1);break}}else if(t[i]===e[this.collectVal]){e.checked=!0,a++,t.splice(i,1);break}!e.checked&&(e.checked=!1)}0===a?(l.checked=!1,l.indeterminate=!1):l.children&&a===l.children.length?(l.checked=!0,l.indeterminate=!1,e++):(l.checked=!1,l.indeterminate=!0,i++)}0===e&&0===i?(a.checked=!1,a.indeterminate=!1):a.children&&e===a.children.length?(a.checked=!0,a.indeterminate=!1):(a.checked=!1,a.indeterminate=!0)}return e}},watch:{value:{handler(e,t){g.a.isEqual(this.leafChecked,e)||g.a.isEqual(e,t)||(this.leafChecked=e)},immediate:!0,deep:!0}},methods:{checkChangeFirst(e,t){if(e.children)for(let a of e.children)if(a.checked=t,a.children)for(let e of a.children)e.checked=t;this.updateDataT()},checkChangeSecond(e,t){if(e.children)for(let a of e.children)a.checked=t;this.updateDataT()},updateDataT(){this.getLeafChecked(this.dataT,!0)},getLeafChecked(e,t){let a=[];for(let i of e){if(!t&&!this.leaf&&i.checked&&!1===i.indeterminate)if("Array"===U(this.collectVal)){let e={};for(let t of this.collectVal)e[t]=i[t];a.push(e)}else"String"===U(this.collectVal)&&a.push(i[this.collectVal]);if(i.children)for(let e of i.children){if(!t&&!this.leaf&&e.checked&&!1===e.indeterminate)if("Array"===U(this.collectVal)){let t={};for(let a of this.collectVal)t[a]=e[a];a.push(t)}else"String"===U(this.collectVal)&&a.push(e[this.collectVal]);if(e.children)for(let t of e.children)if(t.checked)if("Array"===U(this.collectVal)){let e={};for(let a of this.collectVal)e[a]=t[a];a.push(e)}else"String"===U(this.collectVal)&&a.push(t[this.collectVal])}}t?(this.leafChecked=a,this.leaf?(this.$emit("subVal",a),this.$emit("on-change",g.a.cloneDeep(a))):this.$nextTick((function(){this.getLeafChecked(this.dataT)}))):(this.$emit("subVal",a),this.$emit("on-change",g.a.cloneDeep(a)))}}},Fa=Ga,Pa=h(Fa,Ma,Na,!1,null,null,null),Ea=Pa.exports,Xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.showPop,expression:"showPop"}],staticClass:"fullScreenPopBoxAM"},[a("div",{staticClass:"headerAM",style:{color:e.headerColor,backgroundColor:e.headerBg,fontSize:e.hFontSize}},[a("span",{staticClass:"headerTxtAM"},[e._v(e._s(e.title||e.t("r.title")))]),a("header-bt",{attrs:{icon:"md-return-left"},on:{click:e.close}},[e._v(e._s(e.t("r.back")))])],1),a("div",{staticClass:"contentAM"},[e._t("default")],2)])},za=[],Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{headerBtCTM:!0,withIconCTM:e.icon||e.withIcon,disabled:e.disabled},style:{color:e.color,borderLeftColor:e.borderColor},on:{click:e.click}},[e.icon?a("Icon",{attrs:{size:e.iconSize,type:e.icon}}):e._e(),e._t("default")],2)},ja=[],Ua={name:"headerBt",props:{icon:{type:String},withIcon:{type:Boolean,default:!1},iconSize:{type:[Number,String],default:18},color:{type:String,default:"inherit"},borderColor:{type:String,default:"#fff"},disabled:{type:Boolean,default:!1}},methods:{click(e){this.disabled||this.$emit("click",e)}}},Wa=Ua,qa=h(Wa,Ha,ja,!1,null,null,null),Ja=qa.exports,Ya={name:"fullScreenPop",mixins:[et],components:{headerBt:Ja},props:{title:{type:String},headerColor:{type:String},headerBg:{type:String},headerFontSize:{type:[String,Number],default:12}},data(){return{showPop:!1}},computed:{hFontSize(){return"Number"===U(this.headerFontSize)?this.headerFontSize+"px":this.headerFontSize}},methods:{open(){this.showPop=!0,this.$emit("on-open")},close(e){this.showPop=!1,this.$emit("on-close",!0===e)}}},Qa=Ya,Za=h(Qa,Xa,za,!1,null,null,null),ei=Za.exports,ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{key:e.formReRenderKey,ref:"formGroupXRef",staticClass:"formXN",attrs:{model:e.valGroup,rules:e.formRulesT,"label-width":e.labelWidth,inline:e.inline,"show-message":e.showMessage}},[a("FormItem",{staticStyle:{display:"none"}},[a("input",{attrs:{type:"text"}})]),e._l(e.formDataT,(function(t,i){var l;return e.getFormItemIfVal(t)?a("FormItem",{key:"formItem"+i,staticClass:"relativeBox",class:(l={withInfo:Boolean(t.info),withTitle:Boolean(t.title),inlineFormItemXN:e.inline,noLabel:"selectInput"===t.type},l[t.class]=t.class,l),style:e.formStyle,attrs:{label:"radio"!==t.type&&"checkbox"!==t.type?t.label:" ",prop:t.key||""}},["txt"===t.type?a("span",{class:{likeInputX:t.likeInput}},[e._v(e._s(t.valKey?e.valGroup[t.valKey]||"无":t.val))]):"inputNumber"===t.type?a("InputNumber",{style:e.itemStyle,attrs:{max:t.max||0===t.max?t.max:1/0,min:t.min||0===t.min?t.min:-1/0,precision:t.precision,step:t.step||1,placeholder:t.placeholder||e.t("r.pInput"),disabled:Boolean(t.disabled)||e.disabled,readonly:Boolean(t.readonly),editable:!1!==t.editable,"active-change":Boolean(t.activeChange),clearable:!1!==t.clearable},on:{"on-blur":function(a){return e.itemChange(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}}):"input"===t.type?a("Input",{style:e.itemStyle,attrs:{maxlength:t.maxLength||null,placeholder:t.placeholder||e.t("r.pInput"),disabled:Boolean(t.disabled)||e.disabled,clearable:!1!==t.clearable},on:{"on-blur":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}}):"select"===t.type?a("Select",{style:e.itemStyle,attrs:{filterable:(!0===t.filterable||!1===t.filterable)&&t.filterable,disabled:Boolean(t.disabled)||e.disabled,multiple:Boolean(t.multiple),placeholder:t.placeholder||e.t("r.pSelect"),transfer:"",clearable:!1!==t.clearable},on:{"on-clear":function(a){return e.clearTempKeyItem(a,t.tempKey)},"on-change":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}},e._l(t.options,(function(e,i){return a("Option",{key:"option-"+t.key+i,attrs:{value:e.val,label:e.label||e.val,disabled:!!e.disabled}})})),1):"selectInput"===t.type?a("select-input",{attrs:{"label-width":e.labelWidth,"item-width":e.itemWidth,"select-option":t.options||[],placeholder:t.placeholder||e.t("r.pInput"),clearable:!1!==t.clearable,disabled:Boolean(t.disabled)||e.disabled},on:{"on-change":e.onSelectInputChange},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}}):"alCascader"===t.type?a("al-cascader-m-c",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{level:t.level||0===t.level?t.level:2,disabled:Boolean(t.disabled)||e.disabled,filterable:!1!==t.filterable,placeholder:t.placeholder||e.t("r.pSelect"),"change-on-select":Boolean(t.changeOnSelect)},on:{"on-name-change":function(a){return e.alNameChange(a,t)}},model:{value:e.valGroup[t.key],callback:function(a){e.$set(e.valGroup,t.key,a)},expression:"valGroup[item.key]"}}):"asyncCascader"===t.type?a("async-cascader",{style:e.itemStyle,attrs:{url:t.url||e.mgrUrl+"/web/v1/umc/orgs","option-val":t.optionVal||"id","option-label":t.optionLabel||"name","option-filter":t.optionFilter||null,"only-last-val":!1!==t.onlyLastVal,"only-last-label":!1!==t.onlyLastLabel,separator:t.separator||"/",placeholder:t.placeholder||e.t("r.pSelect"),filterable:Boolean(t.filterable),disabled:Boolean(t.disabled)||e.disabled},on:{"on-label-change":function(a){return e.asyncLabelChange(a,t)}},model:{value:e.valGroup[t.key],callback:function(a){e.$set(e.valGroup,t.key,a)},expression:"valGroup[item.key]"}}):"radio"===t.type?a("Radio",{attrs:{disabled:Boolean(t.disabled)||e.disabled},on:{"on-change":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.valGroup[t.key],callback:function(a){e.$set(e.valGroup,t.key,a)},expression:"valGroup[item.key]"}},[e._v(e._s(t.label))]):"radioGroup"===t.type?a("RadioGroup",{style:e.itemStyle,attrs:{type:t.buttonType?"button":null},on:{"on-change":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}},e._l(t.options,(function(i){return a("Radio",{key:"radioItem"+i.val,attrs:{label:i.val,border:Boolean(t.itemBorder),disabled:Boolean(t.disabled)||e.disabled||i.disabled}},[i.icon&&!t.buttonType?a("Icon",{attrs:{type:i.icon}}):e._e(),a("span",[e._v(e._s(i.label||i.val))])],1)})),1):"checkbox"===t.type?a("Checkbox",{attrs:{disabled:!!t.disabled},on:{"on-change":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.valGroup[t.key],callback:function(a){e.$set(e.valGroup,t.key,a)},expression:"valGroup[item.key]"}},[e._v(e._s(t.label))]):"checkboxGroup"===t.type?a("CheckboxGroup",{style:e.itemStyle,on:{"on-change":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}},e._l(t.options,(function(i){return a("Checkbox",{key:"checkItem"+i.val,attrs:{label:i.val,disabled:Boolean(t.disabled)||e.disabled||i.disabled}},[i.icon?a("Icon",{attrs:{type:i.icon}}):e._e(),a("span",[e._v(e._s(i.label||i.val))])],1)})),1):"textarea"===t.type?a("Input",{style:e.itemStyle,attrs:{type:"textarea",autosize:{minRows:2},maxlength:t.maxLength||null,placeholder:t.placeholder||e.t("r.pInput"),disabled:Boolean(t.disabled)||e.disabled,clearable:!1!==t.clearable},on:{"on-blur":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}}):"upload"===t.type?a("upload-group",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{url:t.url||e.uploadUrl,"manual-upload":Boolean(t.manualUpload),format:t.format||[],data:t.data,"max-size":t.maxSize||0,"show-img":Boolean(t.showImg),length:t.length||0,disabled:Boolean(t.disabled)||e.disabled,withCredentials:!1!==t.withCredentials},on:{"on-file-id-change":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.valGroup[t.key],callback:function(a){e.$set(e.valGroup,t.key,a)},expression:"valGroup[item.key]"}}):"date"===t.type?a("DatePicker",{style:e.itemStyle,attrs:{type:t.dateType,disabled:Boolean(t.disabled)||e.disabled,placement:"bottom-end",placeholder:t.placeholder||e.t("r.selectDate"),options:t.dateOptions||null,clearable:!1!==t.clearable,editable:!1,transfer:""},on:{"on-change":function(a){return e.itemChange(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}}):"time"===t.type?a("TimePicker",{style:e.itemStyle,attrs:{type:t.dateType,disabled:Boolean(t.disabled)||e.disabled,placement:"bottom-end",placeholder:t.placeholder||e.t("r.selectDate"),steps:t.steps||[],clearable:!1!==t.clearable,editable:!1,format:t.format||"HH:mm:ss",transfer:""},on:{"on-change":function(a){return e.itemChange(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}}):"editor"===t.type?a("editor",{staticClass:"inlineBlock",style:e.itemStyle,attrs:{placeholder:t.placeholder||e.t("r.pInput"),disabled:Boolean(t.disabled)||e.disabled,uploadImgMaxSize:t.uploadImgMaxSize||102400,uploadImgMaxLength:t.uploadImgMaxLength||10,uploadImgShowBase64:!1!==t.uploadImgShowBase64,showLinkImg:!1!==t.showLinkImg,uploadImgServe:t.uploadImgServe},on:{"on-change":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.valGroup[t.key],callback:function(a){e.$set(e.valGroup,t.key,a)},expression:"valGroup[item.key]"}}):"inputMap"===t.type?a("input-map",{style:e.itemStyle,attrs:{placeholder:t.placeholder||e.t("r.search"),disabled:Boolean(t.disabled)||e.disabled,"show-map":!1!==t.showMap,height:t.mapHeight||"250px"},on:{"on-change":function(a){return e.reValidateAndChangeHandle(a,t)}},model:{value:e.tempKeys[t.tempKey],callback:function(a){e.$set(e.tempKeys,t.tempKey,a)},expression:"tempKeys[item.tempKey]"}}):"custom"===t.type?a("div",{staticClass:"inlineBlock",style:e.itemStyle},[e._t(t.slotName,null,{valGroup:e.valGroup})],2):e._e(),Boolean(t.info)?a("div",{staticClass:"formInfoTxtXN"},[e._v(e._s(t.info))]):e._e(),Boolean(t.title)?a("div",{staticClass:"formTitleTxtXN"},[e._v(e._s(t.title))]):e._e()],1):e._e()})),e.showLongOkBt?a("FormItem",[a("Button",{style:e.itemStyle,attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.longOkBtTxt||e.t("r.confirm")))])],1):e._e(),a("div",{staticClass:"inlineBlock"},[e.showInlineOkBt?a("Button",{class:{inlineFormBtXN:e.inline,okBtnXN:!0},attrs:{type:"primary",loading:e.btnLoading&&e.showLoading,disabled:e.disabled},on:{click:e.submit}},[e._v(e._s(e.inlineOkBtTxt||e.t("r.confirm")))]):e._e(),e.showInlineClearBt?a("Button",{class:{inlineFormBtXN:e.inline},attrs:{type:"dashed"},on:{click:e.resetForm}},[e._v(e._s(e.inlineClearBtTxt||e.t("r.clear")))]):e._e()],1)],2)},ai=[],ii=i("c32d"),li=i.n(ii),ri={name:"formR",mixins:[et],components:{selectInput:ea,alCascaderMC:Ca,asyncCascader:sa,uploadGroup:gt,editor:ba,inputMap:It},props:{formData:{type:Array,default(){return[]}},formRules:{type:Object,default(){return{}}},showMessage:{type:Boolean,default:!0},labelWidth:{type:Number,default:160},contentWidth:{type:String,default:"70%"},itemWidth:{type:Number,default:200},inline:{type:Boolean,default:!1},showLongOkBt:{type:Boolean,default:!1},longOkBtTxt:{type:String},showInlineOkBt:{type:Boolean,default:!1},inlineOkBtTxt:{type:String},showInlineClearBt:{type:Boolean,default:!1},inlineClearBtTxt:{type:String},disabled:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},trim:{type:Boolean,default:!0}},data(){return{valGroup:{},formDataT:[],tempKeys:{},unwatchGroup:[],mgrUrl:window.g&&window.g.mgrURL||null,selectInputKeys:[],hiddenKeys:[],showLoading:!1,formReRenderKey:Math.floor(1e8*Math.random()+1e3),uploadUrl:window.g&&window.g.mgrURL&&window.g.mgrURL+"/web/v1/fsc/file"||"/file",debounceCount:!1}},computed:{formStyle(){return this.inline?{width:this.itemWidth+this.labelWidth+"px"}:{}},itemStyle(){return this.inline?{width:"100%"}:{width:this.contentWidth}},formRulesT(){let e=g.a.cloneDeep(this.formRules);for(let t in e)if(e.hasOwnProperty(t))if("Array"===U(e[t]))for(let a of e[t])a.message||a.validator||(a.message=this.t("r.required"));else"Object"===U(e[t])&&(e[t].message&&!e[t].validator||(e[t].message=this.t("r.required")));return e},showingKeys(){let e=[];for(let t of this.formDataT)if(!0===t.showing&&t.key&&"selectInput"!==t.type&&(e.push(t.key),t.key2&&e.push(t.key2),t.collectLabel))if(g.a.isPlainObject(t.collectLabel)&&t.collectLabel.key)e.push(t.collectLabel.key);else if(g.a.isArray(t.collectLabel))for(let a of t.collectLabel)a.key&&e.push(a.key);return e.push(...this.selectInputKeys,...this.hiddenKeys),e}},created(){this.initValGroup(),this.initFormDataT()},methods:{resetForm(){return new Promise(e=>{this.clearForm(),this.refreshFormDom().then(()=>{this.$emit("on-reset"),e()})})},reRenderForm(){return new Promise(e=>{for(let t of this.unwatchGroup)t();this.tempKeys={},this.initValGroup(),this.initFormDataT(),this.refreshFormDom().then(()=>{this.$emit("on-re-render"),e()})})},refreshFormDom(){return new Promise(e=>{this.formReRenderKey=Math.floor(1e8*Math.random()+1e3),this.$nextTick((function(){e()}))})},clearForm(){let e=this.getDefaultValues();for(let t in this.valGroup)if(this.valGroup.hasOwnProperty(t))if(me(e[t]))this.$set(this.valGroup,t,e[t]);else if("Array"===U(this.valGroup[t]))this.$set(this.valGroup,t,[]);else if("Boolean"===U(this.valGroup[t]))this.$set(this.valGroup,t,!1);else{const e=g.a.find(this.formData,["key",t]);e&&"editor"===e.type?this.$set(this.valGroup,t,""):this.$set(this.valGroup,t,null)}this.clearTempKeys(e)},clearTempKeys(e){for(let t in this.tempKeys)this.tempKeys.hasOwnProperty(t)&&(me(e[t])?this.$set(this.tempKeys,t,e[t]):"Array"===U(this.tempKeys[t])?this.$set(this.tempKeys,t,[]):"Object"===U(this.tempKeys[t])&&this.tempKeys[t].hasOwnProperty("key")&&this.tempKeys[t].hasOwnProperty("val")?this.$set(this.tempKeys[t],"val",null):this.$set(this.tempKeys,t,null))},clearTempKeyItem(e){let t=this.getDefaultValues();me(t[e])?this.$set(this.tempKeys,e,t[e]):"Array"===U(this.tempKeys)?this.tempKeys[e]=[]:this.tempKeys[e]=null},getDefaultValues(){let e={};for(let t of this.formDataT)t.tempKey&&me(t.defaultVal)&&(t.booleanVal?e[t.tempKey]=t.defaultVal?1:0:e[t.tempKey]=t.defaultVal),t.key&&me(t.defaultVal)&&(e[t.key]=t.defaultVal),t.key2&&me(t.defaultVal2)&&(e[t.key2]=t.defaultVal2);return e},getFormItemIfVal(e){if(!e.show)return this.$set(e,"showing",!0),!0;if("Object"===U(e.show))return this.returnIfVal(e,this.dealIfItem(e.show));if("Array"===U(e.show)){if(e.showOr){for(let t of e.show)if(!0===this.dealIfItem(t))return this.returnIfVal(e,!0);return this.returnIfVal(e,!1)}for(let t of e.show)if(!1===this.dealIfItem(t))return this.returnIfVal(e,!1);return this.returnIfVal(e,!0)}},dealIfItem(e){if("Array"===U(e.val)){for(let t of e.val){if((this.valGroup[e.key]||0===this.valGroup[e.key]||!1===this.valGroup[e.key])&&"."===t)return!0;if(this.valGroup[e.key]===t)return!0}return!1}return!1},returnIfVal(e,t){return t&&e.key&&(void 0!==e.defaultVal&&(e.tempKey?(null===this.tempKeys[e.tempKey]||(g.a.isPlainObject(this.tempKeys[e.tempKey])||g.a.isArray(this.tempKeys[e.tempKey]))&&g.a.isEmpty(this.tempKeys[e.tempKey]))&&("input"===e.type||"inputNumber"===e.type||"textarea"===e.type||"select"===e.type||"checkboxGroup"===e.type?this.tempKeys[e.tempKey]=e.defaultVal:"inputMap"===e.type?this.tempKeys[e.tempKey]={lng:e.defaultVal,lat:e.defaultVal2}:"date"!==e.type&&"time"!==e.type||("date"===e.dateType||"datetime"===e.dateType||"time"===e.dateType||"year"===e.dateType||"month"===e.dateType?this.tempKeys[e.tempKey]=e.defaultVal:"daterange"!==e.dateType&&"datetimerange"!==e.dateType&&"timerange"!==e.dateType||(this.tempKeys[e.tempKey]=item.defaultVal&&item.defaultVal2&&[e.defaultVal,e.defaultVal2]||[]))):null===this.valGroup[e.key]&&this.$set(this.valGroup,e.key,e.defaultVal),e.key2&&void 0!==e.deafultVal2&&null===this.valGroup[e.key2]&&"inputMap"!==e.type&&(this.valGroup[e.key2]=e.defaultVal2)),e.tempKey&&this.tempKeysWatchHandle(this.tempKeys[e.tempKey],e)),this.$set(e,"showing",t),t},initFormDataT(){let e=g.a.cloneDeep(this.formData);for(let t of e)switch(t.type){case"selectInput":const a="selectInput"+Math.floor(1e8*Math.random());t.tempKey=a,this.$set(this.tempKeys,a,{key:t.key||null,val:t.defaultVal||null}),this.unwatchGroup.push(this.$watch(()=>this.tempKeys[a],e=>{this.tempKeysWatchHandle(e,t)},{immediate:!0}));break;case"inputMap":const i="inputMap"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=i,this.$set(this.tempKeys,i,void 0!==t.defaultVal&&void 0!==t.defaultVal2?{lng:t.defaultVal,lat:t.defaultVal2}:{lng:null,lat:null}),this.unwatchGroup.push(this.$watch(()=>this.tempKeys[i],e=>{this.tempKeysWatchHandle(e,t)},{immediate:!0})));break;case"input":case"inputNumber":case"textarea":const l="inputT"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=l,this.$set(this.tempKeys,l,void 0!==t.defaultVal?t.defaultVal:null),this.unwatchGroup.push(this.$watch(()=>this.tempKeys[l],e=>{this.tempKeysWatchHandle(e,t)},{immediate:!0})));break;case"select":case"radioGroup":case"checkboxGroup":if(t.options||(t.options=[]),t.asyncOption)if(t.changeOption)if(g.a.isPlainObject(t.changeOption))t.changeOption.valKey&&t.changeOption.key&&this.unwatchGroup.push(this.$watch(()=>this.valGroup[t.changeOption.valKey],e=>{let a=g.a.cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,(e||0===e||!1===e)&&t.optionUrl){let i=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((i+"&"+t.changeOption.key+"="+e).replace(/\?&/,"?"),t,a)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),me(a)&&this.recoverVal(a,t)},{immediate:!0}));else if(g.a.isArray(t.changeOption)){let e=!0;for(let a of t.changeOption)if(!a.valKey||!a.key){e=!1;break}e?this.unwatchGroup.push(this.$watch(()=>{let e="";for(let a of t.changeOption){let t=this.valGroup[a.valKey];if(t||0===t||!1===t)e+="&"+a.key+"="+t;else if(!a.notRequired)return!1}return e},e=>{let a=g.a.cloneDeep(this.tempKeys[t.tempKey]);if(this.tempKeys[t.tempKey]=null,e&&t.optionUrl){let i=-1!==t.optionUrl.indexOf("?")?t.optionUrl:t.optionUrl+"?";this.initOption((i+e).replace(/\?&/,"?"),t,a)}else t.options=[],t.localOption&&(t.options=[...t.localOption]),me(a)&&this.recoverVal(a,t)},{immediate:!0})):(t.options=[],t.localOption&&(t.options=[...t.localOption]))}else g.a.isBoolean(t.changeOption)&&this.unwatchGroup.push(this.$watch(()=>this.formData[g.a.indexOf(e,t)].optionUrl,e=>{let a=g.a.cloneDeep(this.tempKeys[t.tempKey]);this.tempKeys[t.tempKey]=null,e?this.initOption(e,t,a):(t.options=[],t.localOption&&(t.options=[...t.localOption]),me(a)&&this.recoverVal(a,t))},{immediate:!0}));else this.initOption(t.optionUrl,t);else"String"===U(t.borrowOption)&&(t.options=g.a.find(e,{key:t.borrowOption}).options);const r="opEle"+Math.floor(1e8*Math.random());t.key&&(t.tempKey=r,"select"===t.type&&t.multiple||"checkboxGroup"===t.type?this.$set(this.tempKeys,r,void 0!==t.defaultVal?t.defaultVal:[]):t.booleanVal?this.$set(this.tempKeys,r,void 0!==t.defaultVal?Boolean(t.defaultVal)?1:0:null):this.$set(this.tempKeys,r,void 0!==t.defaultVal?t.defaultVal:null),this.unwatchGroup.push(this.$watch(()=>this.tempKeys[r],e=>{this.tempKeysWatchHandle(e,t)},{immediate:!0})));break;case"date":case"time":const s="date"+Math.floor(1e8*Math.random());t.tempKey=s,"date"===t.dateType||"datetime"===t.dateType||"time"===t.dateType||"year"===t.dateType||"month"===t.dateType?this.$set(this.tempKeys,s,t.defaultVal||null):"daterange"!==t.dateType&&"datetimerange"!==t.dateType&&"timerange"!==t.dateType||this.$set(this.tempKeys,s,t.defaultVal&&t.defaultVal2&&[t.defaultVal,t.defaultVal2]||[]),this.unwatchGroup.push(this.$watch(()=>this.tempKeys[s],e=>{this.tempKeysWatchHandle(e,t)}));break}this.formDataT=e},initOption(e,t,a){Pe.get(e).then(e=>{let i=e&&e.data&&e.data.records||e&&e.data||e||[];if("Array"===U(i))if("Function"===U(t.optionFilter)&&(i=t.optionFilter(i)),t.optionLabel&&t.optionVal){let e=U(t.optionLabel);t.options.length=0,t.options.push(...i.map(a=>{let i={};if("Array"===e){let e="";t.optionLabel.forEach((t,i)=>{let l=String(a[t]);e+=1===i?"（"+l:i>1?"、"+l:l}),i={label:e+"）",val:a[t.optionVal]}}else i={label:a[t.optionLabel],val:a[t.optionVal]};if(t.collectLabel)if(g.a.isPlainObject(t.collectLabel))t.collectLabel.valKey&&"label"!==t.collectLabel.valKey&&(i[t.collectLabel.valKey]=a[t.collectLabel.valKey]);else if(g.a.isArray(t.collectLabel))for(let e of t.collectLabel)e.valKey&&"label"!==e.valKey&&(i[e.valKey]=a[e.valKey]);if(null!==i.val&&void 0!==i.val)return i}))}else t.options.length=0,t.options.push(...i);else t.options.length=0;t.localOption&&t.options.unshift(...t.localOption),me(a)&&this.recoverVal(a,t),t.disableOptionByOthers&&(g.a.isString(t.disableOptionByOthers)?this.unwatchGroup.push(this.$watch(()=>this.valGroup[t.disableOptionByOthers],e=>{this.clearTempKeyItem(t.tempKey);for(let a of t.options)a.disabled&&this.$set(a,"disabled",!1);if(e||0===e||!1===e)for(let a of t.options)a.val===e&&this.$set(a,"disabled",!0)},{immediate:!0})):g.a.isArray(t.disableOptionByOthers)&&this.unwatchGroup.push(this.$watch(()=>{let e=[];for(let a of t.disableOptionByOthers)a&&e.push(this.valGroup[a]);return e},e=>{this.clearTempKeyItem(t.tempKey);for(let a of t.options)a.disabled&&this.$set(a,"disabled",!1);if(e)for(let a of t.options)for(let t=0;t<e.length;t++)if(a.val===e[t]){this.$set(a,"disabled",!0),e.splice(t,1);break}},{immediate:!0})))})},recoverVal(e,t){g.a.isArray(t.options)&&-1!==g.a.findIndex(t.options,{val:e})&&(this.tempKeys[t.tempKey]=e)},initValGroup(){this.valGroup={};for(let e of this.formData)e.key&&("checkboxGroup"===e.type||"select"===e.type&&e.multiple?this.$set(this.valGroup,e.key,void 0!==e.defaultVal&&void 0===e.show?e.defaultVal:[]):"editor"===e.type?this.$set(this.valGroup,e.key,void 0!==e.defaultVal&&void 0===e.show?e.defaultVal:""):(this.$set(this.valGroup,e.key,void 0!==e.defaultVal&&void 0===e.show?e.defaultVal:null),e.key2&&this.$set(this.valGroup,e.key2,void 0!==e.defaultVal2&&void 0===e.show?e.defaultVal2:null)))},tempKeysWatchHandle(e,t){if(t.showing)switch(t.type){case"selectInput":e&&(e.beforeKey&&delete this.valGroup[e.beforeKey],this.valGroup[e.key]=e.val);break;case"inputMap":e?(this.valGroup[t.key]=e.lng,this.valGroup[t.key2]=e.lat):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null);break;case"input":case"inputNumber":case"textarea":if(e||0===e){let a=/^-?\d+(.\d+)?$/;t.numberVal&&a.test(e)?this.valGroup[t.key]=Number(e):this.valGroup[t.key]=e}else this.valGroup[t.key]=null;break;case"select":case"radioGroup":case"checkboxGroup":if(t.booleanVal&&!t.multiple?this.valGroup[t.key]=void 0===e||""===e||null===e?null:Boolean(e):t.multiple||"checkboxGroup"===t.type?this.valGroup[t.key]=Object.assign([],e):this.valGroup[t.key]=e,t.collectLabel){const a=this.findOptions(t,e);if(g.a.isPlainObject(t.collectLabel)){if(t.collectLabel.key&&t.collectLabel.valKey){g.a.isArray(a)?this.$set(this.valGroup,t.collectLabel.key,a.map(e=>e[t.collectLabel.valKey])):this.$set(this.valGroup,t.collectLabel.key,a&&(me(a[t.collectLabel.valKey])?a[t.collectLabel.valKey]:null));let e=g.a.find(this.formDataT,{key:t.collectLabel.key});e&&e.tempKey&&(this.tempKeys[e.tempKey]=this.valGroup[t.collectLabel.key])}}else if(g.a.isArray(t.collectLabel))for(let e of t.collectLabel)if(e.key&&e.valKey){g.a.isArray(a)?this.$set(this.valGroup,e.key,a.map(t=>t[e.valKey])):this.$set(this.valGroup,e.key,a&&(me(a[e.valKey])?a[e.valKey]:null));let t=g.a.find(this.formDataT,{key:e.key});t&&t.tempKey&&(this.tempKeys[t.tempKey]=this.valGroup[e.key])}}break;case"date":case"time":let a=t.dateType;const i={date:"YYYY-MM-DD",daterange:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss",datetimerange:"YYYY-MM-DD HH:mm:ss",year:"YYYY",month:"MM"};"date"===a||"datetime"===a||"time"===a||"year"===a||"month"===a?e?(this.valGroup[t.key]="time"===a?e:li()(e).format(t.format||i[a]),"date"===a&&t.addTime&&(this.valGroup[t.key]+=" 00:00:00")):this.valGroup[t.key]=null:"daterange"!==a&&"datetimerange"!==a&&"timerange"!==a||(e&&e[0]&&e[1]?("timerange"===a?(this.valGroup[t.key]=e[0],this.valGroup[t.key2]=e[1]):(this.valGroup[t.key]=li()(e[0]).format(t.format||i[a]),this.valGroup[t.key2]=li()(e[1]).format(t.format||i[a])),"daterange"===a&&t.addTime&&(this.valGroup[t.key]+=" 00:00:00",this.valGroup[t.key2]+=" 23:59:59")):(this.valGroup[t.key]=null,this.valGroup[t.key2]=null));break}},findOptions(e,t){if(e.multiple||"checkboxGroup"===e.type){let a=[];for(let i of e.options)-1!==t.indexOf(i.val)&&a.push(i);return a}if(t||0===t||!1===t)for(let a of e.options)if(a.val===t)return a;return!1},setItemToValGroup(e,t){let a={};for(let i in this.valGroup)this.valGroup.hasOwnProperty(i)&&void 0!==e[i]&&(a[i]=e[i],delete e[i]);this.updateValGroup(a,t);for(let i in e)e.hasOwnProperty(i)&&(this.hiddenKeys.indexOf(i)<0&&this.hiddenKeys.push(i),this.$set(this.valGroup,i,e[i]))},updateValGroup(e,t){this.updateTempKeys(e,t);for(let a in this.valGroup)if(this.valGroup.hasOwnProperty(a)&&void 0!==e[a]&&"--"!==e[a]){if("Array"===U(e[a]))e[a]=e[a].filter(e=>"--"!==e);else if("Object"===U(e[a]))for(let t in e[a])e[a].hasOwnProperty(t)&&"--"===e[a][t]&&(e[a][t]=null);this.valGroup[a]=e[a]}else t||(this.valGroup[a]="Array"===U(this.valGroup[a])?[]:null)},updateTempKeys(e,t){for(let a of this.formDataT)if((t&&(void 0!==e[a.key]||void 0!==e[a.key2])||!t)&&a.tempKey)switch(a.type){case"inputMap":g.a.isNumber(e[a.key])&&g.a.isNumber(e[a.key2])?this.tempKeys[a.tempKey]={lng:e[a.key],lat:e[a.key2]}:this.tempKeys[a.tempKey]={lng:null,lat:null};break;case"input":case"inputNumber":case"textarea":e[a.key]&&"--"!==e[a.key]||0===e[a.key]?this.tempKeys[a.tempKey]=e[a.key]:this.tempKeys[a.tempKey]=null;break;case"select":case"radioGroup":case"checkboxGroup":e[a.key]&&"--"!==e[a.key]||0===e[a.key]||!1===e[a.key]?a.multiple||"checkboxGroup"===a.type?this.$set(this.tempKeys,a.tempKey,[...e[a.key]]):a.booleanVal?this.$set(this.tempKeys,a.tempKey,Boolean(e[a.key])?1:0):this.$set(this.tempKeys,a.tempKey,e[a.key]):a.multiple||"checkboxGroup"===a.type?this.$set(this.tempKeys,a.tempKey,[]):this.$set(this.tempKeys,a.tempKey,null);break;case"date":case"time":"date"===a.dateType||"datetime"===a.dateType||"year"===a.dateType||"month"===a.dateType||"time"===a.dateType?this.tempKeys[a.tempKey]=e[a.key]&&"--"!==e[a.key]?e[a.key]:null:"daterange"!==a.dateType&&"datetimerange"!==a.dateType&&"timerange"!==a.dateType||(this.tempKeys[a.tempKey]=e[a.key]&&"--"!==e[a.key]&&e[a.key2]&&"--"!==e[a.key2]&&[e[a.key],e[a.key2]]||[]);break}},updateFormDataT(e){if("Array"===U(e))for(let t of e)this.changeDataHandle(t);else"Object"===U(e)&&this.changeDataHandle(e)},changeDataHandle(e){let{index:t,key:a,val:i}=e;if(t||0===t)if(a&&(i||void 0!==i))this.$set(this.formDataT[t],a,i);else for(let l of Object.keys(e))"index"!==l&&this.$set(this.formDataT[t],l,e[l])},reValidate(e){He(()=>{this.$refs.formGroupXRef.validateField(e,()=>{})},1)},asyncLabelChange(e,t){t.key2&&this.$set(this.valGroup,t.key2,e),this.itemChange(e,t)},onSelectInputChange(e){e.beforeKey&&g.a.remove(this.selectInputKeys,t=>t===e.beforeKey),e.key&&(-1===this.selectInputKeys.indexOf(e.key)&&this.selectInputKeys.push(e.key),this.itemChange(null,e))},alNameChange(e,t){t.key2&&(this.valGroup[t.key2]=e),this.itemChange(e,t)},reValidateAndChangeHandle(e,t){this.itemChange(e,t),this.$nextTick((function(){this.$refs.formGroupXRef.validateField(t.key)}))},itemChange(e,t){He(()=>{let a={event:e};if(t.key&&(a[t.key]=this.valGroup[t.key]),t.key2&&(a[t.key2]=this.valGroup[t.key2]),t.collectLabel&&t.collectLabel.key)a[t.collectLabel.key]=this.valGroup[t.collectLabel.key];else if(g.a.isArray(t.collectLabel))for(let e of t.collectLabel)a[e.key]=this.valGroup[e.key];this.$emit("on-item-change",a)},500)},getValGroup(){let e={};for(let t of this.showingKeys)e[t]=this.valGroup[t];return this.trim&&(e=J(e)),e},validate(){this.$refs.formGroupXRef.validate()},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e))},submit(){this.disabled||this.$refs.formGroupXRef.validate(e=>{this.debounceCount||(this.debounceCount=!0,e&&(this.showLoading=!0,this.$emit("on-submit",this.getValGroup())),He(()=>{this.debounceCount=!1},2e3))})}}},si=ri,oi=h(si,ti,ai,!1,null,null,null),ni=oi.exports,di=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{staticClass:"formModal",class:{hideFooter:e.hideFooter},attrs:{title:e.title||e.t("r.title"),"mask-closable":!1,"footer-hide":e.hideFooter,width:e.width},on:{"on-visible-change":e.handleVisibleChange},model:{value:e.openModal,callback:function(t){e.openModal=t},expression:"openModal"}},[a("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,btnLoading:e.btnLoading},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function(a){var i=a.valGroup;return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners)),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{staticClass:"modal-save-btn",attrs:{loading:e.btnLoading&&e.showLoading},on:{click:e.submit}},[e._v(e._s(e.okBtTxt||e.t("r.confirm")))]),e.hideCancelBt?e._e():a("Button",{staticClass:"modal-cancel-btn",on:{click:e.close}},[e._v(e._s(e.cancelBtTxt||e.t("r.cancel")))])],1)],1)},ci=[],hi={name:"formModal",mixins:[et],components:{formR:ni},props:{title:{type:String},formData:{type:Array,default(){return[]}},width:{type:[Number,String],default:520},labelWidth:{type:Number,default:140},okBtTxt:{type:String},cancelBtTxt:{type:String},hideCancelBt:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1}},data(){return{openModal:!1,showLoading:!1}},computed:{formDataC(){return this.formData.filter(e=>"custom"===e.type)}},methods:{resetForm(){return new Promise(e=>{this.$refs.formRRef.resetForm().then(()=>{e()})})},refreshFormDom(){return new Promise(e=>{this.$refs.formRRef.refreshFormDom().then(()=>{e()})})},reRenderForm(){return new Promise(e=>{this.$refs.formRRef.reRenderForm().then(()=>{e()})})},clearForm(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e),this.$refs.formRRef.changeLoading(this.showLoading))},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(){this.showLoading=!0},submit(){this.hideCancelBt?this.close():this.$refs.formRRef.submit()},open(){this.openModal=!0},close(){this.openModal=!1,He(()=>{this.showLoading=!1,this.$refs.formRRef.changeLoading(!1)},1e3)},handleVisibleChange(e){e?this.$emit("on-open"):this.$emit("on-close")}}},ui=hi,pi=h(ui,di,ci,!1,null,null,null),fi=pi.exports,mi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",e._g(e._b({staticClass:"formModal",attrs:{title:e.title,width:e.width,"mask-closable":!1},on:{"on-visible-change":e.showHide},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},"Modal",e.$attrs,!1),e.$listeners),[e._t("default"),a("template",{slot:"footer"},[e._t("footer",[a("Button",{staticClass:"modal-save-btn",attrs:{loading:e.btnLoading&&e.loading},on:{click:e.handleSub}},[e.btnLoading&&e.loading?a("span",[e._v("Loading...")]):a("span",[e._v(e._s(e.t("r.confirm")))])]),e.hideCancelBt?e._e():a("Button",{staticClass:"modal-cancel-btn",on:{click:e.close}},[e._v(e._s(e.t("r.cancel")))])])],2)],2)},yi=[],gi={name:"customModal",mixins:[et],props:{title:{type:String,default:"标题"},hideCancelBt:{type:Boolean,default:!1},btnLoading:{type:Boolean,default:!1},width:{type:[Number,String],default:520}},data(){return{isOpen:!1,loading:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1},changeLoading(e){this.loading=Boolean(e)},showHide(e){e||this.$emit("on-close")},handleSub(){this.hideCancelBt?this.close():(this.loading=!0,this.$emit("on-submit"))}}},bi=gi,vi=h(bi,mi,yi,!1,null,null,null),wi=vi.exports,ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,"item-width":e.itemWidth,inline:!0,"show-long-ok-bt":!1,"show-inline-ok-bt":e.showInlineOkBt,"inline-ok-bt-txt":e.t("r.check"),"show-inline-clear-bt":e.showInlineClearBt,"show-message":!1},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function(a){var i=a.valGroup;return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners))},xi=[],Si={name:"searchForm",mixins:[et],components:{formR:ni},props:{formData:{type:Array,default(){return[]}},labelWidth:{type:Number,default:84},itemWidth:{type:Number,default:202},showInlineOkBt:{type:Boolean,default:!0},showInlineClearBt:{type:Boolean,default:!0}},computed:{formDataC(){return this.formData.filter(e=>"custom"===e.type)}},methods:{resetForm(){return new Promise(e=>{this.$refs.formRRef.resetForm().then(()=>{e()})})},refreshFormDom(){return new Promise(e=>{this.$refs.formRRef.refreshFormDom().then(()=>{e()})})},reRenderForm(){return new Promise(e=>{this.$refs.formRRef.reRenderForm().then(()=>{e()})})},clear(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){this.$refs.formRRef.changeLoading(void 0!==e&&e)},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(e){this.$emit("on-search",e)},submit(){this.$refs.formRRef.submit()}}},Ci=Si,Ti=h(Ci,ki,xi,!1,null,null,null),Ki=Ti.exports,Bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"formGroupBoxVM",style:e.formGroupStyle},[a("form-r",e._g(e._b({ref:"formRRef",attrs:{"form-data":e.formData,"label-width":e.labelWidth,"content-width":e.contentWidth,"item-width":e.itemWidth,btnLoading:e.btnLoading},on:{"on-submit":e.onSubmit},scopedSlots:e._u([e._l(e.formDataC,(function(t){return{key:t.slotName,fn:function(a){var i=a.valGroup;return[e._t(t.slotName,null,{valGroup:i})]}}}))],null,!0)},"form-r",e.$attrs,!1),e.$listeners)),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showOkBt||e.showCancelBt,expression:"showOkBt||showCancelBt"}],staticClass:"formFooterVM",style:{marginLeft:e.labelWidth+"px"}},[a("div",{staticClass:"btnBoxKAL",style:{width:e.contentWidth}},[e.showOkBt?a("Button",{staticClass:"form-save-btn",attrs:{loading:e.btnLoading&&e.showLoading},on:{click:e.submit}},[e._v(e._s(e.okBtTxt||e.t("r.confirm")))]):e._e(),e.showCancelBt?a("Button",{staticClass:"form-cancel-btn",on:{click:e.close}},[e._v(e._s(e.cancelBtTxt||e.t("r.cancel")))]):e._e()],1)])],1)},Li=[],$i={name:"formGroup",mixins:[et],components:{formR:ni},props:{formData:{type:Array,default(){return[]}},width:{type:String,default:"100%"},labelWidth:{type:Number,default:160},contentWidth:{type:String,default:"70%"},itemWidth:{type:Number,default:200},showOkBt:{type:Boolean,default:!0},showCancelBt:{type:Boolean,default:!0},okBtTxt:{type:String},cancelBtTxt:{type:String},btnLoading:{type:Boolean,default:!1}},data(){return{formGroupStyle:{width:this.width},showLoading:!1}},computed:{formDataC(){return this.formData.filter(e=>"custom"===e.type)}},methods:{resetForm(){return new Promise(e=>{this.$refs.formRRef.resetForm().then(()=>{e()})})},refreshFormDom(){return new Promise(e=>{this.$refs.formRRef.refreshFormDom().then(()=>{e()})})},reRenderForm(){return new Promise(e=>{this.$refs.formRRef.reRenderForm().then(()=>{e()})})},clearForm(){this.$refs.formRRef.clearForm()},setItemToValGroup(e,t){this.$refs.formRRef.setItemToValGroup(e,t)},updateValGroup(e,t){this.$refs.formRRef.updateValGroup(e,t)},updateFormDataT(e){this.$refs.formRRef.updateFormDataT(e)},validate(){this.$refs.formRRef.validate()},reValidate(e){this.$refs.formRRef.reValidate(e)},changeLoading(e){void 0!==e&&(this.showLoading=Boolean(e),this.$refs.formRRef.changeLoading(this.showLoading))},getValGroup(){return this.$refs.formRRef.getValGroup()},onSubmit(){this.showLoading=!0},submit(){this.$refs.formRRef.submit()},close(){this.$emit("on-cancel"),He(()=>{this.showLoading=!1,this.$refs.formRRef.changeLoading(!1)},1e3)}}},Ii=$i,_i=h(Ii,Bi,Li,!1,null,null,null),Oi=_i.exports,Ai=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"echart-cont",style:{width:e.widthT,height:e.heightT},attrs:{id:e.name}})},Di=[],Ri=i("164e"),Vi=i.n(Ri),Mi=i("f8bc");Vi.a.registerTheme("westeros",Mi);var Ni={name:"echart",mixins:[et],props:{config:Object,theme:{type:String,default:"westeros"},params:Object,url:String,data:Object,initData:{type:Boolean,default:!1},yAxis:{type:Object,default(){return{type:"value"}}},xAxis:{type:Object,default(){return{type:"category"}}},tooltip:{type:Object,default(){return{}}},series:{type:Array,default(){return[]}},name:{type:String,default:""},title:{type:String},titleColor:String,titleFontSize:Number,titleFontWeight:[String,Number],titleX:String,titleY:String,subTitle:{type:String,default:""},subTitleColor:String,subTitleFontSize:Number,legendShow:{type:Boolean,default:!0},legendType:String,legendColor:String,legendFontSize:Number,legendX:String,legendY:String,legendOrient:String,widthT:{type:String,default:"870px"},heightT:{type:String,default:"384px"}},data(){return{dataT:this.data,yAxisT:this.yAxis,xAxisT:this.xAxis,seriesT:this.series}},created(){this.initData&&this.getData().then(e=>{this.init(e)}).catch(e=>{console.warn("代码报错啦~"),console.warn(e)})},watch:{config:{handler(e){e&&this.init()},deep:!0},data:{handler(e){e&&(this.dataT=e,this.init())},deep:!0},series:{handler(e){e&&(this.seriesT=e,this.init())},deep:!0},params:{handler(e){e&&this.getData().then(e=>{this.init(e)}).catch(e=>{console.warn("代码报错啦~"),console.warn(e)})},deep:!0}},methods:{getData(){return new Promise((e,t)=>{this.url?Pe.get(this.url,this.params).then(t=>{t.data||null===t.data?(t.data.charts||null===t.data.charts?this.dataT=t.data.charts||[]:this.dataT=t.data||[],e(t)):console.warn("请求返回数据有误，无法使用")}).catch(e=>{console.warn(e)}):this.dataT&&this.dataT.series||this.seriesT&&this.seriesT.length>0?e():console.warn("没有有效的请求地址，无法获取图表数据")})},init(){let e=Vi.a.init(document.getElementById(this.name),this.theme),a=this;e.on("timelinechanged",(function(e){a.$emit("time-line-change",e.currentIndex)})),e.on("click","series.bar",(function(e){a.$emit("series-bar-click",e)}));let i={};if(i=this.config?this.config:{title:{text:this.dataT.title?this.dataT.title:this.title||t("r.unknown"),textStyle:{color:this.dataT.titleColor||this.titleColor,fontSize:this.dataT.titleFontSize||this.titleFontSize,fontWeight:this.dataT.titleFontWeight||this.titleFontWeight},x:this.dataT.titleX||this.titleX,y:this.dataT.titleY||this.titleY,subtext:this.dataT.subTitle?this.dataT.subTitle:this.subTitle,subtextStyle:{color:this.dataT.subTitleColor||this.subTitleColor,fontSize:this.dataT.subTitleFontSize||this.subTitleFontSize}},legend:{show:this.dataT.legendShow?this.dataT.legendShow:this.legendShow,type:this.dataT.legendType||this.legendType,textStyle:{color:this.dataT.legendColor||this.legendColor,fontSize:this.dataT.legendFontSize||this.legendFontSize},x:this.dataT.legendX||this.legendX,y:this.dataT.legendY||this.legendY,orient:this.dataT.legendOrient||this.legendOrient},tooltip:this.dataT.tooltip?this.dataT.tooltip:this.tooltip,xAxis:this.dataT.xAxis?this.dataT.xAxis:this.xAxisT,yAxis:this.dataT.yAxis?this.dataT.yAxis:this.yAxisT,series:this.dataT.series?this.dataT.series:this.seriesT},e.setOption(i),void 0===window.echartResizeMJ&&(window.echartResizeMJ={}),!window.echartResizeMJ[a.name]){let t=window.onresize;window.onresize=t?function(){t(),e.resize(),window.echartResizeMJ[a.name]=!0}:function(){e.resize(),window.echartResizeMJ[a.name]=!0}}}}},Gi=Ni,Fi=h(Gi,Ai,Di,!1,null,null,null),Pi=Fi.exports,Ei=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:e.getBg},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showX,expression:"showX"}],staticClass:"contentZ"},[e._t("default")],2)])},Xi=[],zi={name:"showHidePanelB",model:{prop:"show",event:"subVal"},props:{bg:{default:"transparent"},show:{type:Boolean,default:!1}},computed:{showX:{get(){return this.show},set(e){this.$emit("subVal",e)}},getBg(){return this.showX?"background:"+this.bg:""}}},Hi=zi,ji=h(Hi,Ei,Xi,!1,null,null,null),Ui=ji.exports,Wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tableSearchV",style:{position:e.fixed?"fixed":"absolute",right:e.right,top:e.top}},[e._t("default",[a("Input",{staticClass:"searchInputC",style:{width:e.width},attrs:{search:"",placeholder:e.placeholder||e.t("r.pInput")},on:{"on-search":e.onSearch},model:{value:e.valueX,callback:function(t){e.valueX=t},expression:"valueX"}})]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showBtn,expression:"showBtn"}],staticClass:"sbt",style:{color:e.btnColor},on:{click:function(t){e.openX=!e.openX}}},[a("icon",{attrs:{type:e.iconL,color:e.btnColor}}),e._v(e._s(e.t("r.adSearch")))],1)],2)},qi=[],Ji={name:"tableSearch",mixins:[et],model:{prop:"value",event:"subVal"},props:{value:{default:null},open:{type:Boolean,default:!1},placeholder:{type:String},showBtn:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},width:{default:"210px"},right:{default:"0"},top:{default:"0"},btnColor:{type:String,default:"inherit"}},data(){return{debounceCount:!1}},computed:{valueX:{get(){return this.value},set(e){this.$emit("subVal",e)}},iconL(){return this.openX?"ios-arrow-up":"ios-arrow-down"},openX:{get(){return this.open},set(e){this.$emit("on-toggle",e)}}},methods:{onSearch(){this.debounceCount||(this.debounceCount=!0,this.$emit("on-search",this.valueX),He(()=>{this.debounceCount=!1},2e3))}}},Yi=Ji,Qi=h(Yi,Wi,qi,!1,null,null,null),Zi=Qi.exports,el=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Select",e._b({directives:[{name:"loadmore",rawName:"v-loadmore",value:e.loadMore,expression:"loadMore"}],ref:"selectScrollSourceRef",attrs:{transfer:"",filterable:"",placeholder:e.placeholderT,disabled:e.disabled},model:{value:e.valueT,callback:function(t){e.valueT=t},expression:"valueT"}},"Select",e.$attrs,!1),e._l(e.options,(function(t,i){return a("Option",{key:"op"+i,attrs:{value:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)},tl=[],al={name:"selectScrollMore",mixins:[et],model:{prop:"value",event:"sub-val"},props:{value:{type:[String,Number,Array],default:null},url:{type:String,required:!0},searchData:{type:Object,default(){return{size:10}}},getOptions:{type:Boolean,default:!0},optionFilter:{type:Function},optionsLabelKey:{type:[String,Array],default:"name"},optionsValKey:{type:String,default:"id"},searchKey:{type:String,default:"name"},searchWordsRequired:{type:Boolean,default:!1},collectLabel:{type:Boolean,default:!1},placeholder:{type:String},disabled:{type:Boolean,default:!1}},data(){return{current:1,pages:1,searchStr:null,options:[],historyData:{},isFresh:!0,urlChanged:!1}},computed:{placeholderT(){return this.searchStr?this.t("r.searchFor")+this.searchStr:this.placeholder||this.t("r.pInput")},valueT:{get(){return this.value},set(e){if(this.$emit("sub-val",e),this.collectLabel){let t={};for(let a of this.options)if(a[this.optionsValKey]===e){t=JSON.parse(JSON.stringify(a));break}this.$emit("on-change",t)}}},searchDataT(){return this.searchKey?{...this.searchData,current:this.current,[this.searchKey]:this.searchStr}:{...this.searchData,current:this.current}}},mounted(){this.addInputEventListener()},watch:{getOptions:{handler(e){e?this.isFresh&&this.getData():this.reset()},immediate:!0},url(e){e&&(this.urlChanged=!0)}},methods:{addInputEventListener(){const e=this.$refs.selectScrollSourceRef.$children[0].$refs.input;e.addEventListener("keyup",this.getOption)},setQuery(e){this.$refs.selectScrollSourceRef.$children[0].query=e},reset(){this.isFresh||(this.valueT=null,this.isFresh=!0,this.searchStr=null,this.options=[],this.current=1,this.pages=1,this.historyData={},this.urlChanged=!1)},isSelect(e){for(let t of this.options)if(t.label===e)return!0;return!1},getOption:g.a.debounce((function(e){const t=e.target.value;this.isSelect(t)||(me(t)?(this.urlChanged?this.reset():(g.a.isEmpty(this.historyData)&&(this.historyData.current=this.current,this.historyData.pages=this.pages,this.historyData.options=g.a.cloneDeep(this.options)),me(this.valueT)&&(this.valueT=null)),this.searchStr=t,this.options=[],this.current=1,this.isFresh=!0,this.getData().then(()=>{this.$nextTick((function(){this.setQuery(t)}))}).catch(()=>{this.$nextTick((function(){this.setQuery(t)}))})):this.urlChanged?(this.reset(),this.getData()):(this.valueT=null,this.searchStr=null,this.historyData.current?(this.current=this.historyData.current,this.pages=this.historyData.pages,this.options=g.a.cloneDeep(this.historyData.options),this.historyData={}):this.getData()))}),600),loadMore(){this.urlChanged&&this.reset(),this.current<this.pages?(++this.current,this.$nextTick((function(){this.getData()}))):this.$Message.warning({background:!0,content:this.t("r.noMore")})},getData(){return new Promise((e,t)=>{if(this.getOptions){if(this.searchWordsRequired&&!me(this.searchStr))return void e();Pe.get(this.url,this.searchDataT).then(t=>{this.isFresh=!1;let a=[];t&&t.data&&t.data.records?(a=t.data.records,this.pages=t.data.pages):t&&t.data&&"Array"===U(t.data)?(a=t.data,this.pages=t.pages):t&&t.data&&"Object"===U(t.data)&&(a=[t.data],this.pages=1),"Function"===U(this.optionFilter)&&(a=this.optionFilter(a)),g.a.isEmpty(a)||(a=a.map((e,t)=>{let a=this.t("r.optionLabel")+t;if(g.a.isArray(this.optionsLabelKey)){let t=[];for(let a=1,i=this.optionsLabelKey.length;a<i;a++)t.push(e[this.optionsLabelKey[a]]);a=`${e[this.optionsLabelKey[0]]}(${String(t)})`}else g.a.isString(this.optionsLabelKey)&&(a=e[this.optionsLabelKey]);if(this.collectLabel){let t=g.a.cloneDeep(e);return delete t.value,delete t.label,{value:e[this.optionsValKey],label:a,...t}}return{value:e[this.optionsValKey],label:a}})),this.options.push(...a);let i={};this.options=this.options.filter(e=>{if(!i[e.value])return i[e.value]=!0,e}),this.$nextTick((function(){this.$emit("update-option-finish")})),e(!0)}).catch(()=>{this.$Message.error(this.t("r.getDataError")),t(this.t("r.getDataError"))})}else e()})}}},il=al,ll=h(il,el,tl,!1,null,null,null),rl=ll.exports,sl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"transferBoxRL"},[a("div",{staticClass:"leftBoxLLL"},[a("div",{staticClass:"fullHeight flexColumnBox"},[a("div",{staticClass:"notGrow"},[a("div",{staticClass:"titleLLL"},[e._v(e._s(e.titleLeft||e.t("r.added")))]),a("show-hide-panel",[a("search-form",{ref:"leftFormRef",attrs:{"form-data":e.formDataLeft,"form-rules":e.formRulesLeft},on:{"on-search":e.searchLeft}})],1)],1),a("div",{staticClass:"growFlexItem"},[a("bt-table-page",{ref:"lTabRef",attrs:{columns:e.leftTableColumns,url:e.leftTableUrl,"search-data":e.leftTableSearchData,"init-data":Boolean(e.isEmpty(e.constSearchDataLeft)&&e.leftTableUrl),"get-data-loading":"",selection:""},on:{"on-selection-change":e.lSelectionChange}})],1)])]),a("div",{staticClass:"middleBoxLLL"},[a("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"default"},on:{click:e.removeAll}},[e._v(e._s(e.t("r.removeAll"))+" "),a("Icon",{attrs:{type:"ios-arrow-forward"}})],1),a("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"default",disabled:e.deleteDis},on:{click:e.remove}},[e._v(e._s(e.t("r.remove"))+" "),a("Icon",{attrs:{type:"ios-arrow-forward"}})],1),a("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"primary",disabled:e.addDis},on:{click:e.add}},[a("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "+e._s(e.t("r.add")))],1),a("Button",{staticClass:"middleBtLLL",attrs:{size:"large",type:"primary"},on:{click:e.addAll}},[a("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" "+e._s(e.t("r.addAll")))],1)],1),a("div",{staticClass:"rightBoxLLL"},[a("div",{staticClass:"fullHeight flexColumnBox"},[a("div",{staticClass:"notGrow"},[a("div",{staticClass:"titleLLL"},[e._v(e._s(e.titleRight||e.t("r.notAdded")))]),a("show-hide-panel",[a("search-form",{ref:"rightFormRef",attrs:{"form-data":e.formDataRight,"form-rules":e.formRulesRight},on:{"on-search":e.searchRight}})],1)],1),a("div",{staticClass:"growFlexItem"},[a("bt-table-page",{ref:"rTabRef",attrs:{columns:e.rightTableColumns,url:e.rightTableUrl,"search-data":e.rightTableSearchData,"init-data":Boolean(e.isEmpty(e.constSearchDataRight)&&e.rightTableUrl),"get-data-loading":"",selection:""},on:{"on-selection-change":e.rSelectionChange}})],1)])])])},ol=[],nl={name:"transferBox",mixins:[et],props:{titleLeft:{type:String},titleRight:{type:String},formDataLeft:{type:Array,default(){return[]}},formDataRight:{type:Array,default(){return[]}},formRulesLeft:{type:Object,default(){return{}}},formRulesRight:{type:Object,default(){return{}}},constSearchDataLeft:{type:Object,default(){return{}}},constSearchDataRight:{type:Object,default(){return{}}},leftTableColumns:{type:Array,default(){return[]}},rightTableColumns:{type:Array,default(){return[]}},leftTableUrl:{type:String,default:null},rightTableUrl:{type:String,default:null},addUrl:{type:String,default:null},deleteUrl:{type:String,default:null},addAllUrl:{type:String,default:null},deleteAllUrl:{type:String,default:null},addParamsHandle:{type:Function,default:e=>e.map(e=>e.id)},deleteParamsHandle:{type:Function,default:e=>e.map(e=>e.id)},addAllParamsHandle:{type:Function,default:e=>e},deleteAllParamsHandle:{type:Function,default:e=>e},addMethod:{type:String,default:"post"},addAllMethod:{type:String,default:"post"},deleteMethod:{type:String,default:"delete"},deleteAllMethod:{type:String,default:"delete"}},data(){return{searchDataLeft:{},searchDataRight:{},lSelection:[],rSelection:[]}},computed:{leftTableSearchData(){return{...this.constSearchDataLeft,...this.searchDataLeft}},rightTableSearchData(){return{...this.constSearchDataRight,...this.searchDataRight}},deleteDis(){return this.lSelection.length<1},addDis(){return this.rSelection.length<1}},methods:{isEmpty:g.a.isEmpty,reset(){this.$refs.leftFormRef.resetForm(),this.$refs.rightFormRef.resetForm(),g.a.isEmpty(this.searchDataLeft)||(this.searchDataLeft={}),g.a.isEmpty(this.searchDataRight)||(this.searchDataRight={}),this.$refs.lTabRef.clearSelect(),this.$refs.rTabRef.clearSelect()},search(){this.$refs.lTabRef.search(),this.$refs.rTabRef.search()},lSelectionChange(e){this.lSelection=e},rSelectionChange(e){this.rSelection=e},searchLeft(e){this.searchDataLeft=e},searchRight(e){this.searchDataRight=e},add(){this.addUrl&&this.fetchX("add")},remove(){this.deleteUrl&&this.fetchX("delete")},addAll(){this.addAllUrl&&this.addUrl&&this.fetchX("addAll")},removeAll(){this.deleteAllUrl&&this.fetchX("deleteAll")},fetchX(e){let t=this[e+"Method"],a=this[e+"Url"],i={},l="";switch(e){case"add":i=this.addParamsHandle(this.rSelection),l=this.t("r.add");break;case"delete":i=this.deleteParamsHandle(this.lSelection),l=this.t("r.remove");break;case"addAll":i=this.addAllParamsHandle(this.rightTableSearchData),l=this.t("r.addAll");break;case"deleteAll":i=this.deleteAllParamsHandle(this.leftTableSearchData),l=this.t("r.removeAll");break}a&&this.$fetch[t](a,i,null,[],{spin:!0},!1).then(e=>{e&&0===e.code?(this.$swal(l+this.t("r.success"),e&&e.message||"","success"),this.$refs.lTabRef&&this.$refs.lTabRef.getTableData(),this.$refs.rTabRef&&this.$refs.rTabRef.getTableData(),this.$emit("transferred")):this.$swal(l+this.t("r.failed"),e&&e.message||"","error")}).catch(()=>{this.$swal(l+this.t("r.error"),"","error")})}}},dl=nl,cl=h(dl,sl,ol,!1,null,null,null),hl=cl.exports,ul=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",e._g(e._b({staticClass:"fixedFullModalR",attrs:{"mask-closable":!1,styles:{top:e.top},fullscreen:"","footer-hide":"",closable:!1},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},"Modal",e.$attrs,!1),e.$listeners),[a("div",{staticClass:"headerR",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.title))]),a("Icon",{staticClass:"closeIcoR",attrs:{type:"ios-close",size:"40",title:"close"},on:{click:e.close}})],1),e._t("default")],2)},pl=[],fl={name:"fixedFullModal",props:{title:{type:String,default:"标题"},top:{type:String,default:"55px"}},data(){return{isOpen:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1,this.$emit("on-cancel")}}},ml=fl,yl=h(ml,ul,pl,!1,null,null,null),gl=yl.exports,bl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c404K"},[a("div",{staticClass:"t404"},[e._v("404")]),a("div",{staticClass:"ct404"},[e._v("UH OH! "+e._s(e.t("r.pageNotFound")))]),a("div",{staticClass:"p404"},[e._v(e._s(e.t("r.notFoundMsg")))]),a("Button",{staticClass:"bt404",on:{click:e.back}},[e._v(e._s(e.t("r.back")))])],1)},vl=[],wl={name:"page404",mixins:[et],methods:{back(){this.$router.go(-1)}}},kl=wl,xl=h(kl,bl,vl,!1,null,null,null),Sl=xl.exports,Cl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"menuRefRJ",staticClass:"menuBoxRP"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.menuDisplay,expression:"menuDisplay"}],staticClass:"menuListR"},[a("side-menu-group",{attrs:{data:e.data,pathName:e.pathName}})],1),a("Icon",{staticClass:"menuShowHideIco",class:{showIco:!e.menuDisplay},attrs:{type:e.typeIco,size:25,title:e.titleC,color:e.menuDisplay?"#fff":"#333"},on:{click:e.showHideMenu}})],1)},Tl=[],Kl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"groupBoxRP"},e._l(e.data,(function(t,i){return a("li",{key:t.path+i,class:{dropItemRP:t.children}},[a("div",{staticClass:"menuTxtR",class:e.getClass(t),style:{paddingLeft:20*t.level+"px"},on:{click:function(a){return e.handleClick(a,t)}}},[e._v(" "+e._s(t.name||"-- no name --")+" ")]),t.children?a("sideMenuGroup",{attrs:{data:t.children,"path-name":e.pathName}}):e._e()],1)})),0)},Bl=[],Ll={name:"sideMenuGroup",props:{data:{type:Array,default(){return[]}},pathName:{type:String,default:""}},methods:{getClass(e){return e.path===this.pathName?"active":""},handleClick(e,t){e.preventDefault();let a=e.target;if(!t.children&&!a.classList.contains("active"))return void this.$router.push(t.path);let i=a.parentNode,l=this.siblingElems(i);for(let r of l){r.classList.remove("open");const e=r.querySelectorAll(".open");for(let t of e)t.classList.remove("open")}i.classList.toggle("open")}}},$l=Ll,Il=h($l,Kl,Bl,!1,null,null,null),_l=Il.exports,Ol={name:"sideMenu",mixins:[et],components:{SideMenuGroup:_l},props:{data:{type:Array,default(){return[]}}},computed:{titleC(){return this.menuDisplay?this.t("r.hideMenu"):this.t("r.showMenu")},typeIco(){return this.menuDisplay?"ios-arrow-back":"ios-arrow-forward"}},data(){return{menuDisplay:!0,pathName:null}},created(){let e=localStorage.getItem("menuDisplayR");void 0!==e&&null!==e&&""!==e?e=JSON.parse(e):(e=!0,localStorage.setItem("menuDisplayR",JSON.stringify(!0))),this.menuDisplay=e},watch:{$route:{handler(e){this.pathName=e.path,this.$nextTick((function(){this.addOpen()}))},immediate:!0}},methods:{showHideMenu(){this.menuDisplay=!this.menuDisplay,localStorage.setItem("menuDisplayR",JSON.stringify(this.menuDisplay))},addOpen(){let e=this.$refs.menuRefRJ.querySelectorAll(".dropItemRP");for(let t of e)t.querySelector(".active")&&!t.classList.contains("open")&&t.classList.add("open")}}},Al=Ol,Dl=h(Al,Cl,Tl,!1,null,null,null),Rl=Dl.exports,Vl=function(e){const t=(...e)=>E.apply(this,e),a=t("r.closePreview"),i=t("r.fullImg");let l="previewImg"+Math.floor(1e7*Math.random());Oe["Modal"].info({closable:!1,"transition-names":["linear","fade"],render:t=>t("div",{class:"previewModal",attrs:{id:l}},[t("div",{class:"previewModalInner"},[t("img",{attrs:{src:e,alt:i}}),t("Icon",{props:{type:"md-close",size:20},domProps:{title:a},class:"previewModalDelete",on:{click(){Oe["Modal"].remove()}}})])])});let r=setTimeout(()=>{const e=document.getElementById(l).parentNode.parentNode.parentNode.parentNode,t=document.getElementById(l).parentNode.nextSibling;e.style.height="0",e.style.padding="0",t.style.display="none",clearTimeout(r),r=null},10)},Ml=function(e,t,a,i){const l=(...e)=>E.apply(this,e);j.call(this,{title:e||l("r.info.title"),text:t||l("r.info.text"),icon:a||"warning",onOk:i,buttons:[l("r.cancel")]})},Nl=i("e900"),Gl=i.n(Nl),Fl=i("2364"),Pl=i.n(Fl),El=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"loader-div",attrs:{"data-loader":e.dataLoader}})},Xl=[],zl={name:"loaders",props:{dataLoader:{type:String,default:"circle"},show:{type:Boolean,default:!0}}},Hl=zl,jl=(i("9cbc"),h(Hl,El,Xl,!1,null,"4f2693aa",null)),Ul=jl.exports,Wl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"echart-main",style:{width:e.widthT,height:e.heightT}},[a("Button",{directives:[{name:"show",rawName:"v-show",value:e.back,expression:"back"}],staticClass:"hidden",style:e.btnStyle,attrs:{id:"back",type:"primary"},on:{click:e.oback}},[e._v("返回全国")]),a("div",{staticClass:"echart-map",attrs:{id:e.name}})],1)},ql=[];let Jl=["shanghai","hebei","shanxi","neimenggu","liaoning","jilin","heilongjiang","jiangsu","zhejiang","anhui","fujian","jiangxi","shandong","henan","hubei","hunan","guangdong","guangxi","hainan","sichuan","guizhou","yunnan","xizang","shanxi1","gansu","qinghai","ningxia","xinjiang","beijing","tianjin","chongqing","xianggang","aomen"],Yl=["上海","河北","山西","内蒙古","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","北京","天津","重庆","香港","澳门"];var Ql={name:"echartMap",props:{name:{type:String,default:""},btnStyle:Object,scatterTooltip:{type:Function,default:e=>e.data.value[2]},tooltip:{type:Function,default:()=>"随便定义任何内容也是可以的，通过回调函数取"},scatterGeoItemStyle:{type:Function,default:()=>({normal:{color:"#F62157"}})},scatterGeoLabelTextStyle:{type:Function,default:()=>({color:"#fff",fontSize:9})},scatterGeoLabel:{type:Function,default:()=>({normal:{show:!1,formatter:"{b}",position:"right"},emphasis:{show:!0}})},geoItemStyle:{type:Function,default:()=>({normal:{areaColor:"#3c8dbc",borderColor:"#097bba"},emphasis:{areaColor:"#fbd456"}})},scatterGeoShow:{type:Boolean,default:!0},title:{type:Function,default:()=>({show:!1})},mapLabel:{type:Function,default:()=>({normal:{show:!0,textStyle:{color:"#895139"}},emphasis:{show:!0,textStyle:{color:"#323232"}}})},mapItemStyle:{type:Function,default:()=>({normal:{borderWidth:.5,borderColor:"#0550c3",areaColor:"#0b7e9e"},emphasis:{borderWidth:.5,borderColor:"#4b0082",areaColor:"#ece39e"}})},scatterSymbol:{type:String,default:"pin"},maxSize4Pin:{type:Number,default:40},minSize4Pin:{type:Number,default:30},seriesData:{type:Array,default:()=>[]},seriesDataPro:{type:Array,default:()=>[]},inRangeColor:{type:Array,default:()=>[]},visualMapTextStyle:{type:Function,default:()=>({})},visualMapShow:{type:Boolean,default:!1},visualMapOrient:{type:String,default:"horizontal"},visualMapSeriesIndex:{type:Number,default:1},visualMapHeight:{type:Number,default:null},visualMapWidth:{type:Number,default:null},visualMapInverse:{type:Boolean,default:!1},visualMapLeft:{type:String,default:"5%"},visualMapTop:{type:String,default:"95%"},scatterGeoZlevel:{type:Number,default:6},widthT:{type:String,default:"870px"},heightT:{type:String,default:"384px"}},data(){return{mapName:"china",myChart:null,back:!1}},mounted(){this.myChart=Vi.a.init(document.getElementById(this.name));let e=this;if(e.myChart.on("click",t=>{if(t.data&&t.data.provinceKey&&e.seriesDataPro.length){e.back=!0;for(let a=0;a<Yl.length;a++)if(t.name===Yl[a]){e.mapName=Jl[a],e.$emit("on-click-map",Jl[a],Yl[a]),e.initEcharts(Jl[a],Yl[a]);break}}}),void 0===window.echartResizeMJ&&(window.echartResizeMJ={}),!window.echartResizeMJ[e.name]){let t=window.onresize;window.onresize=t?function(){t(),e.myChart.resize(),window.echartResizeMJ[e.name]=!0}:function(){e.myChart.resize(),window.echartResizeMJ[e.name]=!0}}},methods:{initEcharts(e,t){this.loadMap(e,t)},loadMap(e,t){let a="china"===e?this.seriesData:this.seriesDataPro,i=this,l=0,r=0;(i.seriesData||i.seriesDataPro)&&(l=Math.max.apply(Math,a.map((function(e){return e.value}))));let s={title:i.title(),tooltip:{trigger:"item",formatter:e=>i.tooltip(e)},visualMap:{show:i.visualMapShow,min:r,max:l,left:i.visualMapLeft,top:i.visualMapTop,inverse:i.visualMapInverse,itemHeight:i.visualMapHeight,itemWidth:i.visualMapWidth,text:["高","低"],textStyle:i.visualMapTextStyle(),calculable:!1,seriesIndex:i.visualMapSeriesIndex,orient:i.visualMapOrient,inRange:{color:i.inRangeColor}},geo:{show:!0,map:e,roam:!1,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:i.geoItemStyle()},series:[{name:"散点",type:"scatter",coordinateSystem:"geo",data:a,symbolSize:"1",label:i.scatterGeoLabel()},{name:t||e,type:"map",mapType:e,roam:!1,data:a,selectedMode:"single",label:i.mapLabel(),itemStyle:i.mapItemStyle()},{name:"点",type:"scatter",coordinateSystem:"geo",symbol:i.scatterSymbol,symbolSize:e=>{let t=(i.maxSize4Pin-i.minSize4Pin)/(l-r),a=i.maxSize4Pin-t*l;return t*e[2]+a},label:{normal:{show:i.scatterGeoShow,formatter:function(e){return i.scatterTooltip(e)},textStyle:i.scatterGeoLabelTextStyle()}},itemStyle:i.scatterGeoItemStyle(),zlevel:i.scatterGeoZlevel,data:this.convertData(a)}]};i.myChart.setOption(s)},oback(){this.back=!1,this.mapName="china",this.$emit("on-click-map",this.mapName,"中国")},getGeoCoordMap(e){e=e||"china";let t={};this.myChart.showLoading();let a=Vi.a.getMap(e).geoJson.features;return this.myChart.hideLoading(),a.forEach((function(e){let a=e.properties.name;t[a]=e.properties.cp})),t},convertData(e){let t=this.getGeoCoordMap(this.mapName),a=[];for(let i=0;i<e.length;i++){let l=t[e[i].name];l&&a.push({name:e[i].name,value:l.concat(e[i].value)})}return a}}},Zl=Ql,er=(i("f16a"),h(Zl,Wl,ql,!1,null,"0c0e0611",null)),tr=er.exports;const ar={HelloR:p,btTablePage:Ye,wellCard:lt,tableTree:ct,uploadGroup:gt,tableSetting:St,inputMap:It,tableIconBtn:Vt,iconTxtBtn:Et,showHidePanel:Wt,selectInput:ea,asyncCascader:sa,editor:ba,alCascaderMC:Ca,checkboxTree:Ia,checkboxGroupTwoClass:Va,checkboxGroupThreeClass:Ea,fullScreenPop:ei,headerBt:Ja,formR:ni,formModal:fi,customModal:wi,searchForm:Ki,formGroup:Oi,echart:Pi,echartMap:tr,loaders:Ul,showHidePanelB:Ui,tableSearch:Zi,selectScrollMore:rl,transferBox:hl,fixedFullModal:gl,page404:Sl,sideMenu:Rl},ir={fullScreenImgPreview:Vl,toHump:W,htmlEncode:Q,htmlDecode:Z,getFileSrc:ee,getFileTypeByName:te,isImgByFile:ae,getFileTypeIconByName:ie,downloadFileReaderFile:le,fakeALinkClick:re,findPath:ne,getStringWidth:be,emptyInput:Se,stopBubbling:Ke},lr={$swal:j,messageBox:Ae,myTypeof:U,$fetch:Pe,trimObj:J,clearObj:Y,formDataHeadConfig:se,toFormData:oe,oneOf:ce,fullScreenImgByDom:pt,isValidValue:me,isNumberValue:ye,isEmptyValue:ve,tooltipManual:ge,stringLength:we,decimalDigitsLimit:he,downloadFileByFormSubmit:ue,$swalConfirm:Ml,setValByOption:ke,hasPermission:xe,isNaN:Ce,dataFilterOrToUrl:Te,setTimeout:He,setInterval:je,toLine:q,fileExport:pe,getColumnsKeys:fe,removeEmptyValue:Be,findCollection:de,htmlPrint:Le,siblingElems:$e},rr=function(e,t={}){rr.installed||(H.i18n(t.i18n),Pe.init(t.store),Ue.init(t.router),e?(e.use(Gl.a),e.use(Pl.a),Object.keys(ar).forEach(t=>{e.component(t,ar[t])}),Object.keys(lr).forEach(t=>{e.prototype.hasOwnProperty(t)||Object.defineProperty(e.prototype,t,{get(){return lr[t]}})}),void 0===e.directive("has")&&e.directive("has",{bind(t,a){a.value&&!e.prototype.hasPermission(a.value)&&(t.style.display="none")}}),void 0===e.directive("loadmore")&&e.directive("loadmore",{bind(e,t){let a;a=t.arg?e.querySelector("."+t.arg):e.querySelector(".ivu-select-dropdown")||e,a.addEventListener("scroll",(function(){this.scrollTop>0&&this.scrollHeight-this.scrollTop<=this.clientHeight&&t.value()}))}})):console.error("库安装失败，未获取到Vue对象"))};"undefined"!==typeof window&&window.Vue&&rr(window.Vue);var sr={version:Object({NODE_ENV:"production",BASE_URL:""}).VERSION,install:rr,...ar,...lr,...ir};a["default"]=sr}})["default"]}));